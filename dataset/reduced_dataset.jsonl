{"description": "Service orchestration pattern combining parallel scatter-gather execution with content enrichment. Aggregates responses from multiple backend services into unified JSON payload using Synapse expressions for transformation.", "reply": "<api context=\"/orchestrate\" name=\"serviceorchestrationapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><scatter-gather parallel-execution=\"true\" target=\"body\" result-content-type=\"json\"><aggregation expression=\"${payload}\"/><sequence><http.get configkey=\"userserviceconn\"><relativepath>/users/${payload.userid}</relativepath><headers>[]</headers></http.get></sequence><sequence><http.get configkey=\"orderserviceconn\"><relativepath>/orders/${payload.userid}</relativepath><headers>[]</headers></http.get></sequence></scatter-gather><respond/></insequence></resource></api>"}
{"description": "API throttling implementation using throttle mediator to limit request rates per client IP address. Enforces maximum 10 requests per minute with policy configuration and error handling for rate limit exceeded scenarios.", "reply": "<api context=\"/throttled\" name=\"throttledapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\"><insequence><throttle id=\"ratelimitpolicy\"><policy><wsp:policy xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\" xmlns:throttle=\"http://www.wso2.org/products/wso2commons/throttle\"><throttle:throttleassertion><throttle:maximumconcurrentaccess>10</throttle:maximumconcurrentaccess></throttle:throttleassertion></wsp:policy></policy></throttle><http.get configkey=\"backendconn\"><relativepath>/resource</relativepath></http.get><respond/></insequence></resource></api>"}
{"description": "Content enrichment pattern using enrich mediator to merge data from external service into existing payload. Performs HTTP GET to retrieve additional customer details and enriches original message body.", "reply": "<sequence name=\"enrichmentsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"orderid\" expression=\"${payload.orderid}\" type=\"string\"/><http.get configkey=\"customerserviceconn\"><relativepath>/customers/${payload.customerid}</relativepath><headers>[]</headers></http.get><variable name=\"customerdata\" expression=\"${payload}\" type=\"json\"/><payloadfactory media-type=\"json\"><format>{ \"orderid\": \"${vars.orderid}\", \"customer\": ${vars.customerdata} }</format></payloadfactory></sequence>"}
{"description": "Loopback mediator pattern for conditional request routing. Implements decision logic to redirect requests back to API resource start based on authentication status, enabling retry or alternative processing paths.", "reply": "<api context=\"/loopback\" name=\"loopbackapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><filter xpath=\"${exists(headers.authorization)}\"><then><http.post configkey=\"secureserviceconn\"><relativepath>/process</relativepath><headers>[[\"authorization\", \"${headers.authorization}\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></then><else><loopback/></else></filter><respond/></insequence></resource></api>"}
{"description": "Message validation and transformation pipeline using validate mediator with schema validation followed by payloadFactory transformation. Ensures incoming requests conform to XSD schema before processing and converts to canonical format.", "reply": "<sequence name=\"validationpipeline\" xmlns=\"http://ws.apache.org/ns/synapse\"><validate><schema key=\"gov:/schemas/order-schema.xsd\"/><on-fail><payloadfactory media-type=\"json\"><format>{\"error\": \"invalid request format\", \"details\": \"${props.synapse.error_message}\"}</format></payloadfactory><variable name=\"http_sc\" value=\"400\" type=\"string\"/><respond/></on-fail></validate><payloadfactory media-type=\"json\"><format>{ \"orderid\": \"${xpath('//order/id/text()')}', \"amount\": ${xpath('//order/amount/text()')} }</format></payloadfactory></sequence>"}
{"description": "Database lookup integration pattern using dblookup mediator for data enrichment from MySQL database. Queries customer information based on request parameter and injects results into message flow using Synapse expressions.", "reply": "<sequence name=\"dblookupsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><dblookup><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/customerdb</url><user>dbuser</user><password>dbpass123</password></pool></connection><statement><sql>select name, email from customers where id=?</sql><parameter expression=\"${payload.customerid}\" type=\"integer\"/><result name=\"customername\" column=\"name\"/><result name=\"customeremail\" column=\"email\"/></statement></dblookup><payloadfactory media-type=\"json\"><format>{\"name\": \"${vars.customername}\", \"email\": \"${vars.customeremail}\"}</format></payloadfactory></sequence>"}
{"description": "Complex scatter-gather orchestration with conditional aggregation and timeout handling. Executes parallel service calls to inventory, pricing, and shipping services with 5-second timeout and minimum response threshold before aggregation.", "reply": "<api context=\"/product-info\" name=\"productaggregationapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/{productid}\"><insequence><scatter-gather parallel-execution=\"true\" target=\"body\" result-content-type=\"json\"><aggregation expression=\"${payload}\" timeout=\"5000\" min-messages=\"${2}\"/><sequence><http.get configkey=\"inventoryconn\"><relativepath>/stock/${params.pathparams.productid}</relativepath><headers>[]</headers></http.get></sequence><sequence><http.get configkey=\"pricingconn\"><relativepath>/price/${params.pathparams.productid}</relativepath><headers>[]</headers></http.get></sequence><sequence><http.get configkey=\"shippingconn\"><relativepath>/delivery/${params.pathparams.productid}</relativepath><headers>[]</headers></http.get></sequence></scatter-gather><respond/></insequence></resource></api>"}
{"description": "Content-based routing with enrichment and caching using switch mediator for protocol selection. Routes messages to different backend services based on request type, enriches with metadata, and caches frequent responses using Redis connector.", "reply": "<api context=\"/route\" name=\"contentbasedroutingapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><variable name=\"cachekey\" expression=\"${payload.requesttype}\" type=\"string\"/><redis.get configkey=\"rediscache\"><key>${vars.cachekey}</key></redis.get><filter xpath=\"${exists(vars.redis_response)}\"><then><variable name=\"payload\" expression=\"${vars.redis_response}\" type=\"json\"/><respond/></then><else><switch source=\"${payload.requesttype}\"><case regex=\"premium\"><http.post configkey=\"premiumserviceconn\"><relativepath>/process</relativepath><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><default><http.post configkey=\"standardserviceconn\"><relativepath>/process</relativepath><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></default></switch><redis.put configkey=\"rediscache\"><key>${vars.cachekey}</key><value>${payload}</value></redis.put><respond/></else></filter></insequence></resource></api>"}
{"description": "Transaction management pattern using transaction mediator with database operations. Coordinates atomic database insert and update operations with rollback capability on failure using dbreport mediator for order processing workflow.", "reply": "<sequence name=\"transactionsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><transaction action=\"new\"/><dbreport><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/orderdb</url><user>dbuser</user><password>dbpass123</password></pool></connection><statement><sql>insert into orders (id, customer_id, amount) values (?, ?, ?)</sql><parameter expression=\"${payload.orderid}\" type=\"varchar\"/><parameter expression=\"${payload.customerid}\" type=\"integer\"/><parameter expression=\"${payload.amount}\" type=\"double\"/></statement></dbreport><dbreport><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/orderdb</url><user>dbuser</user><password>dbpass123</password></pool></connection><statement><sql>update inventory set quantity=quantity - ? where product_id=?</sql><parameter expression=\"${payload.quantity}\" type=\"integer\"/><parameter expression=\"${payload.productid}\" type=\"varchar\"/></statement></dbreport><transaction action=\"commit\"/></sequence>"}
{"description": "Foreach mediator pattern for batch processing individual array elements. Iterates through order items collection, validates each item, calls pricing service sequentially, and aggregates results into consolidated response payload.", "reply": "<api context=\"/batch\" name=\"batchprocessingapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><variable name=\"results\" value=\"[]\" type=\"json\"/><foreach expression=\"${payload.items}\"><sequence><filter xpath=\"${payload.quantity> 0}\"><then><http.post configkey=\"pricingserviceconn\"><relativepath>/calculate</relativepath><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post><variable name=\"results\" expression=\"${vars.results + payload}\" type=\"json\"/></then></filter></sequence></foreach><payloadfactory media-type=\"json\"><format>{\"processeditems\": ${vars.results}}</format></payloadfactory><respond/></insequence></resource></api>"}
{"description": "Advanced error handling with throwError mediator and custom fault sequence. Validates required fields using filter mediator, throws typed errors with dynamic messages, and handles faults with structured error responses and logging.", "reply": "<api context=\"/validate\" name=\"validationapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><filter xpath=\"${exists(payload.email) and exists(payload.phone)}\"><then><http.post configkey=\"userserviceconn\"><relativepath>/register</relativepath><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post><respond/></then><else><variable name=\"errormsg\" value=\"missing required fields: email or phone\" type=\"string\"/><throwerror type=\"validation_error\" errormessage=\"{${vars.errormsg}}\"/></else></filter></insequence><faultsequence><log category=\"error\"><message>error code: ${props.synapse.error_code}, message: ${props.synapse.error_message}</message></log><payloadfactory media-type=\"json\"><format>{\"error\": \"${props.synapse.error_code}\", \"message\": \"${props.synapse.error_message}\"}</format></payloadfactory><variable name=\"http_sc\" value=\"400\" type=\"string\"/><respond/></faultsequence></resource></api>"}
{"description": "Multi-level content enrichment with sequential HTTP calls and data merging. Retrieves base user profile, enriches with account details, adds transaction history, and constructs comprehensive customer view using payloadFactory with Synapse expressions.", "reply": "<sequence name=\"multienrichmentsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"userid\" expression=\"${payload.userid}\" type=\"string\"/><http.get configkey=\"profileserviceconn\"><relativepath>/profile/${vars.userid}</relativepath><headers>[]</headers></http.get><variable name=\"profile\" expression=\"${payload}\" type=\"json\"/><http.get configkey=\"accountserviceconn\"><relativepath>/account/${vars.userid}</relativepath><headers>[]</headers></http.get><variable name=\"account\" expression=\"${payload}\" type=\"json\"/><http.get configkey=\"transactionserviceconn\"><relativepath>/transactions/${vars.userid}</relativepath><headers>[]</headers></http.get><variable name=\"transactions\" expression=\"${payload}\" type=\"json\"/><payloadfactory media-type=\"json\"><format>{ \"userid\": \"${vars.userid}\", \"profile\": ${vars.profile}, \"account\": ${vars.account}, \"transactions\": ${vars.transactions} }</format></payloadfactory></sequence>"}
{"description": "Smart caching pattern with Redis connector implementing cache-aside strategy. Checks cache first, on miss invokes backend service, stores result in Redis with TTL, and handles cache failures gracefully with fallback logic.", "reply": "<api context=\"/cached\" name=\"smartcacheapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/product/{id}\"><insequence><variable name=\"cachekey\" expression=\"${\"product:\" + params.pathparams.id}\" type=\"string\"/><redis.get configkey=\"rediscache\"><key>${vars.cachekey}</key></redis.get><filter xpath=\"${exists(vars.redis_response)}\"><then><log category=\"info\"><message>cache hit for ${vars.cachekey}</message></log><variable name=\"payload\" expression=\"${vars.redis_response}\" type=\"json\"/><respond/></then><else><log category=\"info\"><message>cache miss for ${vars.cachekey}</message></log><http.get configkey=\"productserviceconn\"><relativepath>/products/${params.pathparams.id}</relativepath><headers>[]</headers></http.get><redis.put configkey=\"rediscache\"><key>${vars.cachekey}</key><value>${payload}</value><ttl>3600</ttl></redis.put><respond/></else></filter></insequence></resource></api>"}
{"description": "Conditional scatter-gather with dynamic service selection based on request attributes. Executes parallel calls only to required services determined by user tier, aggregates results with timeout, and transforms response using filter conditions.", "reply": "<api context=\"/dynamic\" name=\"dynamicorchestrationapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><variable name=\"usertier\" expression=\"${payload.tier}\" type=\"string\"/><scatter-gather parallel-execution=\"true\" target=\"body\" result-content-type=\"json\"><aggregation expression=\"${payload}\" timeout=\"8000\"/><sequence><http.get configkey=\"basicserviceconn\"><relativepath>/data</relativepath><headers>[]</headers></http.get></sequence><sequence><filter xpath=\"${vars.usertier=='premium'}\"><then><http.get configkey=\"premiumserviceconn\"><relativepath>/analytics</relativepath><headers>[]</headers></http.get></then><else><payloadfactory media-type=\"json\"><format>{\"analytics\": null}</format></payloadfactory></else></filter></sequence></scatter-gather><payloadfactory media-type=\"json\"><format>{\"tier\": \"${vars.usertier}\", \"data\": ${payload}}</format></payloadfactory><respond/></insequence></resource></api>"}
{"description": "Enterprise integration pattern combining message routing, transformation, and persistence. Implements content-based router with switch mediator, enriches messages from database lookup, transforms using XSLT, and logs to database using dbreport.", "reply": "<api context=\"/integration\" name=\"enterprisepatternapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><dblookup><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/configdb</url><user>dbuser</user><password>dbpass123</password></pool></connection><statement><sql>select routing_key from config where client_id=?</sql><parameter expression=\"${payload.clientid}\" type=\"varchar\"/><result name=\"routingkey\" column=\"routing_key\"/></statement></dblookup><switch source=\"${vars.routingkey}\"><case regex=\"priority\"><http.post configkey=\"priorityqueueconn\"><relativepath>/enqueue</relativepath><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><default><http.post configkey=\"standardqueueconn\"><relativepath>/enqueue</relativepath><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></default></switch><dbreport><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/auditdb</url><user>dbuser</user><password>dbpass123</password></pool></connection><statement><sql>insert into audit_log (client_id, routing_key, timestamp) values (?, ?, now())</sql><parameter expression=\"${payload.clientid}\" type=\"varchar\"/><parameter expression=\"${vars.routingkey}\" type=\"varchar\"/></statement></dbreport><respond/></insequence></resource></api>"}
{"description": "Filter mediator implementation for content-based routing that validates HTTP method from synapse properties and routes GET requests to a specific sequence while dropping other request types. Uses Synapse Expression for property access.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"methodfiltersequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><filter xpath=\"${props.synapse.rest_method=='get'}\"><then><sequence key=\"getrequestsequence\"/></then><else><drop/></else></filter></sequence>"}
{"description": "Switch mediator configuration for routing messages based on payload category field using Synapse Expressions. Routes to different HTTP endpoints depending on book category value with default fallback endpoint.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"categoryrouter\" xmlns=\"http://ws.apache.org/ns/synapse\"><switch source=\"${payload.book.category}\"><case regex=\"fiction\"><http.get configkey=\"fictionserviceconn\"><relativepath>/books</relativepath><headers>[]</headers></http.get></case><case regex=\"science\"><http.get configkey=\"scienceserviceconn\"><relativepath>/books</relativepath><headers>[]</headers></http.get></case><default><http.get configkey=\"defaultserviceconn\"><relativepath>/books</relativepath><headers>[]</headers></http.get></default></switch></sequence>"}
{"description": "Filter mediator with JSONPath-style filtering using Synapse Expressions to validate product price threshold. Routes items under budget to processing sequence, logs expensive items separately.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"pricefilter\" xmlns=\"http://ws.apache.org/ns/synapse\"><filter xpath=\"${payload.product.price &lt; 100}\"><then><log category=\"info\"><message>affordable product: ${payload.product.name}</message></log><sequence key=\"processordersequence\"/></then><else><log category=\"warn\"><message>expensive product: ${payload.product.price}</message></log></else></filter></sequence>"}
{"description": "Conditional routing based on HTTP Content-Type header evaluation. Filter mediator checks header value and routes JSON requests to REST endpoint, XML requests to SOAP endpoint using HTTP connector.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"contenttyperouter\" xmlns=\"http://ws.apache.org/ns/synapse\"><filter xpath=\"${headers['content-type']=='application/json'}\"><then><http.post configkey=\"restserviceconn\"><relativepath>/api/data</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></then><else><http.post configkey=\"soapserviceconn\"><relativepath>/service</relativepath><headers>[]</headers><requestbodytype>xml</requestbodytype><requestbodyxml>{${xpath('$body/node()')}}</requestbodyxml></http.post></else></filter></sequence>"}
{"description": "Switch mediator implementation for multi-condition routing based on user role variable. Routes admin users to management endpoint, regular users to standard endpoint, guests to public endpoint with authentication headers.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"rolebasedrouter\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"userrole\" expression=\"${payload.user.role}\" type=\"string\"/><switch source=\"${vars.userrole}\"><case regex=\"admin\"><http.post configkey=\"adminserviceconn\"><relativepath>/management</relativepath><headers>[[\"authorization\",\"bearer admin123\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><case regex=\"user\"><http.post configkey=\"userserviceconn\"><relativepath>/standard</relativepath><headers>[[\"authorization\",\"bearer user456\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><default><http.get configkey=\"publicserviceconn\"><relativepath>/public</relativepath><headers>[]</headers></http.get></default></switch></sequence>"}
{"description": "Filter mediator validating array length from payload using Synapse Expression length function. Routes orders with items to fulfillment, rejects empty orders with error logging and throwError mediator.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"ordervalidator\" xmlns=\"http://ws.apache.org/ns/synapse\"><filter xpath=\"${length(payload.order.items) &gt; 0}\"><then><log category=\"info\"><message>valid order with ${length(payload.order.items)} items</message></log><sequence key=\"fulfillmentsequence\"/></then><else><log category=\"error\"><message>empty order rejected</message></log><throwerror type=\"validation_error\" errormessage=\"order must contain at least one item\"/></else></filter></sequence>"}
{"description": "Switch mediator for geographic routing based on country code in payload. Routes North American traffic to US datacenter, European traffic to EU datacenter, Asian traffic to APAC datacenter using region-specific connectors.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"georouter\" xmlns=\"http://ws.apache.org/ns/synapse\"><switch source=\"${payload.customer.country}\"><case regex=\"us|ca|mx\"><http.post configkey=\"usdatacenterconn\"><relativepath>/api/process</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><case regex=\"gb|de|fr|it|es\"><http.post configkey=\"eudatacenterconn\"><relativepath>/api/process</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><case regex=\"cn|jp|in|sg\"><http.post configkey=\"apacdatacenterconn\"><relativepath>/api/process</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><default><throwerror type=\"routing_error\" errormessage=\"unsupported country code\"/></default></switch></sequence>"}
{"description": "Nested filter mediators for multi-level conditional validation. First validates customer type, then checks account status, routes active premium customers to priority processing, others to standard queue.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"customertypevalidator\" xmlns=\"http://ws.apache.org/ns/synapse\"><filter xpath=\"${payload.customer.type=='premium'}\"><then><filter xpath=\"${payload.customer.status=='active'}\"><then><log category=\"info\"><message>premium active customer routed to priority</message></log><http.post configkey=\"priorityqueueconn\"><relativepath>/priority</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></then><else><sequence key=\"standardqueuesequence\"/></else></filter></then><else><sequence key=\"standardqueuesequence\"/></else></filter></sequence>"}
{"description": "Filter mediator using Synapse Expression exists function to validate required field presence. Checks if customer ID exists in payload, processes valid requests, throws validation error for missing data.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"requiredfieldvalidator\" xmlns=\"http://ws.apache.org/ns/synapse\"><filter xpath=\"${exists(payload.customerid)}\"><then><log category=\"info\"><message>processing request for customer ${payload.customerid}</message></log><http.post configkey=\"customerserviceconn\"><relativepath>/customer</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></then><else><throwerror type=\"validation_error\" errormessage=\"customer id is required\"/></else></filter></sequence>"}
{"description": "Switch mediator for payment method routing with ternary operator in Synapse Expression. Routes credit card to payment gateway, PayPal to external API, bank transfer to internal processing based on payment type field.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"paymentrouter\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"paymentmethod\" expression=\"${payload.payment.method}\" type=\"string\"/><switch source=\"${vars.paymentmethod}\"><case regex=\"creditcard\"><http.post configkey=\"paymentgatewayconn\"><relativepath>/process</relativepath><headers>[[\"content-type\",\"application/json\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><case regex=\"paypal\"><http.post configkey=\"paypalapiconn\"><relativepath>/payment</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><case regex=\"banktransfer\"><sequence key=\"banktransfersequence\"/></case><default><throwerror type=\"payment_error\" errormessage=\"invalid payment method\"/></default></switch></sequence>"}
{"description": "Filter mediator with arithmetic comparison in Synapse Expression for inventory threshold validation. Checks stock quantity against minimum level, triggers reorder sequence or normal fulfillment based on availability.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"inventorythresholdvalidator\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"stocklevel\" expression=\"${payload.product.stockquantity}\" type=\"integer\"/><variable name=\"minthreshold\" expression=\"${payload.product.minstock}\" type=\"integer\"/><filter xpath=\"${vars.stocklevel &lt; vars.minthreshold}\"><then><log category=\"warn\"><message>low stock alert: ${vars.stocklevel} units remaining</message></log><sequence key=\"reordersequence\"/></then><else><log category=\"info\"><message>sufficient stock available</message></log><sequence key=\"fulfillmentsequence\"/></else></filter></sequence>"}
{"description": "Switch mediator implementing priority-based message routing using numeric range matching. Routes urgent priority to express queue, high to priority queue, normal to standard queue with corresponding SLA configurations.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"priorityrouter\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"priority\" expression=\"${payload.message.priority}\" type=\"integer\"/><switch source=\"${vars.priority}\"><case regex=\"[9]|[1][0]\"><log category=\"info\"><message>urgent priority: routing to express queue</message></log><http.post configkey=\"expressqueueconn\"><relativepath>/urgent</relativepath><headers>[[\"sla\",\"express\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><case regex=\"[6-8]\"><http.post configkey=\"priorityqueueconn\"><relativepath>/priority</relativepath><headers>[[\"sla\",\"high\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><default><http.post configkey=\"standardqueueconn\"><relativepath>/standard</relativepath><headers>[[\"sla\",\"normal\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></default></switch></sequence>"}
{"description": "Filter mediator with logical AND operation combining multiple conditions in Synapse Expression. Validates age eligibility and account verification status before routing to service, rejects invalid combinations.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"eligibilityvalidator\" xmlns=\"http://ws.apache.org/ns/synapse\"><filter xpath=\"${payload.user.age &gt;=18 and payload.user.verified==true}\"><then><log category=\"info\"><message>user eligible: ${payload.user.id}</message></log><http.post configkey=\"serviceaccessconn\"><relativepath>/access</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></then><else><log category=\"warn\"><message>user not eligible</message></log><throwerror type=\"eligibility_error\" errormessage=\"user must be 18+ and verified\"/></else></filter></sequence>"}
{"description": "Switch mediator for environment-based routing using configuration value from synapse properties. Routes to development, staging, or production endpoints based on deployment environment variable with connection pooling.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"environmentrouter\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"environment\" expression=\"${configs.deployment_env}\" type=\"string\"/><switch source=\"${vars.environment}\"><case regex=\"development\"><http.post configkey=\"devserviceconn\"><relativepath>/api/endpoint</relativepath><headers>[[\"x-environment\",\"dev\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><case regex=\"staging\"><http.post configkey=\"stagingserviceconn\"><relativepath>/api/endpoint</relativepath><headers>[[\"x-environment\",\"stage\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><case regex=\"production\"><http.post configkey=\"prodserviceconn\"><relativepath>/api/endpoint</relativepath><headers>[[\"x-environment\",\"prod\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><default><throwerror type=\"config_error\" errormessage=\"invalid environment configuration\"/></default></switch></sequence>"}
{"description": "Filter mediator using JSONPath-style filtering with Synapse Expression to find qualifying items. Filters products by price range and category, routes matching results to promotional service, empty results to standard catalog.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"productfilter\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"filteredproducts\" expression=\"${payload.products[?(@.price &lt; 50 and @.category=='electronics')]}\" type=\"json\"/><filter xpath=\"${length(vars.filteredproducts) &gt; 0}\"><then><log category=\"info\"><message>found ${length(vars.filteredproducts)} qualifying products</message></log><payloadfactory media-type=\"json\"><format>{\"promotionalitems\": ${vars.filteredproducts}}</format></payloadfactory><http.post configkey=\"promoserviceconn\"><relativepath>/promotion</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></then><else><sequence key=\"standardcatalogsequence\"/></else></filter></sequence>"}
{"description": "Complex switch mediator for order status workflow routing with enrichment. Evaluates order status, enriches with timestamp, routes pending orders to payment, processing to warehouse, completed to archive with status-specific headers.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"orderstatusrouter\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"orderstatus\" expression=\"${payload.order.status}\" type=\"string\"/><variable name=\"timestamp\" expression=\"${now()}\" type=\"string\"/><enrich><source type=\"inline\" clone=\"true\"><timestamp>${vars.timestamp}</timestamp></source><target type=\"property\" property=\"routing_timestamp\"/></enrich><switch source=\"${vars.orderstatus}\"><case regex=\"pending\"><log category=\"info\"><message>routing pending order ${payload.order.id} to payment</message></log><http.post configkey=\"paymentserviceconn\"><relativepath>/process</relativepath><headers>[[\"order-status\",\"pending\"],[\"timestamp\",\"${vars.timestamp}\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><case regex=\"processing\"><http.post configkey=\"warehouseserviceconn\"><relativepath>/fulfill</relativepath><headers>[[\"order-status\",\"processing\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><case regex=\"completed\"><http.post configkey=\"archiveserviceconn\"><relativepath>/archive</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><default><throwerror type=\"status_error\" errormessage=\"invalid order status\"/></default></switch></sequence>"}
{"description": "Filter mediator with type checking using isNumber function in Synapse Expression. Validates numeric transaction amount, converts string to integer if needed, routes valid transactions to processing, rejects invalid formats with error.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"transactionvalidator\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"amount\" expression=\"${payload.transaction.amount}\" type=\"string\"/><filter xpath=\"${isnumber(vars.amount)}\"><then><variable name=\"amountint\" expression=\"${integer(vars.amount)}\" type=\"integer\"/><filter xpath=\"${vars.amountint &gt; 0}\"><then><log category=\"info\"><message>valid transaction amount: ${vars.amountint}</message></log><http.post configkey=\"transactionprocessorconn\"><relativepath>/process</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></then><else><throwerror type=\"amount_error\" errormessage=\"amount must be positive\"/></else></filter></then><else><throwerror type=\"type_error\" errormessage=\"invalid amount format\"/></else></filter></sequence>"}
{"description": "Switch mediator implementing API version routing based on Accept header evaluation. Routes v1 requests to legacy endpoint, v2 to current service, v3 to beta endpoint with version-specific transformations and headers.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"apiversionrouter\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"apiversion\" expression=\"${headers['accept']}\" type=\"string\"/><switch source=\"${vars.apiversion}\"><case regex=\".*v1.*\"><log category=\"info\"><message>routing to legacy v1 api</message></log><http.post configkey=\"legacyapiconn\"><relativepath>/v1/resource</relativepath><headers>[[\"api-version\",\"1.0\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><case regex=\".*v2.*\"><http.post configkey=\"currentapiconn\"><relativepath>/v2/resource</relativepath><headers>[[\"api-version\",\"2.0\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><case regex=\".*v3.*\"><log category=\"warn\"><message>beta api v3 accessed</message></log><http.post configkey=\"betaapiconn\"><relativepath>/v3/resource</relativepath><headers>[[\"api-version\",\"3.0-beta\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><default><throwerror type=\"version_error\" errormessage=\"unsupported api version\"/></default></switch></sequence>"}
{"description": "Filter mediator with complex boolean logic combining OR and AND operations. Validates subscription tier and feature access, routes premium or trial users with specific feature flags to advanced service endpoint, others to basic tier.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"featureaccessvalidator\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"tier\" expression=\"${payload.user.subscription.tier}\" type=\"string\"/><variable name=\"hasfeature\" expression=\"${payload.user.features.advanced}\" type=\"boolean\"/><filter xpath=\"${(vars.tier=='premium' or vars.tier=='trial') and vars.hasfeature==true}\"><then><log category=\"info\"><message>advanced feature access granted for ${payload.user.id}</message></log><http.post configkey=\"advancedserviceconn\"><relativepath>/advanced</relativepath><headers>[[\"subscription-tier\",\"${vars.tier}\"],[\"feature-access\",\"advanced\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></then><else><log category=\"info\"><message>routing to basic tier service</message></log><http.post configkey=\"basicserviceconn\"><relativepath>/basic</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></else></filter></sequence>"}
{"description": "Multi-level switch mediator for complex business rule routing with fallback logic. Primary switch on customer segment, nested switch on transaction type, includes enrichment and variable manipulation for audit trail with dynamic endpoint selection.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"businessrulerouter\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"segment\" expression=\"${payload.customer.segment}\" type=\"string\"/><variable name=\"txntype\" expression=\"${payload.transaction.type}\" type=\"string\"/><variable name=\"auditid\" expression=\"${payload.transaction.id}\" type=\"string\"/><switch source=\"${vars.segment}\"><case regex=\"enterprise\"><switch source=\"${vars.txntype}\"><case regex=\"bulk\"><log category=\"info\"><message>enterprise bulk transaction ${vars.auditid}</message></log><http.post configkey=\"enterprisebulkconn\"><relativepath>/bulk</relativepath><headers>[[\"segment\",\"enterprise\"],[\"audit-id\",\"${vars.auditid}\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><default><http.post configkey=\"enterprisestandardconn\"><relativepath>/standard</relativepath><headers>[[\"segment\",\"enterprise\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></default></switch></case><case regex=\"retail\"><http.post configkey=\"retailserviceconn\"><relativepath>/retail</relativepath><headers>[[\"segment\",\"retail\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><default><throwerror type=\"segment_error\" errormessage=\"unknown customer segment\"/></default></switch></sequence>"}
{"description": "Salesforce connector integration to create a new account record with account name and industry fields using OAuth authentication and storing the created account ID in a variable for downstream processing", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><localentry key=\"salesforceconfig\" xmlns=\"http://ws.apache.org/ns/synapse\"><salesforce.init><name>salesforceconn</name><connectiontype>init</connectiontype><clientid>3mvg9lbjlax8z.8z.8z</clientid><clientsecret>1234567890123456789</clientsecret><accesstoken>00d50000000iz3z!aqwaqh</accesstoken><apiversion>v48.0</apiversion><refreshtoken>5aep861tsesvweug</refreshtoken><apiurl>https://login.salesforce.com</apiurl></salesforce.init></localentry>"}
{"description": "Gmail connector operation to send an email with dynamic recipient, subject, and body content retrieved from payload variables using basic authentication and content-type headers", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/gmail\" name=\"sendemailapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\" uri-template=\"/send\"><insequence><gmail.sendmail configkey=\"gmailconfig\"><to>${payload.recipient}</to><subject>${payload.subject}</subject><messagebody>${payload.body}</messagebody><contenttype>text/html</contenttype></gmail.sendmail><respond/></insequence></resource></api>"}
{"description": "Slack connector integration to post a message to a specific channel using webhook URL with formatted message text and username customization for notification delivery", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/slack\" name=\"slacknotificationapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\" uri-template=\"/notify\"><insequence><slack.postmessage configkey=\"slackconfig\"><channel>#general</channel><text>${payload.message}</text><username>integrationbot</username><iconemoji>:robot_face:</iconemoji></slack.postmessage><respond/></insequence></resource></api>"}
{"description": "AWS S3 connector configuration to upload a file object to a specified bucket with ACL permissions and metadata tags using access key and secret key authentication mechanism", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><localentry key=\"awss3config\" xmlns=\"http://ws.apache.org/ns/synapse\"><amazons3.init><name>s3connection</name><awsaccesskeyid>akiaiosfodnn7example</awsaccesskeyid><awssecretaccesskey>wjalrxutnfemi/k7mdeng/bpxrficyexamplekey</awssecretaccesskey><region>us-east-1</region><connectiontype>amazons3</connectiontype></amazons3.init></localentry>"}
{"description": "File connector operation to read a file from local file system path, process the content, and move the file to an archive directory with timestamp appended to filename", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/file\" name=\"fileprocessingapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/process\"><insequence><file.read configkey=\"fileconfig\"><source>/home/data/input/data.json</source></file.read><variable name=\"filecontent\" expression=\"${payload}\" type=\"string\"/><file.move configkey=\"fileconfig\"><source>/home/data/input/data.json</source><destination>/home/data/archive/data_${now()}.json</destination></file.move><respond/></insequence></resource></api>"}
{"description": "Google Drive connector integration to create a new folder in the root directory with specified folder name and permissions using OAuth2 service account authentication", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/gdrive\" name=\"createfolderapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\" uri-template=\"/folder\"><insequence><googledrive.createfolder configkey=\"gdriveconfig\"><foldername>${payload.foldername}</foldername><parentid>root</parentid></googledrive.createfolder><variable name=\"folderid\" expression=\"${payload.id}\" type=\"string\"/><respond/></insequence></resource></api>"}
{"description": "Salesforce connector query operation to retrieve account records filtered by industry using SOQL query with field selection, result iteration using foreach mediator, and enriching response with transformed data structure for API response", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/salesforce\" name=\"queryaccountsapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/accounts/{industry}\"><insequence><salesforce.query configkey=\"salesforceconfig\"><querystring>select id, name, industry, annualrevenue from account where industry='${params.pathparams.industry}'</querystring></salesforce.query><variable name=\"accountlist\" expression=\"${payload.records}\" type=\"json\"/><payloadfactory media-type=\"json\"><format>{\"totalrecords\":${length(vars.accountlist)},\"accounts\":${vars.accountlist}}</format></payloadfactory><respond/></insequence></resource></api>"}
{"description": "Azure Blob Storage connector operation to download blob content from container with retry mechanism using shared access signature authentication and storing blob metadata in variables for logging purposes", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/azure\" name=\"downloadblobapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/blob/{containername}/{blobname}\"><insequence><azureblob.downloadblob configkey=\"azureblobconfig\"><containername>${params.pathparams.containername}</containername><blobname>${params.pathparams.blobname}</blobname></azureblob.downloadblob><variable name=\"blobcontent\" expression=\"${payload}\" type=\"string\"/><log category=\"info\"><message>downloaded blob: ${params.pathparams.blobname}</message></log><respond/></insequence></resource></api>"}
{"description": "Gmail connector with list messages operation to retrieve emails from inbox with query filters, label filters, and pagination parameters, then process results using filter mediator to extract unread messages", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/gmail\" name=\"listemailsapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/messages\"><insequence><gmail.listmessages configkey=\"gmailconfig\"><query>is:unread</query><labelids>inbox</labelids><maxresults>50</maxresults></gmail.listmessages><variable name=\"messages\" expression=\"${payload.messages}\" type=\"json\"/><filter xpath=\"${length(vars.messages)> 0}\"><then><log category=\"info\"><message>found ${length(vars.messages)} unread messages</message></log></then></filter><respond/></insequence></resource></api>"}
{"description": "Slack connector integration to retrieve channel history messages with timestamp filters and pagination using bot token authentication, then format response payload with message count and channel details", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/slack\" name=\"channelhistoryapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/history/{channelid}\"><insequence><slack.conversationshistory configkey=\"slackconfig\"><channel>${params.pathparams.channelid}</channel><limit>100</limit></slack.conversationshistory><variable name=\"messagelist\" expression=\"${payload.messages}\" type=\"json\"/><payloadfactory media-type=\"json\"><format>{\"channelid\":\"${params.pathparams.channelid}\",\"messagecount\":${length(vars.messagelist)},\"messages\":${vars.messagelist}}</format></payloadfactory><respond/></insequence></resource></api>"}
{"description": "AWS S3 connector to list objects in bucket with prefix filtering and delimiter parameters, iterate through results using foreach mediator, and store object keys in variable array for batch processing", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/s3\" name=\"listobjectsapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/list/{bucketname}\"><insequence><amazons3.listobjects configkey=\"awss3config\"><bucketname>${params.pathparams.bucketname}</bucketname><prefix>data/</prefix><maxkeys>1000</maxkeys></amazons3.listobjects><variable name=\"objectkeys\" expression=\"${payload.contents[*].key}\" type=\"json\"/><log category=\"info\"><message>listed ${length(vars.objectkeys)} objects in bucket</message></log><respond/></insequence></resource></api>"}
{"description": "File connector operation to write dynamic JSON payload content to a file with append mode enabled, create directory if not exists, and set file permissions for secure access control", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/file\" name=\"writefileapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\" uri-template=\"/write\"><insequence><variable name=\"filename\" expression=\"${payload.filename}\" type=\"string\"/><variable name=\"content\" expression=\"${payload.content}\" type=\"string\"/><file.write configkey=\"fileconfig\"><destination>/home/data/output/${vars.filename}</destination><content>${vars.content}</content><appendmode>true</appendmode><createdirectory>true</createdirectory></file.write><log category=\"info\"><message>file written successfully: ${vars.filename}</message></log><respond/></insequence></resource></api>"}
{"description": "Google Drive connector to upload file with multipart form data, set file metadata including title and description, share file with specific email addresses, and return shareable link in response payload", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/gdrive\" name=\"uploadfileapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\" uri-template=\"/upload\"><insequence><googledrive.uploadfile configkey=\"gdriveconfig\"><filename>${payload.filename}</filename><filecontent>${payload.filecontent}</filecontent><mimetype>application/json</mimetype><folderid>${payload.folderid}</folderid></googledrive.uploadfile><variable name=\"fileid\" expression=\"${payload.id}\" type=\"string\"/><googledrive.sharefile configkey=\"gdriveconfig\"><fileid>${vars.fileid}</fileid><emailaddress>${payload.sharewith}</emailaddress><role>reader</role></googledrive.sharefile><respond/></insequence></resource></api>"}
{"description": "Salesforce connector update operation to modify existing account records with new field values using record ID from payload, validate response status, and log success or failure with error handling in fault sequence", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/salesforce\" name=\"updateaccountapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"put\" uri-template=\"/account/{accountid}\"><insequence><salesforce.update configkey=\"salesforceconfig\"><sobjecttype>account</sobjecttype><id>${params.pathparams.accountid}</id><fieldstoupdate>${payload.fields}</fieldstoupdate></salesforce.update><filter xpath=\"${payload.success==true}\"><then><log category=\"info\"><message>account updated successfully: ${params.pathparams.accountid}</message></log></then></filter><respond/></insequence><faultsequence><log category=\"error\"><message>update failed: ${props.synapse.error_message}</message></log><drop/></faultsequence></resource></api>"}
{"description": "Azure Blob Storage connector to upload JSON content to blob with container creation if not exists, set blob metadata tags for classification, and configure public access level with content encoding", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/azure\" name=\"uploadblobapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\" uri-template=\"/upload\"><insequence><variable name=\"containername\" expression=\"${payload.container}\" type=\"string\"/><variable name=\"blobname\" expression=\"${payload.blobname}\" type=\"string\"/><variable name=\"blobcontent\" expression=\"${payload.content}\" type=\"string\"/><azureblob.uploadblob configkey=\"azureblobconfig\"><containername>${vars.containername}</containername><blobname>${vars.blobname}</blobname><blobcontent>${vars.blobcontent}</blobcontent><contenttype>application/json</contenttype></azureblob.uploadblob><log category=\"info\"><message>blob uploaded: ${vars.blobname}</message></log><respond/></insequence></resource></api>"}
{"description": "Slack connector to create a new channel with specified name and description, invite members to channel using user IDs array, post welcome message, and archive old channel using scatter-gather pattern", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/slack\" name=\"managechannelapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\" uri-template=\"/channel/create\"><insequence><slack.createchannel configkey=\"slackconfig\"><channelname>${payload.channelname}</channelname><isprivate>false</isprivate></slack.createchannel><variable name=\"channelid\" expression=\"${payload.channel.id}\" type=\"string\"/><slack.invitetochannel configkey=\"slackconfig\"><channel>${vars.channelid}</channel><users>${payload.userids}</users></slack.invitetochannel><slack.postmessage configkey=\"slackconfig\"><channel>${vars.channelid}</channel><text>welcome to the new channel!</text></slack.postmessage><respond/></insequence></resource></api>"}
{"description": "Gmail connector to retrieve specific email message by ID, extract attachments with size filtering, decode base64 attachment content, and save attachments to file system using file connector with error handling", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/gmail\" name=\"processattachmentsapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/message/{messageid}/attachments\"><insequence><gmail.readmail configkey=\"gmailconfig\"><messageid>${params.pathparams.messageid}</messageid></gmail.readmail><variable name=\"attachments\" expression=\"${payload.attachments}\" type=\"json\"/><foreach expression=\"${vars.attachments}\"><sequence><variable name=\"attachmentdata\" expression=\"${payload.data}\" type=\"string\"/><variable name=\"filename\" expression=\"${payload.filename}\" type=\"string\"/><file.write configkey=\"fileconfig\"><destination>/home/attachments/${vars.filename}</destination><content>${base64decode(vars.attachmentdata)}</content></file.write></sequence></foreach><respond/></insequence><faultsequence><log category=\"error\"><message>attachment processing failed</message></log><drop/></faultsequence></resource></api>"}
{"description": "AWS S3 connector to copy object from source bucket to destination bucket with metadata preservation, delete source object after successful copy, and validate copy operation using conditional filter mediator", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/s3\" name=\"copyobjectapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\" uri-template=\"/copy\"><insequence><amazons3.copyobject configkey=\"awss3config\"><sourcebucketname>${payload.sourcebucket}</sourcebucketname><sourcekey>${payload.sourcekey}</sourcekey><destinationbucketname>${payload.destbucket}</destinationbucketname><destinationkey>${payload.destkey}</destinationkey></amazons3.copyobject><variable name=\"copysuccess\" expression=\"${exists(payload.copyobjectresult)}\" type=\"boolean\"/><filter xpath=\"${vars.copysuccess==true}\"><then><amazons3.deleteobject configkey=\"awss3config\"><bucketname>${payload.sourcebucket}</bucketname><objectkey>${payload.sourcekey}</objectkey></amazons3.deleteobject><log category=\"info\"><message>object copied and source deleted</message></log></then></filter><respond/></insequence></resource></api>"}
{"description": "File connector to monitor directory for new files using polling mechanism, read file content when detected, validate JSON schema using validate mediator, process valid files through HTTP connector to external API, and move processed files", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"filemonitorsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><file.read configkey=\"fileconfig\"><source>/home/data/incoming/data.json</source></file.read><variable name=\"filecontent\" expression=\"${payload}\" type=\"json\"/><filter xpath=\"${exists(vars.filecontent.orderid)}\"><then><http.post configkey=\"orderapiconfig\"><relativepath>/orders</relativepath><headers>[[\"content-type\",\"application/json\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${vars.filecontent}</requestbodyjson></http.post><file.move configkey=\"fileconfig\"><source>/home/data/incoming/data.json</source><destination>/home/data/processed/data_${now()}.json</destination></file.move><log category=\"info\"><message>file processed successfully</message></log></then><else><throwerror type=\"validation_error\" errormessage=\"invalid file format\"/></else></filter></sequence>"}
{"description": "Salesforce connector with bulk API operation to insert multiple records from JSON array payload, monitor bulk job status with polling, retrieve batch results, and aggregate success and failure counts with enrich mediator for reporting", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/salesforce\" name=\"bulkinsertapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\" uri-template=\"/bulk/insert\"><insequence><salesforce.createbulkjob configkey=\"salesforceconfig\"><operation>insert</operation><sobject>account</sobject><contenttype>json</contenttype></salesforce.createbulkjob><variable name=\"jobid\" expression=\"${payload.id}\" type=\"string\"/><salesforce.addbatch configkey=\"salesforceconfig\"><jobid>${vars.jobid}</jobid><records>${payload.records}</records></salesforce.addbatch><variable name=\"batchid\" expression=\"${payload.id}\" type=\"string\"/><salesforce.closebulkjob configkey=\"salesforceconfig\"><jobid>${vars.jobid}</jobid></salesforce.closebulkjob><salesforce.getbatchresults configkey=\"salesforceconfig\"><jobid>${vars.jobid}</jobid><batchid>${vars.batchid}</batchid></salesforce.getbatchresults><payloadfactory media-type=\"json\"><format>{\"jobid\":\"${vars.jobid}\",\"status\":\"${payload.state}\",\"recordsprocessed\":${payload.numberrecordsprocessed}}</format></payloadfactory><respond/></insequence></resource></api>"}
{"description": "Data service configuration exposing MySQL employee database as REST API with GET operation to retrieve employee details by ID using query parameter mapping and JSON output format", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><data name=\"employeedataservice\" servicenamespace=\"http://ws.wso2.org/dataservice\"><config id=\"mysqlconnection\"><property name=\"driverclassname\">com.mysql.jdbc.driver</property><property name=\"url\">jdbc:mysql://localhost:3306/employeedb</property><property name=\"username\">dbuser</property><property name=\"password\">dbpass123</property></config><query id=\"getemployeebyid\" useconfig=\"mysqlconnection\"><sql>select emp_id, emp_name, department, salary from employees where emp_id=?</sql><param name=\"empid\" sqltype=\"integer\"/><result element=\"employee\" rowname=\"record\"><element column=\"emp_id\" name=\"employeeid\" xsdtype=\"integer\"/><element column=\"emp_name\" name=\"name\" xsdtype=\"string\"/><element column=\"department\" name=\"department\" xsdtype=\"string\"/><element column=\"salary\" name=\"salary\" xsdtype=\"double\"/></result></query><operation name=\"getemployee\"><call-query href=\"getemployeebyid\"><with-param name=\"empid\" query-param=\"empid\"/></call-query></operation></data>"}
{"description": "Simple data service exposing CSV file containing product inventory as SOAP service with single query operation to fetch all products with column-to-element mappings", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><data name=\"productinventoryservice\" servicenamespace=\"http://ws.wso2.org/dataservice\"><config id=\"csvdatasource\"><property name=\"csv_datasource\">/home/user/data/products.csv</property><property name=\"csv_columnseperator\">,</property><property name=\"csv_hasheader\">true</property></config><query id=\"getallproducts\" useconfig=\"csvdatasource\"><result element=\"products\" rowname=\"product\"><element column=\"product_id\" name=\"id\" xsdtype=\"string\"/><element column=\"name\" name=\"productname\" xsdtype=\"string\"/><element column=\"stock\" name=\"stockquantity\" xsdtype=\"integer\"/></result></query><operation name=\"listproducts\"><call-query href=\"getallproducts\"/></operation></data>"}
{"description": "Data service with PostgreSQL datasource providing CRUD operations including INSERT employee record with input mappings for name, department, and salary fields using SQL parameters", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><data name=\"employeecrudservice\" servicenamespace=\"http://ws.wso2.org/dataservice\"><config id=\"postgresdb\"><property name=\"driverclassname\">org.postgresql.driver</property><property name=\"url\">jdbc:postgresql://localhost:5432/hrdb</property><property name=\"username\">postgres</property><property name=\"password\">pgpass456</property></config><query id=\"insertemployee\" useconfig=\"postgresdb\"><sql>insert into employees (emp_name, department, salary) values (?, ?, ?)</sql><param name=\"name\" sqltype=\"string\"/><param name=\"dept\" sqltype=\"string\"/><param name=\"sal\" sqltype=\"double\"/></query><operation name=\"addemployee\"><call-query href=\"insertemployee\"><with-param name=\"name\" query-param=\"name\"/><with-param name=\"dept\" query-param=\"dept\"/><with-param name=\"sal\" query-param=\"sal\"/></call-query></operation></data>"}
{"description": "Data service exposing Excel spreadsheet with customer data as REST API including query with filtering by customer status and nested result elements for address information", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><data name=\"customerdataservice\" servicenamespace=\"http://ws.wso2.org/dataservice\"><config id=\"exceldatasource\"><property name=\"excel_datasource\">/home/user/data/customers.xlsx</property></config><query id=\"getactivecustomers\" useconfig=\"exceldatasource\"><excel><workbookname>customers</workbookname><hasheader>true</hasheader><startingrow>2</startingrow><maxrowcount>-1</maxrowcount></excel><result element=\"customers\" rowname=\"customer\"><element column=\"customer_id\" name=\"id\" xsdtype=\"string\"/><element column=\"name\" name=\"customername\" xsdtype=\"string\"/><element column=\"city\" name=\"city\" xsdtype=\"string\"/><element column=\"status\" name=\"status\" xsdtype=\"string\"/></result></query><operation name=\"listactivecustomers\"><call-query href=\"getactivecustomers\"/></operation></data>"}
{"description": "Basic data service configuration with Oracle database connection pool settings exposing single SELECT query to retrieve order summary by order ID with result grouping", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><data name=\"orderservice\" servicenamespace=\"http://ws.wso2.org/dataservice\"><config id=\"oracledb\"><property name=\"driverclassname\">oracle.jdbc.driver.oracledriver</property><property name=\"url\">jdbc:oracle:thin:@localhost:1521:orcl</property><property name=\"username\">orderadmin</property><property name=\"password\">oracle789</property><property name=\"maxactive\">50</property><property name=\"maxidle\">20</property></config><query id=\"getordersummary\" useconfig=\"oracledb\"><sql>select order_id, customer_name, total_amount, order_date from orders where order_id=?</sql><param name=\"orderid\" sqltype=\"integer\"/><result element=\"order\" rowname=\"orderinfo\"><element column=\"order_id\" name=\"orderid\" xsdtype=\"integer\"/><element column=\"customer_name\" name=\"customer\" xsdtype=\"string\"/><element column=\"total_amount\" name=\"total\" xsdtype=\"double\"/></result></query><operation name=\"getorder\"><call-query href=\"getordersummary\"><with-param name=\"orderid\" query-param=\"orderid\"/></call-query></operation></data>"}
{"description": "Data service with SQL Server datasource implementing UPDATE operation to modify product price by product code with input validation and transaction support for data consistency", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><data name=\"productupdateservice\" enablebatchrequests=\"true\" servicenamespace=\"http://ws.wso2.org/dataservice\"><config id=\"sqlserverdb\"><property name=\"driverclassname\">com.microsoft.sqlserver.jdbc.sqlserverdriver</property><property name=\"url\">jdbc:sqlserver://localhost:1433;databasename=productdb</property><property name=\"username\">sqluser</property><property name=\"password\">sqlpass321</property></config><query id=\"updateproductprice\" useconfig=\"sqlserverdb\"><sql>update products set price=?, updated_date=getdate() where product_code=?</sql><param name=\"newprice\" sqltype=\"double\"/><param name=\"productcode\" sqltype=\"string\"/></query><operation name=\"updateprice\"><call-query href=\"updateproductprice\"><with-param name=\"newprice\" query-param=\"price\"/><with-param name=\"productcode\" query-param=\"code\"/></call-query></operation></data>"}
{"description": "Data service exposing Google Sheets spreadsheet as REST API with authentication, retrieving sales data with aggregated columns and custom result formatting for JSON response", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><data name=\"salesreportservice\" servicenamespace=\"http://ws.wso2.org/dataservice\"><config id=\"googlesheetsource\"><property name=\"gspread_datasource\">https://docs.google.com/spreadsheets/d/1abc123/edit</property><property name=\"gspread_visibility\">private</property><property name=\"gspread_clientid\">client123.apps.googleusercontent.com</property><property name=\"gspread_clientsecret\">secretkey456</property></config><query id=\"getmonthlysales\" useconfig=\"googlesheetsource\"><gspread><worksheetnumber>1</worksheetnumber><hasheader>true</hasheader><startingrow>1</startingrow></gspread><result element=\"salesdata\" rowname=\"salesrecord\"><element column=\"month\" name=\"month\" xsdtype=\"string\"/><element column=\"revenue\" name=\"totalrevenue\" xsdtype=\"double\"/><element column=\"units\" name=\"unitssold\" xsdtype=\"integer\"/></result></query><operation name=\"getsalesreport\"><call-query href=\"getmonthlysales\"/></operation></data>"}
{"description": "Data service with MySQL connection implementing DELETE operation to remove inactive users by user ID with cascading deletions and query parameter binding for secure execution", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><data name=\"usermanagementservice\" servicenamespace=\"http://ws.wso2.org/dataservice\"><config id=\"mysqluserdb\"><property name=\"driverclassname\">com.mysql.jdbc.driver</property><property name=\"url\">jdbc:mysql://localhost:3306/userdb</property><property name=\"username\">admin</property><property name=\"password\">adminpass</property></config><query id=\"deleteinactiveuser\" useconfig=\"mysqluserdb\"><sql>delete from users where user_id=? and status='inactive'</sql><param name=\"userid\" sqltype=\"integer\"/></query><operation name=\"removeuser\"><call-query href=\"deleteinactiveuser\"><with-param name=\"userid\" query-param=\"userid\"/></call-query></operation></data>"}
{"description": "Comprehensive data service with multiple operations including batch processing for bulk employee insertion, parameterized queries with optional filters, and complex result mappings with nested elements for department hierarchy", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><data name=\"hrmanagementservice\" enablebatchrequests=\"true\" servicenamespace=\"http://ws.wso2.org/dataservice\"><config id=\"hrdatabase\"><property name=\"driverclassname\">com.mysql.jdbc.driver</property><property name=\"url\">jdbc:mysql://localhost:3306/hrdb</property><property name=\"username\">hruser</property><property name=\"password\">hrpass123</property></config><query id=\"getemployeesbydept\" useconfig=\"hrdatabase\"><sql>select e.emp_id, e.emp_name, e.salary, d.dept_name, d.location from employees e inner join departments d on e.dept_id=d.dept_id where d.dept_name=?</sql><param name=\"department\" sqltype=\"string\"/><result element=\"employees\" rowname=\"employee\"><element column=\"emp_id\" name=\"employeeid\" xsdtype=\"integer\"/><element column=\"emp_name\" name=\"name\" xsdtype=\"string\"/><element column=\"salary\" name=\"salary\" xsdtype=\"double\"/><element column=\"dept_name\" name=\"departmentname\" xsdtype=\"string\"/><element column=\"location\" name=\"location\" xsdtype=\"string\"/></result></query><query id=\"batchinsertemployees\" useconfig=\"hrdatabase\"><sql>insert into employees (emp_name, dept_id, salary, hire_date) values (?, ?, ?, now())</sql><param name=\"name\" sqltype=\"string\"/><param name=\"deptid\" sqltype=\"integer\"/><param name=\"salary\" sqltype=\"double\"/></query><operation name=\"getemployees\"><call-query href=\"getemployeesbydept\"><with-param name=\"department\" query-param=\"dept\"/></call-query></operation><operation name=\"addemployeesbatch\"><call-query href=\"batchinsertemployees\"><with-param name=\"name\" query-param=\"name\"/><with-param name=\"deptid\" query-param=\"deptid\"/><with-param name=\"salary\" query-param=\"salary\"/></call-query></operation></data>"}
{"description": "Data service exposing MongoDB collection as REST API with JSON query operations to retrieve customer documents with filtering, projection, and custom result element mappings for NoSQL data integration", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><data name=\"mongocustomerservice\" servicenamespace=\"http://ws.wso2.org/dataservice\"><config id=\"mongodbsource\"><property name=\"mongodb_servers\">localhost</property><property name=\"mongodb_database\">customerdb</property><property name=\"mongodb_username\">mongouser</property><property name=\"mongodb_password\">mongopass</property></config><query id=\"findcustomersbycity\" useconfig=\"mongodbsource\"><expression>customers.find({\"city\":\"#city\"})</expression><param name=\"city\" sqltype=\"string\"/><result element=\"customers\" rowname=\"customer\"><element column=\"_id\" name=\"customerid\" xsdtype=\"string\"/><element column=\"name\" name=\"customername\" xsdtype=\"string\"/><element column=\"email\" name=\"email\" xsdtype=\"string\"/><element column=\"city\" name=\"city\" xsdtype=\"string\"/></result></query><operation name=\"getcustomersbycity\"><call-query href=\"findcustomersbycity\"><with-param name=\"city\" query-param=\"city\"/></call-query></operation></data>"}
{"description": "Data service with Cassandra keyspace connection implementing CQL query to fetch time-series sensor data with timestamp filtering, result pagination, and column family mappings for IoT data exposure", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><data name=\"sensordataservice\" servicenamespace=\"http://ws.wso2.org/dataservice\"><config id=\"cassandracluster\"><property name=\"cassandraservers\">localhost</property><property name=\"port\">9042</property><property name=\"keyspace\">iot_data</property><property name=\"username\">cassandra</property><property name=\"password\">cassandra</property></config><query id=\"getsensorreadings\" useconfig=\"cassandracluster\"><cql>select sensor_id, timestamp, temperature, humidity from sensor_readings where sensor_id=? and timestamp &gt;=? limit 100</cql><param name=\"sensorid\" sqltype=\"string\"/><param name=\"fromtime\" sqltype=\"timestamp\"/><result element=\"readings\" rowname=\"reading\"><element column=\"sensor_id\" name=\"sensorid\" xsdtype=\"string\"/><element column=\"timestamp\" name=\"timestamp\" xsdtype=\"datetime\"/><element column=\"temperature\" name=\"temperature\" xsdtype=\"double\"/><element column=\"humidity\" name=\"humidity\" xsdtype=\"double\"/></result></query><operation name=\"getsensordata\"><call-query href=\"getsensorreadings\"><with-param name=\"sensorid\" query-param=\"sensorid\"/><with-param name=\"fromtime\" query-param=\"from\"/></call-query></operation></data>"}
{"description": "Advanced data service with stored procedure invocation for complex business logic, input and output parameter mappings, and multiple result sets handling for enterprise database integration", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><data name=\"storedprocservice\" servicenamespace=\"http://ws.wso2.org/dataservice\"><config id=\"enterprisedb\"><property name=\"driverclassname\">com.mysql.jdbc.driver</property><property name=\"url\">jdbc:mysql://localhost:3306/enterprisedb</property><property name=\"username\">dbadmin</property><property name=\"password\">dbadmin123</property></config><query id=\"processorder\" useconfig=\"enterprisedb\"><sql>call process_customer_order(?, ?, ?)</sql><param name=\"customerid\" sqltype=\"integer\" type=\"in\"/><param name=\"orderamount\" sqltype=\"double\" type=\"in\"/><param name=\"orderstatus\" sqltype=\"string\" type=\"out\"/><result element=\"orderresult\" rowname=\"status\"><element column=\"orderstatus\" name=\"status\" xsdtype=\"string\"/></result></query><operation name=\"submitorder\"><call-query href=\"processorder\"><with-param name=\"customerid\" query-param=\"customerid\"/><with-param name=\"orderamount\" query-param=\"amount\"/></call-query></operation></data>"}
{"description": "Data service with JNDI datasource lookup for application server managed connection pooling, implementing query with JOIN operations across multiple tables and grouped result elements", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><data name=\"jndidataservice\" servicenamespace=\"http://ws.wso2.org/dataservice\"><config id=\"jndisource\"><property name=\"jndi_context_class\">com.sun.jndi.rmi.registry.registrycontextfactory</property><property name=\"jndi_provider_url\">rmi://localhost:2199</property><property name=\"jndi_resource_name\">jdbc/appdatasource</property><property name=\"jndi_password\">jndipass</property></config><query id=\"getorderdetails\" useconfig=\"jndisource\"><sql>select o.order_id, o.order_date, c.customer_name, p.product_name, od.quantity from orders o join customers c on o.customer_id=c.customer_id join order_details od on o.order_id=od.order_id join products p on od.product_id=p.product_id where o.order_id=?</sql><param name=\"orderid\" sqltype=\"integer\"/><result element=\"orderdetails\" rowname=\"item\"><element column=\"order_id\" name=\"orderid\" xsdtype=\"integer\"/><element column=\"customer_name\" name=\"customer\" xsdtype=\"string\"/><element column=\"product_name\" name=\"product\" xsdtype=\"string\"/><element column=\"quantity\" name=\"quantity\" xsdtype=\"integer\"/></result></query><operation name=\"getorderinfo\"><call-query href=\"getorderdetails\"><with-param name=\"orderid\" query-param=\"orderid\"/></call-query></operation></data>"}
{"description": "Data service implementing custom validators for input parameters with regex patterns, length constraints, and required field validation before executing database INSERT operations", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><data name=\"validateddataservice\" servicenamespace=\"http://ws.wso2.org/dataservice\"><config id=\"validationdb\"><property name=\"driverclassname\">com.mysql.jdbc.driver</property><property name=\"url\">jdbc:mysql://localhost:3306/appdb</property><property name=\"username\">appuser</property><property name=\"password\">apppass</property></config><query id=\"insertvalidatedrecord\" useconfig=\"validationdb\"><sql>insert into customers (email, phone, age) values (?, ?, ?)</sql><param name=\"email\" sqltype=\"string\"><validatepattern pattern=\"[a-za-z0-9._%+-]+@[a-za-z0-9.-]+\\.[a-za-z]{2,}\"/></param><param name=\"phone\" sqltype=\"string\"><validatelength minimum=\"10\" maximum=\"15\"/></param><param name=\"age\" sqltype=\"integer\"><validaterange minimum=\"18\" maximum=\"120\"/></param></query><operation name=\"addcustomer\"><call-query href=\"insertvalidatedrecord\"><with-param name=\"email\" query-param=\"email\"/><with-param name=\"phone\" query-param=\"phone\"/><with-param name=\"age\" query-param=\"age\"/></call-query></operation></data>"}
{"description": "Data service exposing RDF data store with SPARQL query support for semantic web integration, retrieving linked data with custom prefix mappings and graph pattern matching", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><data name=\"semanticdataservice\" servicenamespace=\"http://ws.wso2.org/dataservice\"><config id=\"rdfstore\"><property name=\"rdf_datasource\">http://localhost:3030/dataset</property><property name=\"rdf_query_endpoint\">/sparql</property></config><query id=\"getresourceinfo\" useconfig=\"rdfstore\"><sparql><![cdata[prefix foaf: <http://xmlns.com/foaf/0.1/> select ?name ?email where { ?person foaf:name ?name . ?person foaf:email ?email . filter(?name=\"#name\") }]]></sparql><param name=\"name\" sqltype=\"string\"/><result element=\"resources\" rowname=\"resource\"><element column=\"name\" name=\"name\" xsdtype=\"string\"/><element column=\"email\" name=\"email\" xsdtype=\"string\"/></result></query><operation name=\"getresourcedata\"><call-query href=\"getresourceinfo\"><with-param name=\"name\" query-param=\"name\"/></call-query></operation></data>"}
{"description": "Data service with distributed SQL query execution across multiple datasources using federated queries, union operations, and result aggregation for cross-database reporting", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><data name=\"federatedqueryservice\" servicenamespace=\"http://ws.wso2.org/dataservice\"><config id=\"db1\"><property name=\"driverclassname\">com.mysql.jdbc.driver</property><property name=\"url\">jdbc:mysql://server1:3306/salesdb</property><property name=\"username\">user1</property><property name=\"password\">pass1</property></config><config id=\"db2\"><property name=\"driverclassname\">org.postgresql.driver</property><property name=\"url\">jdbc:postgresql://server2:5432/inventorydb</property><property name=\"username\">user2</property><property name=\"password\">pass2</property></config><query id=\"getcombinedreport\" useconfig=\"db1\"><sql>select product_id, product_name, sales_count from sales_data union select product_id, product_name, stock_count from inventory_data</sql><result element=\"report\" rowname=\"productdata\"><element column=\"product_id\" name=\"productid\" xsdtype=\"string\"/><element column=\"product_name\" name=\"productname\" xsdtype=\"string\"/><element column=\"sales_count\" name=\"count\" xsdtype=\"integer\"/></result></query><operation name=\"getconsolidatedreport\"><call-query href=\"getcombinedreport\"/></operation></data>"}
{"description": "Data service with box-carring enabled for executing multiple queries in single request, implementing transactional batch operations with rollback support and request box configuration", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><data name=\"batchtransactionservice\" enableboxcarring=\"true\" servicenamespace=\"http://ws.wso2.org/dataservice\"><config id=\"transactionaldb\"><property name=\"driverclassname\">com.mysql.jdbc.driver</property><property name=\"url\">jdbc:mysql://localhost:3306/transdb</property><property name=\"username\">transuser</property><property name=\"password\">transpass</property><property name=\"autocommit\">false</property></config><query id=\"insertaccount\" useconfig=\"transactionaldb\"><sql>insert into accounts (account_no, balance) values (?, ?)</sql><param name=\"accountno\" sqltype=\"string\"/><param name=\"balance\" sqltype=\"double\"/></query><query id=\"updatebalance\" useconfig=\"transactionaldb\"><sql>update accounts set balance=balance+? where account_no=?</sql><param name=\"amount\" sqltype=\"double\"/><param name=\"accountno\" sqltype=\"string\"/></query><operation name=\"addaccount\"><call-query href=\"insertaccount\"><with-param name=\"accountno\" query-param=\"accountno\"/><with-param name=\"balance\" query-param=\"balance\"/></call-query></operation><operation name=\"updateaccountbalance\"><call-query href=\"updatebalance\"><with-param name=\"amount\" query-param=\"amount\"/><with-param name=\"accountno\" query-param=\"accountno\"/></call-query></operation></data>"}
{"description": "Data service with event notification support triggering external webhooks on data changes, implementing query with event triggers for INSERT operations and custom event payload formatting", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><data name=\"eventdrivendataservice\" servicenamespace=\"http://ws.wso2.org/dataservice\"><config id=\"eventdb\"><property name=\"driverclassname\">com.mysql.jdbc.driver</property><property name=\"url\">jdbc:mysql://localhost:3306/eventdb</property><property name=\"username\">eventuser</property><property name=\"password\">eventpass</property></config><query id=\"insertwithnotification\" useconfig=\"eventdb\"><sql>insert into notifications (message, recipient, sent_date) values (?, ?, now())</sql><param name=\"message\" sqltype=\"string\"/><param name=\"recipient\" sqltype=\"string\"/></query><event-trigger id=\"notificationtrigger\" language=\"xpath\"><expression>/notifications/recipient</expression><target-topic>notificationtopic</target-topic><subscriptions><subscription>http://webhook.example.com/notify</subscription></subscriptions></event-trigger><operation name=\"sendnotification\"><call-query href=\"insertwithnotification\"><with-param name=\"message\" query-param=\"message\"/><with-param name=\"recipient\" query-param=\"recipient\"/></call-query></operation></data>"}
{"description": "Database lookup operation using dblookup mediator with MySQL connection pool to retrieve customer details by ID. Uses parameterized SQL query with JDBC driver configuration and result mapping to variables.", "reply": "<dblookup xmlns=\"http://ws.apache.org/ns/synapse\"><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/customerdb</url><user>dbuser</user><password>dbpass123</password><property name=\"maxactive\" value=\"50\"/><property name=\"maxidle\" value=\"10\"/></pool></connection><statement><sql>select name, email, phone from customers where customer_id=?</sql><parameter expression=\"${params.queryparams.customerid}\" type=\"integer\"/><result name=\"customername\" column=\"name\"/><result name=\"customeremail\" column=\"email\"/><result name=\"customerphone\" column=\"phone\"/></statement></dblookup>"}
{"description": "Database report mediator for inserting order records into PostgreSQL database with connection pooling. Implements parameterized insert statement with multiple typed parameters including VARCHAR, INTEGER, and DECIMAL data types.", "reply": "<dbreport xmlns=\"http://ws.apache.org/ns/synapse\"><connection><pool><driver>org.postgresql.driver</driver><url>jdbc:postgresql://localhost:5432/ordersdb</url><user>orderuser</user><password>order@2024</password><property name=\"initialsize\" value=\"5\"/></pool></connection><statement><sql>insert into orders (order_id, customer_id, product_name, quantity, total_amount) values (?, ?, ?, ?, ?)</sql><parameter expression=\"${payload.orderid}\" type=\"varchar\"/><parameter expression=\"${payload.customerid}\" type=\"integer\"/><parameter expression=\"${payload.productname}\" type=\"varchar\"/><parameter expression=\"${payload.quantity}\" type=\"integer\"/><parameter expression=\"${payload.totalamount}\" type=\"decimal\"/></statement></dbreport>"}
{"description": "Simple dblookup mediator configuration for product inventory check using Oracle database. Retrieves stock quantity and warehouse location with single parameter query and basic connection pool settings.", "reply": "<dblookup xmlns=\"http://ws.apache.org/ns/synapse\"><connection><pool><driver>oracle.jdbc.driver.oracledriver</driver><url>jdbc:oracle:thin:@localhost:1521:orcl</url><user>invuser</user><password>inv2024</password></pool></connection><statement><sql>select stock_qty, warehouse from inventory where product_id=?</sql><parameter expression=\"${payload.productid}\" type=\"varchar\"/><result name=\"stockquantity\" column=\"stock_qty\"/><result name=\"warehouselocation\" column=\"warehouse\"/></statement></dblookup>"}
{"description": "Database update operation using dbreport mediator to modify employee salary records in MySQL. Includes WHERE clause with parameterized query for targeted updates and connection pool configuration with timeout properties.", "reply": "<dbreport xmlns=\"http://ws.apache.org/ns/synapse\"><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/hrdb</url><user>hruser</user><password>hrpass456</password><property name=\"maxwait\" value=\"10000\"/><property name=\"testonborrow\" value=\"true\"/></pool></connection><statement><sql>update employees set salary=?, last_updated=now() where employee_id=?</sql><parameter expression=\"${payload.newsalary}\" type=\"decimal\"/><parameter expression=\"${payload.employeeid}\" type=\"integer\"/></statement></dbreport>"}
{"description": "Complex database lookup with multiple result columns using dblookup mediator for retrieving complete user profile including timestamps. Maps DATE and TIMESTAMP columns to variables with JDBC type specifications.", "reply": "<dblookup xmlns=\"http://ws.apache.org/ns/synapse\"><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/userdb</url><user>appuser</user><password>app@secure</password><property name=\"maxactive\" value=\"100\"/></pool></connection><statement><sql>select username, email, registration_date, last_login, status from users where user_id=?</sql><parameter expression=\"${vars.userid}\" type=\"integer\"/><result name=\"username\" column=\"username\"/><result name=\"useremail\" column=\"email\"/><result name=\"regdate\" column=\"registration_date\"/><result name=\"lastlogin\" column=\"last_login\"/><result name=\"accountstatus\" column=\"status\"/></statement></dblookup>"}
{"description": "Batch insert operation using dbreport mediator for logging multiple transaction records. Implements SQL INSERT statement with timestamp parameter of TIMESTAMP type for audit trail in PostgreSQL database.", "reply": "<dbreport xmlns=\"http://ws.apache.org/ns/synapse\"><connection><pool><driver>org.postgresql.driver</driver><url>jdbc:postgresql://localhost:5432/auditdb</url><user>audituser</user><password>audit@log</password></pool></connection><statement><sql>insert into transaction_log (transaction_id, user_id, action, amount, timestamp) values (?, ?, ?, ?, ?)</sql><parameter expression=\"${payload.txnid}\" type=\"varchar\"/><parameter expression=\"${payload.userid}\" type=\"integer\"/><parameter expression=\"${payload.action}\" type=\"varchar\"/><parameter expression=\"${payload.amount}\" type=\"decimal\"/><parameter expression=\"${now()}\" type=\"timestamp\"/></statement></dbreport>"}
{"description": "Database lookup for authentication using dblookup mediator with password verification. Retrieves hashed password and account status from users table with prepared statement and connection pool retry configuration.", "reply": "<dblookup xmlns=\"http://ws.apache.org/ns/synapse\"><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/authdb</url><user>authuser</user><password>authpass789</password><property name=\"maxactive\" value=\"75\"/><property name=\"testwhileidle\" value=\"true\"/></pool></connection><statement><sql>select password_hash, account_status, failed_attempts from users where username=?</sql><parameter expression=\"${payload.username}\" type=\"varchar\"/><result name=\"passwordhash\" column=\"password_hash\"/><result name=\"accountstatus\" column=\"account_status\"/><result name=\"failedattempts\" column=\"failed_attempts\"/></statement></dblookup>"}
{"description": "Delete operation using dbreport mediator to remove expired session records from database. Parameterized DELETE statement with timestamp comparison and connection pool with validation query for MySQL.", "reply": "<dbreport xmlns=\"http://ws.apache.org/ns/synapse\"><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/sessiondb</url><user>sessionuser</user><password>session@clean</password><property name=\"validationquery\" value=\"select 1\"/></pool></connection><statement><sql>delete from sessions where session_id=? and expiry_time &lt; now()</sql><parameter expression=\"${vars.sessionid}\" type=\"varchar\"/></statement></dbreport>"}
{"description": "Multi-parameter database query using dblookup mediator for complex financial report generation. Retrieves aggregated transaction data with date range parameters using BETWEEN clause and multiple column result mapping.", "reply": "<dblookup xmlns=\"http://ws.apache.org/ns/synapse\"><connection><pool><driver>org.postgresql.driver</driver><url>jdbc:postgresql://localhost:5432/financedb</url><user>finuser</user><password>finance$123</password><property name=\"maxactive\" value=\"60\"/></pool></connection><statement><sql>select sum(amount) as total, count(*) as count, avg(amount) as average from transactions where account_id=? and transaction_date between ? and ?</sql><parameter expression=\"${payload.accountid}\" type=\"integer\"/><parameter expression=\"${payload.startdate}\" type=\"date\"/><parameter expression=\"${payload.enddate}\" type=\"date\"/><result name=\"totalamount\" column=\"total\"/><result name=\"transactioncount\" column=\"count\"/><result name=\"averageamount\" column=\"average\"/></statement></dblookup>"}
{"description": "Database insert with dbreport mediator for creating new customer account records. Implements prepared statement with multiple VARCHAR and INTEGER parameters and connection pooling with minimum idle connections.", "reply": "<dbreport xmlns=\"http://ws.apache.org/ns/synapse\"><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/crmdb</url><user>crmuser</user><password>crm@2024</password><property name=\"minidle\" value=\"5\"/><property name=\"maxidle\" value=\"15\"/></pool></connection><statement><sql>insert into customers (first_name, last_name, email, phone, address, city, country) values (?, ?, ?, ?, ?, ?, ?)</sql><parameter expression=\"${payload.firstname}\" type=\"varchar\"/><parameter expression=\"${payload.lastname}\" type=\"varchar\"/><parameter expression=\"${payload.email}\" type=\"varchar\"/><parameter expression=\"${payload.phone}\" type=\"varchar\"/><parameter expression=\"${payload.address}\" type=\"varchar\"/><parameter expression=\"${payload.city}\" type=\"varchar\"/><parameter expression=\"${payload.country}\" type=\"varchar\"/></statement></dbreport>"}
{"description": "Lookup operation for product details retrieval using dblookup with JOIN query. Fetches product information along with category and supplier data using parameterized SQL with result column mapping.", "reply": "<dblookup xmlns=\"http://ws.apache.org/ns/synapse\"><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/catalogdb</url><user>cataloguser</user><password>catalog#456</password></pool></connection><statement><sql>select p.name, p.price, c.category_name, s.supplier_name from products p join categories c on p.category_id=c.id join suppliers s on p.supplier_id=s.id where p.product_id=?</sql><parameter expression=\"${params.pathparams.productid}\" type=\"integer\"/><result name=\"productname\" column=\"name\"/><result name=\"productprice\" column=\"price\"/><result name=\"categoryname\" column=\"category_name\"/><result name=\"suppliername\" column=\"supplier_name\"/></statement></dblookup>"}
{"description": "Update operation with dbreport mediator to increment product view counter in database. Uses parameterized UPDATE with arithmetic operation and connection pool eviction configuration for PostgreSQL.", "reply": "<dbreport xmlns=\"http://ws.apache.org/ns/synapse\"><connection><pool><driver>org.postgresql.driver</driver><url>jdbc:postgresql://localhost:5432/analyticsdb</url><user>analyticsuser</user><password>analytics@789</password><property name=\"timebetweenevictionrunsmillis\" value=\"30000\"/></pool></connection><statement><sql>update product_stats set view_count=view_count + 1, last_viewed=current_timestamp where product_id=?</sql><parameter expression=\"${payload.productid}\" type=\"varchar\"/></statement></dbreport>"}
{"description": "Database lookup with conditional filtering using dblookup mediator for order status retrieval. Implements WHERE clause with multiple conditions and result mapping for order details and shipping information.", "reply": "<dblookup xmlns=\"http://ws.apache.org/ns/synapse\"><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/orderdb</url><user>orderadmin</user><password>order#admin</password><property name=\"maxactive\" value=\"80\"/></pool></connection><statement><sql>select order_status, shipping_address, tracking_number, estimated_delivery from orders where order_id=? and customer_id=?</sql><parameter expression=\"${params.queryparams.orderid}\" type=\"varchar\"/><parameter expression=\"${vars.customerid}\" type=\"integer\"/><result name=\"orderstatus\" column=\"order_status\"/><result name=\"shippingaddress\" column=\"shipping_address\"/><result name=\"trackingnumber\" column=\"tracking_number\"/><result name=\"estimateddelivery\" column=\"estimated_delivery\"/></statement></dblookup>"}
{"description": "Batch update using dbreport mediator for inventory adjustment after order processing. Updates stock quantities with parameterized query and connection pooling with remove abandoned timeout configuration.", "reply": "<dbreport xmlns=\"http://ws.apache.org/ns/synapse\"><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/inventorydb</url><user>invadmin</user><password>inventory$2024</password><property name=\"removeabandonedtimeout\" value=\"300\"/></pool></connection><statement><sql>update inventory set quantity=quantity - ?, last_updated=now() where product_id=? and warehouse_id=?</sql><parameter expression=\"${payload.quantity}\" type=\"integer\"/><parameter expression=\"${payload.productid}\" type=\"varchar\"/><parameter expression=\"${payload.warehouseid}\" type=\"integer\"/></statement></dbreport>"}
{"description": "Complex API integration with database lookup followed by HTTP call. Uses dblookup to retrieve API credentials from configuration table, then invokes external service with enriched payload and error handling.", "reply": "<api context=\"/customer\" name=\"customerlookupapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/{customerid}\"><insequence><dblookup><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/customerdb</url><user>apiuser</user><password>api@pass</password></pool></connection><statement><sql>select name, email, loyalty_points from customers where id=?</sql><parameter expression=\"${params.pathparams.customerid}\" type=\"integer\"/><result name=\"custname\" column=\"name\"/><result name=\"custemail\" column=\"email\"/><result name=\"points\" column=\"loyalty_points\"/></statement></dblookup><payloadfactory media-type=\"json\"><format>{\"name\":\"${vars.custname}\",\"email\":\"${vars.custemail}\",\"points\":${vars.points}}</format></payloadfactory><respond/></insequence></resource></api>"}
{"description": "Transaction processing with multiple database operations using dbreport and dblookup mediators. Validates account balance with lookup, performs debit operation with report, and logs transaction with timestamp parameters.", "reply": "<sequence name=\"transfersequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><dblookup><connection><pool><driver>org.postgresql.driver</driver><url>jdbc:postgresql://localhost:5432/bankdb</url><user>bankuser</user><password>bank@secure</password></pool></connection><statement><sql>select balance from accounts where account_number=?</sql><parameter expression=\"${payload.fromaccount}\" type=\"varchar\"/><result name=\"currentbalance\" column=\"balance\"/></statement></dblookup><dbreport><connection><pool><driver>org.postgresql.driver</driver><url>jdbc:postgresql://localhost:5432/bankdb</url><user>bankuser</user><password>bank@secure</password></pool></connection><statement><sql>update accounts set balance=balance - ? where account_number=?</sql><parameter expression=\"${payload.amount}\" type=\"decimal\"/><parameter expression=\"${payload.fromaccount}\" type=\"varchar\"/></statement></dbreport><respond/></sequence>"}
{"description": "Database query with aggregate functions using dblookup mediator for analytics dashboard. Retrieves sales statistics including sum, count, and average with GROUP BY clause and date range filtering.", "reply": "<dblookup xmlns=\"http://ws.apache.org/ns/synapse\"><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/salesdb</url><user>salesuser</user><password>sales@report</password><property name=\"maxactive\" value=\"100\"/></pool></connection><statement><sql>select region, sum(sale_amount) as total_sales, count(*) as num_transactions, avg(sale_amount) as avg_sale from sales where sale_date between ? and ? group by region</sql><parameter expression=\"${payload.startdate}\" type=\"date\"/><parameter expression=\"${payload.enddate}\" type=\"date\"/><result name=\"salesregion\" column=\"region\"/><result name=\"totalsales\" column=\"total_sales\"/><result name=\"transactioncount\" column=\"num_transactions\"/><result name=\"averagesale\" column=\"avg_sale\"/></statement></dblookup>"}
{"description": "Audit logging system using dbreport mediator with comprehensive parameter types. Inserts audit trail records with user information, action details, IP address, and timestamp for compliance tracking in Oracle database.", "reply": "<dbreport xmlns=\"http://ws.apache.org/ns/synapse\"><connection><pool><driver>oracle.jdbc.driver.oracledriver</driver><url>jdbc:oracle:thin:@localhost:1521:orcl</url><user>audituser</user><password>audit@oracle</password><property name=\"maxactive\" value=\"50\"/><property name=\"maxwait\" value=\"15000\"/></pool></connection><statement><sql>insert into audit_log (user_id, action_type, resource_id, ip_address, user_agent, timestamp, status) values (?, ?, ?, ?, ?, ?, ?)</sql><parameter expression=\"${headers.userid}\" type=\"integer\"/><parameter expression=\"${props.synapse.rest_method}\" type=\"varchar\"/><parameter expression=\"${params.pathparams.resourceid}\" type=\"varchar\"/><parameter expression=\"${headers['x-forwarded-for']}\" type=\"varchar\"/><parameter expression=\"${headers['user-agent']}\" type=\"varchar\"/><parameter expression=\"${now()}\" type=\"timestamp\"/><parameter expression=\"${vars.responsestatus}\" type=\"varchar\"/></statement></dbreport>"}
{"description": "Product search API with database lookup using LIKE operator for partial matching. Implements dblookup with wildcard parameter for name-based product search with category filtering and result limit.", "reply": "<api context=\"/search\" name=\"productsearchapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/products\"><insequence><variable name=\"searchterm\" expression=\"${params.queryparams.q}\" type=\"string\"/><dblookup><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/productdb</url><user>searchuser</user><password>search@123</password></pool></connection><statement><sql>select product_id, name, description, price from products where name like ? limit 20</sql><parameter expression=\"${vars.searchterm}\" type=\"varchar\"/><result name=\"productid\" column=\"product_id\"/><result name=\"productname\" column=\"name\"/><result name=\"description\" column=\"description\"/><result name=\"price\" column=\"price\"/></statement></dblookup><respond/></insequence></resource></api>"}
{"description": "User registration workflow combining validation lookup and insert operations. First checks email uniqueness with dblookup, then creates new user record with dbreport including password hash and registration timestamp.", "reply": "<sequence name=\"userregistration\" xmlns=\"http://ws.apache.org/ns/synapse\"><dblookup><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/userdb</url><user>reguser</user><password>register@pwd</password></pool></connection><statement><sql>select count(*) as cnt from users where email=?</sql><parameter expression=\"${payload.email}\" type=\"varchar\"/><result name=\"emailcount\" column=\"cnt\"/></statement></dblookup><filter xpath=\"${integer(vars.emailcount)==0}\"><then><dbreport><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/userdb</url><user>reguser</user><password>register@pwd</password></pool></connection><statement><sql>insert into users (username, email, password_hash, created_at) values (?, ?, ?, now())</sql><parameter expression=\"${payload.username}\" type=\"varchar\"/><parameter expression=\"${payload.email}\" type=\"varchar\"/><parameter expression=\"${payload.passwordhash}\" type=\"varchar\"/></statement></dbreport></then></filter><respond/></sequence>"}
{"description": "HTTP endpoint configuration with address endpoint type targeting a REST service at localhost port 8280. Uses basic endpoint structure with URI property for GET requests to retrieve user data.", "reply": "<localentry key=\"userserviceendpoint\" xmlns=\"http://ws.apache.org/ns/synapse\"><http.init><connectiontype>http</connectiontype><baseurl>http://localhost:8280/users</baseurl><name>userserviceendpoint</name></http.init></localentry>"}
{"description": "Address endpoint with timeout configuration including response timeout of 30 seconds and connection timeout of 15 seconds. Implements error handling with suspend on failure settings for 3 retries with 5 second intervals.", "reply": "<localentry key=\"paymentserviceendpoint\" xmlns=\"http://ws.apache.org/ns/synapse\"><http.init><connectiontype>https</connectiontype><baseurl>https://api.payment.com/process</baseurl><timeoutduration>30</timeoutduration><timeoutaction>discard</timeoutaction><retryerrorcodes>500,502,503</retryerrorcodes><retrycount>3</retrycount><retrydelay>5</retrydelay><name>paymentserviceendpoint</name></http.init></localentry>"}
{"description": "Failover endpoint configuration with primary and secondary endpoints for high availability. Routes requests to backup endpoint when primary fails, implementing automatic failover pattern with error code detection.", "reply": "<endpoint name=\"failoverendpoint\" xmlns=\"http://ws.apache.org/ns/synapse\"><failover><endpoint><address uri=\"http://primary.service.com/api\"/></endpoint><endpoint><address uri=\"http://secondary.service.com/api\"/></endpoint></failover></endpoint>"}
{"description": "Load balance endpoint with round-robin algorithm distributing traffic across three backend servers. Implements session affinity disabled and equal weight distribution for horizontal scaling of microservices.", "reply": "<endpoint name=\"loadbalanceendpoint\" xmlns=\"http://ws.apache.org/ns/synapse\"><loadbalance algorithm=\"roundrobin\"><endpoint><address uri=\"http://server1.example.com:8080/service\"/></endpoint><endpoint><address uri=\"http://server2.example.com:8080/service\"/></endpoint><endpoint><address uri=\"http://server3.example.com:8080/service\"/></endpoint></loadbalance></endpoint>"}
{"description": "Dynamic endpoint selection using header-based routing with variable mediator extracting target URL from HTTP headers. Implements runtime endpoint resolution for multi-tenant architecture.", "reply": "<sequence name=\"dynamicroutingsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"targetendpoint\" expression=\"${headers.targetservice}\" type=\"string\"/><http.init><connectiontype>http</connectiontype><baseurl>${vars.targetendpoint}</baseurl><name>dynamicendpoint</name></http.init><http.get configkey=\"dynamicendpoint\"><relativepath>/api/data</relativepath></http.get></sequence>"}
{"description": "WSDL endpoint configuration targeting SOAP service with endpoint reference derived from WSDL definition. Includes service and port specification for proper SOAP message addressing.", "reply": "<endpoint name=\"soapserviceendpoint\" xmlns=\"http://ws.apache.org/ns/synapse\"><wsdl uri=\"http://services.example.com/stockquote?wsdl\" service=\"stockquoteservice\" port=\"stockquoteport\"/></endpoint>"}
{"description": "HTTP endpoint with basic authentication credentials configured for secured backend service access. Implements username and password encoding in connection configuration for protected API calls.", "reply": "<localentry key=\"secureapiendpoint\" xmlns=\"http://ws.apache.org/ns/synapse\"><http.init><connectiontype>https</connectiontype><baseurl>https://secure.api.com/v1</baseurl><authtype>basic auth</authtype><basiccredentialsusername>apiuser</basiccredentialsusername><basiccredentialspassword>apip@ssw0rd</basiccredentialspassword><name>secureapiendpoint</name></http.init></localentry>"}
{"description": "Endpoint suspension configuration with progressive delay calculation for circuit breaker pattern. Suspends endpoint after 3 consecutive failures with initial 10 second duration and progression factor of 2.", "reply": "<localentry key=\"circuitbreakerendpoint\" xmlns=\"http://ws.apache.org/ns/synapse\"><http.init><connectiontype>http</connectiontype><baseurl>http://unreliable.service.com/api</baseurl><suspenderrorcodes>500,503,504</suspenderrorcodes><suspendinitialduration>10000</suspendinitialduration><suspendprogressionfactor>2</suspendprogressionfactor><suspendmaximumduration>60000</suspendmaximumduration><name>circuitbreakerendpoint</name></http.init></localentry>"}
{"description": "Recipient list endpoint configuration routing messages to multiple destinations based on dynamic recipient list. Implements scatter-gather pattern with parallel message delivery to configured endpoints.", "reply": "<endpoint name=\"recipientlistendpoint\" xmlns=\"http://ws.apache.org/ns/synapse\"><recipientlist><endpoint><address uri=\"http://recipient1.com/notify\"/></endpoint><endpoint><address uri=\"http://recipient2.com/notify\"/></endpoint><endpoint><address uri=\"http://recipient3.com/notify\"/></endpoint></recipientlist></endpoint>"}
{"description": "Default endpoint configuration serving as fallback when no specific routing conditions match. Acts as catch-all endpoint in content-based routing scenarios with standard timeout settings.", "reply": "<endpoint name=\"defaultbackendendpoint\" xmlns=\"http://ws.apache.org/ns/synapse\"><default><address uri=\"http://default.backend.com/api\"><timeout><duration>45000</duration><responseaction>fault</responseaction></timeout></address></default></endpoint>"}
{"description": "Load balance endpoint with weighted distribution algorithm routing 70% traffic to primary server and 30% to secondary. Implements canary deployment pattern with unequal load distribution.", "reply": "<endpoint name=\"weightedloadbalancer\" xmlns=\"http://ws.apache.org/ns/synapse\"><loadbalance algorithm=\"weightedroundrobin\"><endpoint><address uri=\"http://primary.service.com/api\"><property name=\"loadbalance.weight\" value=\"70\"/></address></endpoint><endpoint><address uri=\"http://canary.service.com/api\"><property name=\"loadbalance.weight\" value=\"30\"/></address></endpoint></loadbalance></endpoint>"}
{"description": "API resource with dynamic endpoint resolution based on query parameter value. Uses filter mediator to route requests to different backend services determined by customer tier level.", "reply": "<api context=\"/customers\" name=\"customerroutingapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/profile\"><insequence><filter xpath=\"${params.queryparams.tier=='premium'}\"><then><http.get configkey=\"premiumserviceendpoint\"><relativepath>/premium/profile</relativepath></http.get></then><else><http.get configkey=\"standardserviceendpoint\"><relativepath>/standard/profile</relativepath></http.get></else></filter><respond/></insequence></resource></api>"}
{"description": "Failover endpoint with retry configuration attempting primary endpoint three times before switching to backup. Implements resilient routing with progressive retry delays and error code matching.", "reply": "<endpoint name=\"resilientfailoverendpoint\" xmlns=\"http://ws.apache.org/ns/synapse\"><failover><endpoint><address uri=\"http://primary.api.com/service\"><timeout><duration>20000</duration><responseaction>fault</responseaction></timeout><suspendonfailure><errorcodes>500,502,503</errorcodes><initialduration>15000</initialduration><progressionfactor>1.5</progressionfactor><maximumduration>60000</maximumduration></suspendonfailure><markforsuspension><retriesbeforesuspension>3</retriesbeforesuspension><retrydelay>2000</retrydelay></markforsuspension></address></endpoint><endpoint><address uri=\"http://backup.api.com/service\"/></endpoint></failover></endpoint>"}
{"description": "Content-based routing with switch mediator evaluating payload field to select appropriate backend endpoint. Routes order processing requests to different services based on order type value.", "reply": "<sequence name=\"orderroutingsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><switch source=\"${payload.ordertype}\"><case regex=\"express\"><http.post configkey=\"expressorderendpoint\"><relativepath>/orders/express</relativepath><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><case regex=\"standard\"><http.post configkey=\"standardorderendpoint\"><relativepath>/orders/standard</relativepath><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><default><http.post configkey=\"defaultorderendpoint\"><relativepath>/orders</relativepath><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></default></switch><respond/></sequence>"}
{"description": "Template endpoint pattern with parameterized URI construction using variable mediator. Implements reusable endpoint configuration accepting dynamic path segments for multi-resource API access.", "reply": "<sequence name=\"templateendpointsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"resourceid\" expression=\"${payload.id}\" type=\"string\"/><variable name=\"resourcetype\" expression=\"${payload.type}\" type=\"string\"/><http.get configkey=\"resourceapiendpoint\"><relativepath>/${vars.resourcetype}/${vars.resourceid}</relativepath><headers>[[\"accept\",\"application/json\"]]</headers></http.get><respond/></sequence>"}
{"description": "Load balance endpoint with session affinity enabled using client IP-based sticky sessions. Routes subsequent requests from same client to consistent backend server for stateful application support.", "reply": "<endpoint name=\"sessionaffinityloadbalancer\" xmlns=\"http://ws.apache.org/ns/synapse\"><session type=\"simpleclientsession\"/><loadbalance algorithm=\"roundrobin\"><endpoint><address uri=\"http://app-server1.com:8080/webapp\"/></endpoint><endpoint><address uri=\"http://app-server2.com:8080/webapp\"/></endpoint><endpoint><address uri=\"http://app-server3.com:8080/webapp\"/></endpoint></loadbalance></endpoint>"}
{"description": "Endpoint with comprehensive timeout and error handling configuration including connection timeout, socket timeout, and HTTP status code-based suspension. Implements complete resilience pattern with retry logic.", "reply": "<localentry key=\"resilientserviceendpoint\" xmlns=\"http://ws.apache.org/ns/synapse\"><http.init><connectiontype>https</connectiontype><baseurl>https://critical.service.com/api</baseurl><timeoutduration>25</timeoutduration><timeoutaction>fault</timeoutaction><retryerrorcodes>408,429,500,502,503,504</retryerrorcodes><retrycount>5</retrycount><retrydelay>3</retrydelay><suspenderrorcodes>500,503</suspenderrorcodes><suspendinitialduration>20000</suspendinitialduration><suspendprogressionfactor>2</suspendprogressionfactor><suspendmaximumduration>120000</suspendmaximumduration><name>resilientserviceendpoint</name></http.init></localentry>"}
{"description": "Header-based dynamic routing implementation extracting service version from custom HTTP header and constructing versioned endpoint URL. Supports API versioning strategy with backward compatibility.", "reply": "<api context=\"/products\" name=\"versionedproductapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/{productid}\"><insequence><variable name=\"apiversion\" expression=\"${headers['api-version']}\" type=\"string\"/><variable name=\"productid\" expression=\"${params.pathparams.productid}\" type=\"string\"/><http.get configkey=\"productserviceendpoint\"><relativepath>/${vars.apiversion}/products/${vars.productid}</relativepath><headers>[[\"content-type\",\"application/json\"]]</headers></http.get><respond/></insequence></resource></api>"}
{"description": "Scatter-gather pattern with recipient list endpoint aggregating responses from multiple microservices. Executes parallel calls to inventory, pricing, and availability services with response aggregation logic.", "reply": "<sequence name=\"productdetailsaggregation\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"productid\" expression=\"${params.queryparams.productid}\" type=\"string\"/><scatter-gather parallel-execution=\"true\" target=\"body\" result-content-type=\"json\"><aggregation expression=\"${payload}\"/><sequence><http.get configkey=\"inventoryserviceendpoint\"><relativepath>/inventory/${vars.productid}</relativepath></http.get></sequence><sequence><http.get configkey=\"pricingserviceendpoint\"><relativepath>/pricing/${vars.productid}</relativepath></http.get></sequence><sequence><http.get configkey=\"availabilityserviceendpoint\"><relativepath>/availability/${vars.productid}</relativepath></http.get></sequence></scatter-gather><respond/></sequence>"}
{"description": "Complex failover configuration with health check endpoint and automatic recovery. Implements active health monitoring with periodic checks, suspension on consecutive failures, and gradual traffic restoration upon recovery.", "reply": "<endpoint name=\"healthcheckfailoverendpoint\" xmlns=\"http://ws.apache.org/ns/synapse\"><failover><endpoint><address uri=\"http://service-primary.cloud.com/api\"><timeout><duration>30000</duration><responseaction>fault</responseaction></timeout><suspendonfailure><errorcodes>-1,101500,101501,101503,101504,101505,101506,101507,101508,500,502,503</errorcodes><initialduration>30000</initialduration><progressionfactor>1.0</progressionfactor><maximumduration>300000</maximumduration></suspendonfailure><markforsuspension><retriesbeforesuspension>2</retriesbeforesuspension><retrydelay>1000</retrydelay></markforsuspension></address></endpoint><endpoint><address uri=\"http://service-backup.cloud.com/api\"><timeout><duration>30000</duration></timeout></address></endpoint></failover></endpoint>"}
{"description": "API fault sequence that logs error details using synapse properties and responds with a 500 status code. Uses log mediator with ERROR category to capture error code and message, followed by payloadFactory to construct JSON error response with timestamp.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/healthcare\" name=\"healthcareapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/doctor/{category}\"><insequence><respond/></insequence><faultsequence><log category=\"error\"><message>error occurred: ${props.synapse.error_code} - ${props.synapse.error_message}</message></log><payloadfactory media-type=\"json\"><format>{\"error\":\"${props.synapse.error_message}\",\"code\":\"${props.synapse.error_code}\",\"timestamp\":${now()}}</format></payloadfactory><header name=\"http_sc\" value=\"500\" scope=\"axis2\"/><respond/></faultsequence></resource></api>"}
{"description": "ThrowError mediator implementation that validates required payload fields and throws PAYLOAD_ERROR with custom message. Uses filter mediator to check field existence, throws error if validation fails, otherwise processes request normally.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/order\" name=\"orderapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><filter xpath=\"${exists(payload.customerid) and exists(payload.amount)}\"><then><respond/></then><else><throwerror type=\"payload_error\" errormessage=\"required fields customerid and amount are missing\"/></else></filter></insequence><faultsequence><log category=\"error\"><message>validation failed: ${props.synapse.error_message}</message></log><header name=\"http_sc\" value=\"400\" scope=\"axis2\"/><respond/></faultsequence></resource></api>"}
{"description": "Custom fault sequence with error categorization logic. Uses switch mediator on ERROR_CODE to return different HTTP status codes: 401 for authentication errors, 404 for not found, 503 for timeout, and 500 for generic errors.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"customerrorhandler\" xmlns=\"http://ws.apache.org/ns/synapse\"><switch source=\"${props.synapse.error_code}\"><case regex=\"401.*\"><header name=\"http_sc\" value=\"401\" scope=\"axis2\"/><payloadfactory media-type=\"json\"><format>{\"error\":\"unauthorized\",\"message\":\"${props.synapse.error_message}\"}</format></payloadfactory></case><case regex=\"404.*\"><header name=\"http_sc\" value=\"404\" scope=\"axis2\"/><payloadfactory media-type=\"json\"><format>{\"error\":\"not found\",\"message\":\"resource not available\"}</format></payloadfactory></case><case regex=\".*timeout.*\"><header name=\"http_sc\" value=\"503\" scope=\"axis2\"/><payloadfactory media-type=\"json\"><format>{\"error\":\"service unavailable\",\"message\":\"backend timeout\"}</format></payloadfactory></case><default><header name=\"http_sc\" value=\"500\" scope=\"axis2\"/><payloadfactory media-type=\"json\"><format>{\"error\":\"internal error\",\"code\":\"${props.synapse.error_code}\"}</format></payloadfactory></default></switch><respond/></sequence>"}
{"description": "Sequence with custom fault handler that stores error details in variables and constructs detailed error response. Captures error code, message, detail, and exception using synapse properties, then formats comprehensive JSON response.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"processorder\" onerror=\"orderfaulthandler\" xmlns=\"http://ws.apache.org/ns/synapse\"><log category=\"info\"><message>processing order</message></log><respond/></sequence><sequence name=\"orderfaulthandler\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"errorcode\" type=\"string\" expression=\"${props.synapse.error_code}\"/><variable name=\"errormsg\" type=\"string\" expression=\"${props.synapse.error_message}\"/><variable name=\"errordetail\" type=\"string\" expression=\"${props.synapse.error_detail}\"/><payloadfactory media-type=\"json\"><format>{\"status\":\"failed\",\"errorcode\":\"${vars.errorcode}\",\"errormessage\":\"${vars.errormsg}\",\"errordetail\":\"${vars.errordetail}\",\"timestamp\":\"${formatdatetime(now(),\"yyyy-mm-dd't'hh:mm:ss\")}\"}</format></payloadfactory><header name=\"http_sc\" value=\"500\" scope=\"axis2\"/><respond/></sequence>"}
{"description": "Fault sequence implementing retry logic with scatter-gather error recovery. Attempts primary service call, falls back to secondary endpoint on failure, logs all attempts, and returns appropriate error if all endpoints fail.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/payment\" name=\"paymentapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><variable name=\"attempt\" type=\"integer\" value=\"1\"/><http.post configkey=\"primarypaymentservice\"><relativepath>/process</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post><respond/></insequence><faultsequence><log category=\"warn\"><message>primary service failed, attempting fallback</message></log><filter xpath=\"${vars.attempt &lt; 2}\"><then><variable name=\"attempt\" type=\"integer\" value=\"2\"/><http.post configkey=\"secondarypaymentservice\"><relativepath>/process</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></then><else><payloadfactory media-type=\"json\"><format>{\"error\":\"all payment services unavailable\",\"code\":\"service_down\"}</format></payloadfactory><header name=\"http_sc\" value=\"503\" scope=\"axis2\"/></else></filter><respond/></faultsequence></resource></api>"}
{"description": "Simple fault sequence with basic error logging and generic error response. Logs error at ERROR level and returns standardized 500 error with minimal details for security.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"basicfaulthandler\" xmlns=\"http://ws.apache.org/ns/synapse\"><log category=\"error\"><message>error: ${props.synapse.error_message}</message></log><payloadfactory media-type=\"json\"><format>{\"error\":\"internal server error occurred\"}</format></payloadfactory><header name=\"http_sc\" value=\"500\" scope=\"axis2\"/><respond/></sequence>"}
{"description": "ThrowError mediator with dynamic error message construction using variables. Validates minimum order amount, constructs error message with actual and required amounts, throws VALIDATION_ERROR if check fails.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/validate\" name=\"validateapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><variable name=\"minamount\" type=\"integer\" value=\"100\"/><filter xpath=\"${payload.amount &lt; vars.minamount}\"><then><variable name=\"errormsg\" type=\"string\" expression=\"${concat('order amount ',string(payload.amount),' is below minimum ',string(vars.minamount))}\"/><throwerror type=\"validation_error\" errormessage=\"{${vars.errormsg}}\"/></then><else><respond/></else></filter></insequence><faultsequence><header name=\"http_sc\" value=\"400\" scope=\"axis2\"/><respond/></faultsequence></resource></api>"}
{"description": "Fault handler that differentiates between client and server errors using ERROR_CODE patterns. Returns 4xx for client errors with detailed messages, 5xx for server errors with minimal information to avoid exposure.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"smarterrorhandler\" xmlns=\"http://ws.apache.org/ns/synapse\"><filter xpath=\"${startswith(props.synapse.error_code,'4')}\"><then><payloadfactory media-type=\"json\"><format>{\"error\":\"client error\",\"message\":\"${props.synapse.error_message}\",\"code\":\"${props.synapse.error_code}\"}</format></payloadfactory><header name=\"http_sc\" expression=\"${props.synapse.error_code}\" scope=\"axis2\"/></then><else><payloadfactory media-type=\"json\"><format>{\"error\":\"server error\",\"message\":\"an internal error occurred\"}</format></payloadfactory><header name=\"http_sc\" value=\"500\" scope=\"axis2\"/></else></filter><respond/></sequence>"}
{"description": "Database error handling with specific fault sequence. Uses dblookup mediator, catches SQL exceptions in fault handler, logs database errors separately, returns 503 status indicating service unavailability.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/customer\" name=\"customerapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/{id}\"><insequence><dblookup><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/customerdb</url><user>dbuser</user><password>dbpass123</password></pool></connection><statement><sql>select * from customers where id=?</sql><parameter expression=\"${params.pathparams.id}\" type=\"integer\"/><result name=\"customer_data\" column=\"data\"/></statement></dblookup><respond/></insequence><faultsequence><log category=\"error\"><message>database error: ${props.synapse.error_message}</message></log><payloadfactory media-type=\"json\"><format>{\"error\":\"database service unavailable\",\"details\":\"unable to retrieve customer data\"}</format></payloadfactory><header name=\"http_sc\" value=\"503\" scope=\"axis2\"/><respond/></faultsequence></resource></api>"}
{"description": "Comprehensive error handling with error notification sequence. Captures all error properties, sends error notification to monitoring endpoint, logs complete error context, constructs user-friendly response.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/transaction\" name=\"transactionapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><respond/></insequence><faultsequence><variable name=\"errorcode\" type=\"string\" expression=\"${props.synapse.error_code}\"/><variable name=\"errormsg\" type=\"string\" expression=\"${props.synapse.error_message}\"/><variable name=\"errordetail\" type=\"string\" expression=\"${props.synapse.error_detail}\"/><variable name=\"requestid\" type=\"string\" expression=\"${headers['x-request-id']}\"/><log category=\"error\"><message>transaction failed - requestid: ${vars.requestid}, code: ${vars.errorcode}, message: ${vars.errormsg}</message></log><payloadfactory media-type=\"json\"><format>{\"service\":\"monitoring\",\"errorcode\":\"${vars.errorcode}\",\"errormessage\":\"${vars.errormsg}\",\"requestid\":\"${vars.requestid}\",\"timestamp\":${now()}}</format></payloadfactory><http.post configkey=\"monitoringservice\"><relativepath>/errors</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post><payloadfactory media-type=\"json\"><format>{\"status\":\"error\",\"requestid\":\"${vars.requestid}\",\"message\":\"transaction processing failed\"}</format></payloadfactory><header name=\"http_sc\" value=\"500\" scope=\"axis2\"/><respond/></faultsequence></resource></api>"}
{"description": "Fault sequence with conditional error response based on environment. Uses configs to determine environment, returns detailed errors in development, sanitized errors in production for security.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"environmentawarefaulthandler\" xmlns=\"http://ws.apache.org/ns/synapse\"><filter xpath=\"${configs.environment=='production'}\"><then><payloadfactory media-type=\"json\"><format>{\"error\":\"an error occurred\",\"requestid\":\"${headers['x-request-id']}\"}</format></payloadfactory></then><else><payloadfactory media-type=\"json\"><format>{\"error\":\"${props.synapse.error_message}\",\"code\":\"${props.synapse.error_code}\",\"detail\":\"${props.synapse.error_detail}\",\"exception\":\"${props.synapse.error_exception}\"}</format></payloadfactory></else></filter><log category=\"error\"><message>error in ${configs.environment}: ${props.synapse.error_code}</message></log><header name=\"http_sc\" value=\"500\" scope=\"axis2\"/><respond/></sequence>"}
{"description": "Multi-level validation with throwError for different validation failures. Checks multiple required fields sequentially, throws specific VALIDATION_ERROR for each missing field with descriptive messages.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/registration\" name=\"registrationapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><filter xpath=\"${not(exists(payload.email))}\"><then><throwerror type=\"validation_error\" errormessage=\"email field is required\"/></then></filter><filter xpath=\"${not(exists(payload.username))}\"><then><throwerror type=\"validation_error\" errormessage=\"username field is required\"/></then></filter><filter xpath=\"${not(exists(payload.password))}\"><then><throwerror type=\"validation_error\" errormessage=\"password field is required\"/></then></filter><respond/></insequence><faultsequence><payloadfactory media-type=\"json\"><format>{\"status\":\"validation_failed\",\"error\":\"${props.synapse.error_message}\"}</format></payloadfactory><header name=\"http_sc\" value=\"400\" scope=\"axis2\"/><respond/></faultsequence></resource></api>"}
{"description": "Error handling with circuit breaker pattern. Tracks consecutive failures in variable, opens circuit after threshold, returns cached response or error during cooldown period, resets on success.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/product\" name=\"productapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/{id}\"><insequence><variable name=\"failurecount\" type=\"integer\" value=\"0\"/><filter xpath=\"${vars.failurecount &gt;=3}\"><then><payloadfactory media-type=\"json\"><format>{\"error\":\"circuit breaker open\",\"message\":\"service temporarily unavailable\"}</format></payloadfactory><header name=\"http_sc\" value=\"503\" scope=\"axis2\"/><respond/></then><else><http.get configkey=\"productservice\"><relativepath>/products/${params.pathparams.id}</relativepath><headers>[]</headers></http.get><variable name=\"failurecount\" type=\"integer\" value=\"0\"/><respond/></else></filter></insequence><faultsequence><variable name=\"failurecount\" type=\"integer\" expression=\"${vars.failurecount + 1}\"/><log category=\"warn\"><message>service failure count: ${vars.failurecount}</message></log><payloadfactory media-type=\"json\"><format>{\"error\":\"service unavailable\",\"retryafter\":60}</format></payloadfactory><header name=\"http_sc\" value=\"503\" scope=\"axis2\"/><respond/></faultsequence></resource></api>"}
{"description": "Fault handler with correlation ID tracking for distributed tracing. Extracts or generates correlation ID, includes in all log statements, adds to error response headers for request tracking across services.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/booking\" name=\"bookingapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><variable name=\"correlationid\" type=\"string\" expression=\"${headers['x-correlation-id'] !=null ? headers['x-correlation-id'] : concat('req-',string(now()))}\"/><header name=\"x-correlation-id\" expression=\"${vars.correlationid}\" scope=\"transport\"/><respond/></insequence><faultsequence><log category=\"error\"><message>booking failed - correlationid: ${vars.correlationid}, error: ${props.synapse.error_code} - ${props.synapse.error_message}</message></log><payloadfactory media-type=\"json\"><format>{\"status\":\"error\",\"correlationid\":\"${vars.correlationid}\",\"error\":\"booking service encountered an error\",\"timestamp\":${now()}}</format></payloadfactory><header name=\"x-correlation-id\" expression=\"${vars.correlationid}\" scope=\"transport\"/><header name=\"http_sc\" value=\"500\" scope=\"axis2\"/><respond/></faultsequence></resource></api>"}
{"description": "Error handling with enriched response using enrich mediator. Preserves original request payload in fault sequence, includes it in error response for debugging, adds error metadata from synapse properties.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/process\" name=\"processapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><variable name=\"originalpayload\" type=\"json\" expression=\"${payload}\"/><respond/></insequence><faultsequence><payloadfactory media-type=\"json\"><format>{\"error\":{\"code\":\"${props.synapse.error_code}\",\"message\":\"${props.synapse.error_message}\"},\"originalrequest\":${vars.originalpayload},\"timestamp\":${now()}}</format></payloadfactory><log category=\"error\"><message>processing failed for request: ${vars.originalpayload}</message></log><header name=\"http_sc\" value=\"500\" scope=\"axis2\"/><respond/></faultsequence></resource></api>"}
{"description": "Simple throwError implementation for timeout scenarios. Checks response time variable, throws SERVICE_TIMEOUT error if threshold exceeded, includes timeout duration in error message.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"timeoutchecker\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"timeoutthreshold\" type=\"integer\" value=\"5000\"/><variable name=\"responsetime\" type=\"integer\" value=\"6000\"/><filter xpath=\"${vars.responsetime &gt; vars.timeoutthreshold}\"><then><throwerror type=\"service_timeout\" errormessage=\"request exceeded timeout threshold of 5000ms\"/></then></filter></sequence>"}
{"description": "Fault sequence with error aggregation for batch operations. Collects multiple error details, constructs array of failed items with reasons, returns 207 Multi-Status with partial success information.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/batch\" name=\"batchapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><variable name=\"faileditems\" type=\"json\" value=\"[]\"/><variable name=\"successcount\" type=\"integer\" value=\"0\"/><respond/></insequence><faultsequence><log category=\"error\"><message>batch operation failed: ${props.synapse.error_message}</message></log><payloadfactory media-type=\"json\"><format>{\"status\":\"partial_success\",\"successcount\":${vars.successcount},\"faileditems\":${vars.faileditems},\"errors\":[{\"code\":\"${props.synapse.error_code}\",\"message\":\"${props.synapse.error_message}\"}]}</format></payloadfactory><header name=\"http_sc\" value=\"207\" scope=\"axis2\"/><respond/></faultsequence></resource></api>"}
{"description": "Structured error logging with different log levels based on error severity. Analyzes error code, logs FATAL for critical errors, ERROR for server issues, WARN for client errors, includes contextual information.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"severitybasedlogger\" xmlns=\"http://ws.apache.org/ns/synapse\"><filter xpath=\"${contains(props.synapse.error_code,'critical')}\"><then><log category=\"fatal\"><message>critical error: ${props.synapse.error_code} - ${props.synapse.error_message} | detail: ${props.synapse.error_detail}</message></log></then><else><filter xpath=\"${startswith(props.synapse.error_code,'5')}\"><then><log category=\"error\"><message>server error: ${props.synapse.error_code} - ${props.synapse.error_message}</message></log></then><else><log category=\"warn\"><message>client error: ${props.synapse.error_code} - ${props.synapse.error_message}</message></log></else></filter></else></filter><payloadfactory media-type=\"json\"><format>{\"error\":\"${props.synapse.error_message}\"}</format></payloadfactory><respond/></sequence>"}
{"description": "Fault handler with graceful degradation strategy. Attempts primary operation, falls back to cached data on failure, returns degraded response with warning, logs degradation event for monitoring.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/inventory\" name=\"inventoryapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/{itemid}\"><insequence><http.get configkey=\"inventoryservice\"><relativepath>/items/${params.pathparams.itemid}</relativepath><headers>[]</headers></http.get><respond/></insequence><faultsequence><log category=\"warn\"><message>primary inventory service failed, using cached data: ${props.synapse.error_message}</message></log><variable name=\"cacheddata\" type=\"string\" expression=\"${registry('gov:/cache/inventory/' + params.pathparams.itemid)}\"/><filter xpath=\"${exists(vars.cacheddata)}\"><then><payloadfactory media-type=\"json\"><format>{\"data\":${vars.cacheddata},\"source\":\"cache\",\"warning\":\"live data unavailable, serving cached response\",\"cacheage\":3600}</format></payloadfactory><header name=\"http_sc\" value=\"200\" scope=\"axis2\"/></then><else><payloadfactory media-type=\"json\"><format>{\"error\":\"service unavailable and no cached data available\"}</format></payloadfactory><header name=\"http_sc\" value=\"503\" scope=\"axis2\"/></else></filter><respond/></faultsequence></resource></api>"}
{"description": "Basic error response with standard JSON format. Simple fault sequence that returns error message and code in consistent structure with 500 status, suitable for uniform error handling.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"standarderrorresponse\" xmlns=\"http://ws.apache.org/ns/synapse\"><payloadfactory media-type=\"json\"><format>{\"status\":\"error\",\"code\":\"${props.synapse.error_code}\",\"message\":\"${props.synapse.error_message}\"}</format></payloadfactory><header name=\"http_sc\" value=\"500\" scope=\"axis2\"/><respond/></sequence>"}
{"description": "HTTP connector initialization with basic authentication for external REST API integration. Configures connection pooling, timeout of 30 seconds, and retry logic with exponential backoff for transient failures.", "reply": "<localentry key=\"externalapiconn\" xmlns=\"http://ws.apache.org/ns/synapse\"><http.init><connectiontype>https</connectiontype><baseurl>https://api.example.com</baseurl><authtype>basic auth</authtype><basiccredentialsusername>apiuser</basiccredentialsusername><basiccredentialspassword>securep@ssw0rd</basiccredentialspassword><timeoutduration>30</timeoutduration><timeoutaction>never</timeoutaction><retryerrorcodes>500,502,503</retryerrorcodes><retrycount>3</retrycount><retrydelay>5</retrydelay><suspenderrorcodes>404</suspenderrorcodes><suspendinitialduration>10</suspendinitialduration><suspendprogressionfactor>2</suspendprogressionfactor><suspendmaximumduration>60000</suspendmaximumduration><name>externalapiconn</name></http.init></localentry>"}
{"description": "Simple HTTP GET request using connector to retrieve user data from REST endpoint. Passes dynamic user ID from variable in relative path and sets custom content-type header.", "reply": "<http.get configkey=\"externalapiconn\"><relativepath>/users/${vars.userid}</relativepath><headers>[[\"content-type\",\"application/json\"],[\"accept\",\"application/json\"]]</headers><forcescaccepted>false</forcescaccepted><disablechunking>false</disablechunking><forcehttp10>false</forcehttp10><nokeepalive>false</nokeepalive><forcepostputnobody>false</forcepostputnobody><forcehttpcontentlength>false</forcehttpcontentlength></http.get>"}
{"description": "HTTP POST operation with JSON payload transformation. Sends order data to payment gateway using connector, including custom authorization header and dynamic request body from payload.", "reply": "<http.post configkey=\"paymentgatewayconn\"><relativepath>/process-payment</relativepath><headers>[[\"authorization\",\"bearer ${vars.accesstoken}\"],[\"x-request-id\",\"${vars.requestid}\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson><forcescaccepted>false</forcescaccepted><disablechunking>false</disablechunking><forcehttp10>false</forcehttp10><nokeepalive>false</nokeepalive><forcepostputnobody>false</forcepostputnobody><forcehttpcontentlength>false</forcehttpcontentlength></http.post>"}
{"description": "API resource that integrates external weather service using HTTP connector with query parameters. Extracts city from path parameter, calls weather API, and logs response before returning to client.", "reply": "<api xmlns=\"http://ws.apache.org/ns/synapse\" name=\"weatherapi\" context=\"/weather\"><resource methods=\"get\" uri-template=\"/{city}\"><insequence><variable name=\"city\" expression=\"${params.pathparams.city}\" type=\"string\"/><http.get configkey=\"weatherserviceconn\"><relativepath>/current?q=${vars.city}&amp;appid=abc123key</relativepath><headers>[[\"accept\",\"application/json\"]]</headers><forcescaccepted>false</forcescaccepted><disablechunking>false</disablechunking><forcehttp10>false</forcehttp10><nokeepalive>false</nokeepalive><forcepostputnobody>false</forcepostputnobody><forcehttpcontentlength>false</forcehttpcontentlength></http.get><log category=\"info\"><message>weather data: ${payload}</message></log><respond/></insequence></resource></api>"}
{"description": "HTTP connector with OAuth 2.0 bearer token authentication for secure API integration. Includes connection timeout configuration, custom user-agent header, and automatic retry for server errors.", "reply": "<localentry key=\"secureapiconn\" xmlns=\"http://ws.apache.org/ns/synapse\"><http.init><connectiontype>https</connectiontype><baseurl>https://secure-api.company.com</baseurl><authtype>no auth</authtype><timeoutduration>45</timeoutduration><timeoutaction>never</timeoutaction><retryerrorcodes>500,503,504</retryerrorcodes><retrycount>2</retrycount><retrydelay>3</retrydelay><suspenderrorcodes>401,403</suspenderrorcodes><suspendinitialduration>5</suspendinitialduration><suspendprogressionfactor>1</suspendprogressionfactor><suspendmaximumduration>30000</suspendmaximumduration><name>secureapiconn</name></http.init></localentry>"}
{"description": "HTTP PUT request to update customer profile. Uses connector with XML request body transformation, includes correlation ID header for tracking, and enables chunked transfer encoding.", "reply": "<http.put configkey=\"customerserviceconn\"><relativepath>/customers/${vars.customerid}</relativepath><headers>[[\"content-type\",\"application/xml\"],[\"x-correlation-id\",\"${vars.correlationid}\"]]</headers><requestbodytype>xml</requestbodytype><requestbodyxml>{${xpath('$body/node()')}}</requestbodyxml><forcescaccepted>false</forcescaccepted><disablechunking>false</disablechunking><forcehttp10>false</forcehttp10><nokeepalive>false</nokeepalive><forcepostputnobody>false</forcepostputnobody><forcehttpcontentlength>true</forcehttpcontentlength></http.put>"}
{"description": "Service orchestration pattern calling multiple backend services sequentially. First retrieves user profile, then fetches related orders using HTTP connector, aggregates data with payload factory, and responds.", "reply": "<api xmlns=\"http://ws.apache.org/ns/synapse\" name=\"userordersapi\" context=\"/user-orders\"><resource methods=\"get\" uri-template=\"/{userid}\"><insequence><variable name=\"userid\" expression=\"${params.pathparams.userid}\" type=\"string\"/><http.get configkey=\"userserviceconn\"><relativepath>/users/${vars.userid}</relativepath><headers>[[\"accept\",\"application/json\"]]</headers><forcescaccepted>false</forcescaccepted></http.get><variable name=\"username\" expression=\"${payload.name}\" type=\"string\"/><http.get configkey=\"orderserviceconn\"><relativepath>/orders?userid=${vars.userid}</relativepath><headers>[[\"accept\",\"application/json\"]]</headers><forcescaccepted>false</forcescaccepted></http.get><payloadfactory media-type=\"json\"><format>{\"user\":\"${vars.username}\",\"orders\":${payload}}</format></payloadfactory><respond/></insequence></resource></api>"}
{"description": "HTTP DELETE operation with API key authentication in header. Removes resource by ID from external service using connector, includes custom headers for tracking and audit.", "reply": "<http.delete configkey=\"resourceserviceconn\"><relativepath>/resources/${vars.resourceid}</relativepath><headers>[[\"x-api-key\",\"sk_live_abc123xyz789\"],[\"x-idempotency-key\",\"${vars.idempotencykey}\"],[\"user-agent\",\"wso2-mi/4.3.0\"]]</headers><forcescaccepted>false</forcescaccepted><disablechunking>false</disablechunking><forcehttp10>false</forcehttp10><nokeepalive>false</nokeepalive><forcepostputnobody>false</forcepostputnobody><forcehttpcontentlength>false</forcehttpcontentlength></http.delete>"}
{"description": "Conditional routing pattern based on HTTP response status. Calls inventory service, checks availability using filter mediator, then either processes order or returns out-of-stock message.", "reply": "<api xmlns=\"http://ws.apache.org/ns/synapse\" name=\"orderprocessapi\" context=\"/orders\"><resource methods=\"post\"><insequence><variable name=\"productid\" expression=\"${payload.productid}\" type=\"string\"/><http.get configkey=\"inventoryserviceconn\"><relativepath>/inventory/${vars.productid}</relativepath><headers>[[\"accept\",\"application/json\"]]</headers><forcescaccepted>false</forcescaccepted></http.get><filter xpath=\"${payload.available==true}\"><then><http.post configkey=\"orderserviceconn\"><relativepath>/create</relativepath><headers>[[\"content-type\",\"application/json\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson><forcescaccepted>false</forcescaccepted></http.post><respond/></then><else><payloadfactory media-type=\"json\"><format>{\"error\":\"out of stock\"}</format></payloadfactory><respond/></else></filter></insequence></resource></api>"}
{"description": "HTTP connector configuration with comprehensive retry and circuit breaker pattern. Suspends endpoint on authentication failures, implements progressive backoff, and handles connection pooling for high throughput.", "reply": "<localentry key=\"resilientapiconn\" xmlns=\"http://ws.apache.org/ns/synapse\"><http.init><connectiontype>https</connectiontype><baseurl>https://api.resilient-service.io</baseurl><authtype>basic auth</authtype><basiccredentialsusername>integration_user</basiccredentialsusername><basiccredentialspassword>p@ssw0rd!2024</basiccredentialspassword><timeoutduration>60</timeoutduration><timeoutaction>never</timeoutaction><retryerrorcodes>500,502,503,504,408</retryerrorcodes><retrycount>5</retrycount><retrydelay>10</retrydelay><suspenderrorcodes>401,403,429</suspenderrorcodes><suspendinitialduration>30</suspendinitialduration><suspendprogressionfactor>3</suspendprogressionfactor><suspendmaximumduration>300000</suspendmaximumduration><name>resilientapiconn</name></http.init></localentry>"}
{"description": "Parallel service invocation using scatter-gather mediator with HTTP connector. Simultaneously calls pricing and availability services, aggregates JSON responses, and returns consolidated product information.", "reply": "<api xmlns=\"http://ws.apache.org/ns/synapse\" name=\"productaggregationapi\" context=\"/products\"><resource methods=\"get\" uri-template=\"/{productid}\"><insequence><variable name=\"productid\" expression=\"${params.pathparams.productid}\" type=\"string\"/><scatter-gather parallel-execution=\"true\" target=\"body\" result-content-type=\"json\"><aggregation expression=\"${payload}\"/><sequence><http.get configkey=\"pricingserviceconn\"><relativepath>/prices/${vars.productid}</relativepath><headers>[[\"accept\",\"application/json\"]]</headers><forcescaccepted>false</forcescaccepted></http.get></sequence><sequence><http.get configkey=\"inventoryserviceconn\"><relativepath>/availability/${vars.productid}</relativepath><headers>[[\"accept\",\"application/json\"]]</headers><forcescaccepted>false</forcescaccepted></http.get></sequence></scatter-gather><respond/></insequence></resource></api>"}
{"description": "HTTP PATCH operation for partial resource updates. Uses connector to send incremental changes to user service with JSON merge patch content type and optimistic concurrency control via ETag header.", "reply": "<http.patch configkey=\"userserviceconn\"><relativepath>/users/${vars.userid}</relativepath><headers>[[\"content-type\",\"application/merge-patch+json\"],[\"if-match\",\"${vars.etag}\"],[\"x-client-version\",\"2.1.0\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson><forcescaccepted>false</forcescaccepted><disablechunking>false</disablechunking><forcehttp10>false</forcehttp10><nokeepalive>false</nokeepalive><forcepostputnobody>false</forcepostputnobody><forcehttpcontentlength>true</forcehttpcontentlength></http.patch>"}
{"description": "Webhook receiver that forwards notifications to external system using HTTP POST connector. Validates incoming payload, enriches with metadata, and sends to notification service with custom headers.", "reply": "<api xmlns=\"http://ws.apache.org/ns/synapse\" name=\"webhookforwarder\" context=\"/webhook\"><resource methods=\"post\"><insequence><variable name=\"eventtype\" expression=\"${payload.event}\" type=\"string\"/><variable name=\"timestamp\" expression=\"${now()}\" type=\"string\"/><payloadfactory media-type=\"json\"><format>{\"event\":\"${vars.eventtype}\",\"timestamp\":${vars.timestamp},\"data\":${payload}}</format></payloadfactory><http.post configkey=\"notificationserviceconn\"><relativepath>/webhooks/inbound</relativepath><headers>[[\"content-type\",\"application/json\"],[\"x-webhook-source\",\"wso2-mi\"],[\"x-event-type\",\"${vars.eventtype}\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson><forcescaccepted>false</forcescaccepted></http.post><respond/></insequence></resource></api>"}
{"description": "HTTP connector integration with error handling and fault sequence. Attempts service call with timeout, catches failures, logs errors, and returns standardized error response to client.", "reply": "<api xmlns=\"http://ws.apache.org/ns/synapse\" name=\"safeservicecall\" context=\"/safe-call\"><resource methods=\"post\"><insequence><http.post configkey=\"externalserviceconn\"><relativepath>/process</relativepath><headers>[[\"content-type\",\"application/json\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson><forcescaccepted>false</forcescaccepted></http.post><respond/></insequence><faultsequence><log category=\"error\"><message>service call failed: ${props.synapse.error_message}</message></log><payloadfactory media-type=\"json\"><format>{\"error\":\"service unavailable\",\"code\":\"${props.synapse.error_code}\"}</format></payloadfactory><header name=\"http_sc\" scope=\"default\" value=\"503\"/><respond/></faultsequence></resource></api>"}
{"description": "API key based authentication pattern with HTTP connector. Extracts API key from request header, validates against registry configuration, then forwards authenticated request to backend service.", "reply": "<api xmlns=\"http://ws.apache.org/ns/synapse\" name=\"authproxyapi\" context=\"/api-proxy\"><resource methods=\"post\" uri-template=\"/data\"><insequence><variable name=\"apikey\" expression=\"${headers['x-api-key']}\" type=\"string\"/><filter xpath=\"${vars.apikey=='sk_prod_abc123xyz'}\"><then><http.post configkey=\"backendserviceconn\"><relativepath>/secure/data</relativepath><headers>[[\"content-type\",\"application/json\"],[\"authorization\",\"bearer internal_token_xyz\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson><forcescaccepted>false</forcescaccepted></http.post><respond/></then><else><payloadfactory media-type=\"json\"><format>{\"error\":\"unauthorized\"}</format></payloadfactory><header name=\"http_sc\" scope=\"default\" value=\"401\"/><respond/></else></filter></insequence></resource></api>"}
{"description": "HTTP OPTIONS request for CORS preflight handling. Queries service capabilities using connector, returns allowed methods and headers to client with appropriate CORS response headers.", "reply": "<http.options configkey=\"servicediscoveryconn\"><relativepath>/api/capabilities</relativepath><headers>[[\"accept\",\"application/json\"],[\"origin\",\"https://app.example.com\"]]</headers><forcescaccepted>false</forcescaccepted><disablechunking>false</disablechunking><forcehttp10>false</forcehttp10><nokeepalive>false</nokeepalive><forcepostputnobody>false</forcepostputnobody><forcehttpcontentlength>false</forcehttpcontentlength></http.options>"}
{"description": "Rate limiting integration using HTTP connector to check quota service. Validates request count against external rate limiter, enforces throttling policy, and returns 429 status when limit exceeded.", "reply": "<api xmlns=\"http://ws.apache.org/ns/synapse\" name=\"ratelimitedapi\" context=\"/limited\"><resource methods=\"get\"><insequence><variable name=\"clientid\" expression=\"${headers['x-client-id']}\" type=\"string\"/><http.get configkey=\"ratelimiterconn\"><relativepath>/check?client=${vars.clientid}</relativepath><headers>[[\"accept\",\"application/json\"]]</headers><forcescaccepted>false</forcescaccepted></http.get><filter xpath=\"${payload.allowed==true}\"><then><http.get configkey=\"dataserviceconn\"><relativepath>/data</relativepath><headers>[[\"accept\",\"application/json\"]]</headers><forcescaccepted>false</forcescaccepted></http.get><respond/></then><else><payloadfactory media-type=\"json\"><format>{\"error\":\"rate limit exceeded\"}</format></payloadfactory><header name=\"http_sc\" scope=\"default\" value=\"429\"/><respond/></else></filter></insequence></resource></api>"}
{"description": "Content-based routing with HTTP connector integration. Evaluates payload fields using switch mediator, routes to different backend services based on message type, includes fallback endpoint.", "reply": "<api xmlns=\"http://ws.apache.org/ns/synapse\" name=\"smartrouter\" context=\"/route\"><resource methods=\"post\"><insequence><variable name=\"messagetype\" expression=\"${payload.type}\" type=\"string\"/><switch source=\"${vars.messagetype}\"><case regex=\"order\"><http.post configkey=\"orderserviceconn\"><relativepath>/orders</relativepath><headers>[[\"content-type\",\"application/json\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson><forcescaccepted>false</forcescaccepted></http.post></case><case regex=\"payment\"><http.post configkey=\"paymentserviceconn\"><relativepath>/payments</relativepath><headers>[[\"content-type\",\"application/json\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson><forcescaccepted>false</forcescaccepted></http.post></case><default><http.post configkey=\"defaultserviceconn\"><relativepath>/process</relativepath><headers>[[\"content-type\",\"application/json\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson><forcescaccepted>false</forcescaccepted></http.post></default></switch><respond/></insequence></resource></api>"}
{"description": "Batch processing with foreach mediator and HTTP connector. Iterates through array of records, sends individual POST requests to processing service, collects results, and aggregates final response.", "reply": "<api xmlns=\"http://ws.apache.org/ns/synapse\" name=\"batchprocessor\" context=\"/batch\"><resource methods=\"post\"><insequence><variable name=\"results\" type=\"string\" value=\"[]\"/><foreach expression=\"${payload.items}\" id=\"batchloop\"><sequence><http.post configkey=\"processingserviceconn\"><relativepath>/process-item</relativepath><headers>[[\"content-type\",\"application/json\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson><forcescaccepted>false</forcescaccepted></http.post><log category=\"info\"><message>processed item: ${payload.id}</message></log></sequence></foreach><payloadfactory media-type=\"json\"><format>{\"status\":\"completed\",\"processed\":${length(payload.items)}}</format></payloadfactory><respond/></insequence></resource></api>"}
{"description": "HTTP HEAD request for resource metadata retrieval. Uses connector to check file existence and size without downloading content, optimizes bandwidth by fetching only headers from storage service.", "reply": "<http.head configkey=\"storageserviceconn\"><relativepath>/files/${vars.fileid}/metadata</relativepath><headers>[[\"accept\",\"application/json\"],[\"x-request-id\",\"${vars.requestid}\"]]</headers><forcescaccepted>false</forcescaccepted><disablechunking>false</disablechunking><forcehttp10>false</forcehttp10><nokeepalive>false</nokeepalive><forcepostputnobody>false</forcepostputnobody><forcehttpcontentlength>false</forcehttpcontentlength></http.head>"}
{"description": "HTTP inbound endpoint configuration listening on port 8081 with sequential message processing enabled. Routes incoming requests to ProcessOrderSequence for order validation and processing with error handling configured.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"httporderendpoint\" sequence=\"processordersequence\" onerror=\"orderfaultsequence\" protocol=\"http\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"inbound.http.port\">8081</parameter><parameter name=\"sequential\">true</parameter></parameters></inboundendpoint>"}
{"description": "File inbound endpoint using VFS transport to poll directory /data/input every 5000ms for CSV files. Moves processed files to /data/archive and failed files to /data/error. Sequential processing ensures ordered file handling.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"filepollingendpoint\" sequence=\"fileprocesssequence\" onerror=\"fileerrorsequence\" protocol=\"file\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"interval\">5000</parameter><parameter name=\"transport.vfs.fileuri\">file:///data/input</parameter><parameter name=\"transport.vfs.contenttype\">text/csv</parameter><parameter name=\"transport.vfs.filenamepattern\">.*\\.csv</parameter><parameter name=\"transport.vfs.actionafterprocess\">move</parameter><parameter name=\"transport.vfs.moveafterprocess\">file:///data/archive</parameter><parameter name=\"transport.vfs.moveafterfailure\">file:///data/error</parameter><parameter name=\"sequential\">true</parameter></parameters></inboundendpoint>"}
{"description": "JMS inbound endpoint consuming messages from OrderQueue with connection factory QueueConnectionFactory. Implements error handling and sequential processing for guaranteed message ordering in order processing workflow.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"jmsorderconsumer\" sequence=\"processjmsordersequence\" onerror=\"jmserrorsequence\" protocol=\"jms\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"interval\">2000</parameter><parameter name=\"transport.jms.destination\">orderqueue</parameter><parameter name=\"transport.jms.connectionfactoryjndiname\">queueconnectionfactory</parameter><parameter name=\"java.naming.factory.initial\">org.apache.activemq.jndi.activemqinitialcontextfactory</parameter><parameter name=\"java.naming.provider.url\">tcp://localhost:61616</parameter><parameter name=\"sequential\">true</parameter></parameters></inboundendpoint>"}
{"description": "MQTT inbound endpoint subscribing to iot/sensors/temperature topic with QoS 2 for guaranteed delivery. Processes IoT sensor data through SensorDataSequence with reconnection parameters and clean session disabled for persistent subscriptions.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"mqttsensorendpoint\" sequence=\"sensordatasequence\" onerror=\"mqtterrorsequence\" protocol=\"mqtt\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"mqtt.connection.factory\">mqttfactory</parameter><parameter name=\"mqtt.server.host.name\">tcp://localhost:1883</parameter><parameter name=\"mqtt.topic.name\">iot/sensors/temperature</parameter><parameter name=\"mqtt.subscription.qos\">2</parameter><parameter name=\"mqtt.client.id\">mi-sensor-client</parameter><parameter name=\"mqtt.session.clean\">false</parameter><parameter name=\"content.type\">application/json</parameter><parameter name=\"sequential\">true</parameter></parameters></inboundendpoint>"}
{"description": "Kafka inbound endpoint consuming messages from customer-events topic with consumer group mi-consumer-group. Configured for partition assignment, offset management, and sequential processing with custom deserializers for event stream processing.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"kafkaeventconsumer\" sequence=\"eventprocessingsequence\" onerror=\"kafkaerrorsequence\" protocol=\"kafka\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"interval\">1000</parameter><parameter name=\"coordination\">true</parameter><parameter name=\"sequential\">true</parameter><parameter name=\"topics\">customer-events</parameter><parameter name=\"group.id\">mi-consumer-group</parameter><parameter name=\"bootstrap.servers\">localhost:9092</parameter><parameter name=\"key.deserializer\">org.apache.kafka.common.serialization.stringdeserializer</parameter><parameter name=\"value.deserializer\">org.apache.kafka.common.serialization.stringdeserializer</parameter><parameter name=\"auto.offset.reset\">earliest</parameter></parameters></inboundendpoint>"}
{"description": "HTTPS inbound endpoint with SSL configuration on port 8443 for secure API gateway. Uses keystore for SSL termination and routes authenticated requests to SecureAPISequence with worker pool size configuration for concurrent request handling.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"httpsapiendpoint\" sequence=\"secureapisequence\" onerror=\"httpserrorsequence\" protocol=\"https\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"inbound.http.port\">8443</parameter><parameter name=\"keystore\">/repository/resources/security/wso2carbon.jks</parameter><parameter name=\"keystorepass\">wso2carbon</parameter><parameter name=\"truststore\">/repository/resources/security/client-truststore.jks</parameter><parameter name=\"truststorepass\">wso2carbon</parameter><parameter name=\"inbound.worker.pool.size.core\">400</parameter><parameter name=\"inbound.worker.pool.size.max\">500</parameter></parameters></inboundendpoint>"}
{"description": "File inbound endpoint with SFTP protocol monitoring remote directory for XML invoice files. Implements passive mode FTP, custom polling interval of 10 seconds, and automatic file locking to prevent concurrent processing of same file.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"sftpinvoiceendpoint\" sequence=\"invoiceprocesssequence\" onerror=\"sftperrorsequence\" protocol=\"file\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"interval\">10000</parameter><parameter name=\"transport.vfs.fileuri\">sftp://user:pass@ftp.example.com/invoices</parameter><parameter name=\"transport.vfs.contenttype\">application/xml</parameter><parameter name=\"transport.vfs.filenamepattern\">.*\\.xml</parameter><parameter name=\"transport.vfs.filelocking\">enable</parameter><parameter name=\"transport.vfs.actionafterprocess\">delete</parameter><parameter name=\"sequential\">true</parameter></parameters></inboundendpoint>"}
{"description": "JMS inbound endpoint with transaction management consuming from PaymentQueue. Configures session transactions, acknowledgment mode, and cache level for reliable payment message processing with rollback on failure through error sequence.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"jmspaymentendpoint\" sequence=\"paymentprocesssequence\" onerror=\"paymenterrorsequence\" protocol=\"jms\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"interval\">3000</parameter><parameter name=\"transport.jms.destination\">paymentqueue</parameter><parameter name=\"transport.jms.connectionfactoryjndiname\">queueconnectionfactory</parameter><parameter name=\"java.naming.factory.initial\">org.apache.activemq.jndi.activemqinitialcontextfactory</parameter><parameter name=\"java.naming.provider.url\">tcp://localhost:61616</parameter><parameter name=\"transport.jms.sessiontransacted\">true</parameter><parameter name=\"transport.jms.sessionacknowledgement\">session_transacted</parameter><parameter name=\"transport.jms.cachelevel\">3</parameter><parameter name=\"sequential\">true</parameter></parameters></inboundendpoint>"}
{"description": "MQTT inbound endpoint with Last Will Testament configuration subscribing to device/status topic. Implements automatic reconnection with exponential backoff, connection timeout settings, and keep-alive interval for IoT device monitoring.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"mqttdevicemonitor\" sequence=\"devicestatussequence\" onerror=\"mqttdeviceerrorsequence\" protocol=\"mqtt\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"mqtt.connection.factory\">mqttfactory</parameter><parameter name=\"mqtt.server.host.name\">tcp://broker.example.com:1883</parameter><parameter name=\"mqtt.topic.name\">device/status</parameter><parameter name=\"mqtt.subscription.qos\">1</parameter><parameter name=\"mqtt.client.id\">mi-device-monitor</parameter><parameter name=\"mqtt.session.clean\">false</parameter><parameter name=\"mqtt.reconnection.interval\">5000</parameter><parameter name=\"mqtt.connection.timeout\">30</parameter><parameter name=\"mqtt.keep.alive\">60</parameter></parameters></inboundendpoint>"}
{"description": "Kafka inbound endpoint with multiple topic subscription pattern consuming from all order-related topics. Configures consumer properties including max poll records, heartbeat interval, and partition rebalancing strategy for distributed event processing.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"kafkamultitopicconsumer\" sequence=\"multitopicprocesssequence\" onerror=\"kafkamultitopicerrorsequence\" protocol=\"kafka\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"interval\">1000</parameter><parameter name=\"coordination\">true</parameter><parameter name=\"sequential\">false</parameter><parameter name=\"topic.pattern\">order-.*</parameter><parameter name=\"group.id\">mi-multi-topic-group</parameter><parameter name=\"bootstrap.servers\">kafka1:9092,kafka2:9092</parameter><parameter name=\"key.deserializer\">org.apache.kafka.common.serialization.stringdeserializer</parameter><parameter name=\"value.deserializer\">org.apache.kafka.common.serialization.stringdeserializer</parameter><parameter name=\"max.poll.records\">100</parameter><parameter name=\"heartbeat.interval.ms\">3000</parameter><parameter name=\"partition.assignment.strategy\">org.apache.kafka.clients.consumer.roundrobinassignor</parameter></parameters></inboundendpoint>"}
{"description": "HTTP inbound endpoint with custom worker pool configuration and request size limits. Implements connection throttling, idle timeout, and dispatches to routing sequence based on URL patterns for high-throughput API gateway scenario.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"httpgatewayendpoint\" sequence=\"apiroutingsequence\" onerror=\"gatewayerrorsequence\" protocol=\"http\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"inbound.http.port\">8280</parameter><parameter name=\"inbound.worker.pool.size.core\">200</parameter><parameter name=\"inbound.worker.pool.size.max\">400</parameter><parameter name=\"inbound.worker.thread.keep.alive.sec\">60</parameter><parameter name=\"inbound.worker.pool.queue.length\">-1</parameter><parameter name=\"inbound.thread.id\">httpgatewayworker</parameter></parameters></inboundendpoint>"}
{"description": "File inbound endpoint monitoring FTP directory with content-based routing. Polls every 15 seconds for JSON and XML files, implements file sorting by timestamp, and uses move-after-process pattern with timestamped archive directories.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"ftppollingendpoint\" sequence=\"fileroutingsequence\" onerror=\"ftperrorsequence\" protocol=\"file\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"interval\">15000</parameter><parameter name=\"transport.vfs.fileuri\">ftp://ftpuser:ftppass@ftp.example.com/data</parameter><parameter name=\"transport.vfs.contenttype\">application/octet-stream</parameter><parameter name=\"transport.vfs.filenamepattern\">.*(json|xml)$</parameter><parameter name=\"transport.vfs.filesortattribute\">lastmodified</parameter><parameter name=\"transport.vfs.filesortascending\">true</parameter><parameter name=\"transport.vfs.actionafterprocess\">move</parameter><parameter name=\"transport.vfs.moveafterprocess\">ftp://ftpuser:ftppass@ftp.example.com/archive</parameter><parameter name=\"transport.vfs.movetimestampformat\">yyyy-mm-dd-hh-mm-ss</parameter><parameter name=\"sequential\">true</parameter></parameters></inboundendpoint>"}
{"description": "JMS inbound endpoint with message selector filtering high-priority orders. Implements durable subscription, prefetch policy configuration, and concurrent consumer support for parallel processing of filtered messages from TopicConnection.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"jmspriorityorderendpoint\" sequence=\"priorityordersequence\" onerror=\"jmspriorityerrorsequence\" protocol=\"jms\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"interval\">2000</parameter><parameter name=\"transport.jms.destination\">ordertopic</parameter><parameter name=\"transport.jms.connectionfactoryjndiname\">topicconnectionfactory</parameter><parameter name=\"java.naming.factory.initial\">org.apache.activemq.jndi.activemqinitialcontextfactory</parameter><parameter name=\"java.naming.provider.url\">tcp://localhost:61616</parameter><parameter name=\"transport.jms.subscriptiondurable\">true</parameter><parameter name=\"transport.jms.durablesubscribername\">priority-order-subscriber</parameter><parameter name=\"transport.jms.messageselector\">priority='high'</parameter><parameter name=\"transport.jms.concurrentconsumers\">5</parameter><parameter name=\"sequential\">false</parameter></parameters></inboundendpoint>"}
{"description": "MQTT inbound endpoint with SSL/TLS configuration subscribing to secure telemetry data topic. Implements certificate-based authentication, custom quality of service level 1, and message persistence for reliable IoT data ingestion pipeline.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"securemqtttelemetryendpoint\" sequence=\"telemetryprocesssequence\" onerror=\"mqtttelemetryerrorsequence\" protocol=\"mqtt\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"mqtt.connection.factory\">securemqttfactory</parameter><parameter name=\"mqtt.server.host.name\">ssl://secure-broker.example.com:8883</parameter><parameter name=\"mqtt.topic.name\">telemetry/data/#</parameter><parameter name=\"mqtt.subscription.qos\">1</parameter><parameter name=\"mqtt.client.id\">mi-telemetry-client</parameter><parameter name=\"mqtt.session.clean\">false</parameter><parameter name=\"mqtt.ssl.enable\">true</parameter><parameter name=\"mqtt.ssl.keystore.location\">/security/keystore.jks</parameter><parameter name=\"mqtt.ssl.keystore.password\">keystorepass</parameter><parameter name=\"mqtt.ssl.truststore.location\">/security/truststore.jks</parameter><parameter name=\"mqtt.ssl.truststore.password\">truststorepass</parameter><parameter name=\"content.type\">application/json</parameter><parameter name=\"sequential\">true</parameter></parameters></inboundendpoint>"}
{"description": "Kafka inbound endpoint with SASL authentication and SSL encryption consuming from financial-transactions topic. Configures security protocol, commit interval, and exactly-once semantics for critical financial data processing with transaction isolation.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"securekafkafinanceendpoint\" sequence=\"financetransactionsequence\" onerror=\"kafkafinanceerrorsequence\" protocol=\"kafka\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"interval\">500</parameter><parameter name=\"coordination\">true</parameter><parameter name=\"sequential\">true</parameter><parameter name=\"topics\">financial-transactions</parameter><parameter name=\"group.id\">mi-finance-group</parameter><parameter name=\"bootstrap.servers\">kafka-secure.example.com:9093</parameter><parameter name=\"security.protocol\">sasl_ssl</parameter><parameter name=\"sasl.mechanism\">plain</parameter><parameter name=\"sasl.jaas.config\">org.apache.kafka.common.security.plain.plainloginmodule required username=\"admin\" password=\"secret\";</parameter><parameter name=\"key.deserializer\">org.apache.kafka.common.serialization.stringdeserializer</parameter><parameter name=\"value.deserializer\">org.apache.kafka.common.serialization.stringdeserializer</parameter><parameter name=\"enable.auto.commit\">false</parameter><parameter name=\"isolation.level\">read_committed</parameter></parameters></inboundendpoint>"}
{"description": "HTTP WebSocket inbound endpoint on port 9091 for real-time bidirectional communication. Configures subprotocols, outflow dispatch sequence for client messages, and boss/worker thread groups for scalable WebSocket server implementation.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"websocketendpoint\" sequence=\"websocketinboundsequence\" onerror=\"websocketerrorsequence\" protocol=\"ws\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"inbound.ws.port\">9091</parameter><parameter name=\"ws.client.side.broadcast.level\">0</parameter><parameter name=\"ws.outflow.dispatch.sequence\">websocketoutflowsequence</parameter><parameter name=\"ws.outflow.dispatch.fault.sequence\">websocketoutflowfaultsequence</parameter><parameter name=\"ws.boss.thread.pool.size\">2</parameter><parameter name=\"ws.worker.thread.pool.size\">4</parameter></parameters></inboundendpoint>"}
{"description": "File inbound endpoint with SMB protocol accessing Windows network share. Implements domain authentication, file age filtering to process files older than 5 minutes, and dynamic filename processing with regex pattern matching for compliance documents.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"smbcomplianceendpoint\" sequence=\"compliancedocsequence\" onerror=\"smberrorsequence\" protocol=\"file\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"interval\">20000</parameter><parameter name=\"transport.vfs.fileuri\">smb://domain;username:password@fileserver/compliance</parameter><parameter name=\"transport.vfs.contenttype\">application/pdf</parameter><parameter name=\"transport.vfs.filenamepattern\">^comp_\\d{8}_.*\\.pdf$</parameter><parameter name=\"transport.vfs.fileprocessinterval\">300000</parameter><parameter name=\"transport.vfs.actionafterprocess\">move</parameter><parameter name=\"transport.vfs.moveafterprocess\">smb://domain;username:password@fileserver/processed</parameter><parameter name=\"transport.vfs.createfolder\">true</parameter><parameter name=\"sequential\">true</parameter></parameters></inboundendpoint>"}
{"description": "JMS inbound endpoint with dead letter queue configuration consuming from NotificationQueue. Implements retry logic with maximum redelivery attempts, exponential backoff delay, and automatic routing to DLQ after exhausting retries for failed notification processing.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"jmsnotificationdlqendpoint\" sequence=\"notificationprocesssequence\" onerror=\"notificationdlqsequence\" protocol=\"jms\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"interval\">2000</parameter><parameter name=\"transport.jms.destination\">notificationqueue</parameter><parameter name=\"transport.jms.connectionfactoryjndiname\">queueconnectionfactory</parameter><parameter name=\"java.naming.factory.initial\">org.apache.activemq.jndi.activemqinitialcontextfactory</parameter><parameter name=\"java.naming.provider.url\">tcp://localhost:61616</parameter><parameter name=\"transport.jms.sessiontransacted\">true</parameter><parameter name=\"transport.jms.reconnectinterval\">5000</parameter><parameter name=\"transport.jms.maxredeliveryattempts\">3</parameter><parameter name=\"transport.jms.initialredeliverydelay\">1000</parameter><parameter name=\"transport.jms.redeliverydelay\">2000</parameter><parameter name=\"transport.jms.backoffmultiplier\">2</parameter><parameter name=\"sequential\">true</parameter></parameters></inboundendpoint>"}
{"description": "MQTT inbound endpoint with dynamic topic subscription using wildcard patterns for multi-level hierarchical topics. Configures automatic subscription management, message buffer size, and implements filtering based on retained message flag for real-time analytics.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"mqttdynamictopicendpoint\" sequence=\"dynamictopicprocesssequence\" onerror=\"mqttdynamicerrorsequence\" protocol=\"mqtt\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"mqtt.connection.factory\">mqttfactory</parameter><parameter name=\"mqtt.server.host.name\">tcp://mqtt.example.com:1883</parameter><parameter name=\"mqtt.topic.name\">analytics/+/events/#</parameter><parameter name=\"mqtt.subscription.qos\">1</parameter><parameter name=\"mqtt.client.id\">mi-dynamic-analytics</parameter><parameter name=\"mqtt.session.clean\">false</parameter><parameter name=\"mqtt.max.inflight\">1000</parameter><parameter name=\"mqtt.message.buffer.size\">5120</parameter><parameter name=\"mqtt.automatic.reconnect\">true</parameter><parameter name=\"content.type\">application/json</parameter><parameter name=\"sequential\">false</parameter></parameters></inboundendpoint>"}
{"description": "Kafka inbound endpoint with custom interceptor chain for message transformation and auditing. Configures consumer interceptor classes, session timeout, fetch size optimization, and implements manual offset commit strategy for controlled message processing and replay capability.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><inboundendpoint name=\"kafkainterceptorendpoint\" sequence=\"interceptedmessagesequence\" onerror=\"kafkainterceptorerrorsequence\" protocol=\"kafka\" suspend=\"false\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameters><parameter name=\"interval\">1000</parameter><parameter name=\"coordination\">true</parameter><parameter name=\"sequential\">false</parameter><parameter name=\"topics\">audit-events</parameter><parameter name=\"group.id\">mi-audit-consumer</parameter><parameter name=\"bootstrap.servers\">localhost:9092</parameter><parameter name=\"key.deserializer\">org.apache.kafka.common.serialization.stringdeserializer</parameter><parameter name=\"value.deserializer\">org.apache.kafka.common.serialization.stringdeserializer</parameter><parameter name=\"enable.auto.commit\">false</parameter><parameter name=\"session.timeout.ms\">30000</parameter><parameter name=\"fetch.min.bytes\">1024</parameter><parameter name=\"fetch.max.wait.ms\">500</parameter><parameter name=\"max.partition.fetch.bytes\">1048576</parameter><parameter name=\"consumer.interceptor.classes\">com.example.auditinterceptor</parameter></parameters></inboundendpoint>"}
{"description": "Foreach mediator iterating over JSON array to process each order item individually, extracting item details and logging them sequentially for order processing workflow", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/orders\" name=\"processordersapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><foreach expression=\"${payload.orders}\"><sequence><log category=\"info\"><message>processing order: ${payload.orderid} - ${payload.itemname}</message></log></sequence></foreach><respond/></insequence></resource></api>"}
{"description": "Scatter-gather pattern using scatter-gather mediator to invoke multiple backend services in parallel and aggregate JSON responses into unified result set with timeout configuration", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/aggregated\" name=\"scattergatherapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\"><insequence><scatter-gather parallel-execution=\"true\" target=\"body\" result-content-type=\"json\"><aggregation expression=\"${payload}\" timeout=\"5000\"/><sequence><http.get configkey=\"servicea\"><relativepath>/data</relativepath></http.get></sequence><sequence><http.get configkey=\"serviceb\"><relativepath>/info</relativepath></http.get></sequence></scatter-gather><respond/></insequence></resource></api>"}
{"description": "Foreach mediator processing XML array of customer records, transforming each record using payloadFactory and enriching with additional data before storing results", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"processcustomerssequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><foreach expression=\"${xpath('//customers/customer')}\"><sequence><variable name=\"customerid\" expression=\"${xpath('//customer/id/text()')}\"/><payloadfactory media-type=\"json\"><format>{\"id\": \"${vars.customerid}\", \"status\": \"processed\"}</format></payloadfactory><log category=\"info\"><message>customer ${vars.customerid} processed</message></log></sequence></foreach></sequence>"}
{"description": "Batch processing implementation using foreach mediator to iterate product inventory array, validate stock levels, and invoke backend API for each item requiring restock", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/inventory\" name=\"batchinventoryapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><foreach expression=\"${payload.products}\"><sequence><filter xpath=\"${payload.stock <10}\"><then><http.post configkey=\"restockservice\"><relativepath>/restock</relativepath><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></then></filter></sequence></foreach><respond/></insequence></resource></api>"}
{"description": "Parallel message handling with scatter-gather mediator executing three sequences simultaneously, each calling different microservice endpoint and combining responses into single JSON array", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/parallel\" name=\"parallelprocessingapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\"><insequence><scatter-gather parallel-execution=\"true\" target=\"body\" result-content-type=\"json\"><aggregation expression=\"${payload}\"/><sequence><http.get configkey=\"userservice\"><relativepath>/users/${params.queryparams.id}</relativepath></http.get></sequence><sequence><http.get configkey=\"orderservice\"><relativepath>/orders/${params.queryparams.id}</relativepath></http.get></sequence><sequence><http.get configkey=\"paymentservice\"><relativepath>/payments/${params.queryparams.id}</relativepath></http.get></sequence></scatter-gather><respond/></insequence></resource></api>"}
{"description": "Simple foreach iteration over JSON transactions array with logging mediator for audit trail generation in financial processing workflow", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"audittransactions\" xmlns=\"http://ws.apache.org/ns/synapse\"><foreach expression=\"${payload.transactions}\"><sequence><log category=\"info\"><message>transaction id: ${payload.txnid}, amount: ${payload.amount}</message></log></sequence></foreach></sequence>"}
{"description": "Foreach mediator processing email notifications array, using variable mediator to extract recipient details and invoking email service for each entry with error handling", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/notifications\" name=\"emailnotificationapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><foreach expression=\"${payload.emails}\"><sequence><variable name=\"recipient\" expression=\"${payload.to}\" type=\"string\"/><variable name=\"subject\" expression=\"${payload.subject}\" type=\"string\"/><http.post configkey=\"emailservice\"><relativepath>/send</relativepath><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></sequence></foreach><respond/></insequence><faultsequence><log category=\"error\"><message>email sending failed: ${props.synapse.error_message}</message></log><drop/></faultsequence></resource></api>"}
{"description": "Message splitting pattern using foreach mediator on shipment items, enriching each item with tracking information from external API and collecting results for aggregated response", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"enrichshipments\" xmlns=\"http://ws.apache.org/ns/synapse\"><foreach expression=\"${payload.shipments}\"><sequence><variable name=\"trackingid\" expression=\"${payload.trackingnumber}\" type=\"string\"/><http.get configkey=\"trackingservice\"><relativepath>/track?id=${vars.trackingid}</relativepath></http.get><payloadfactory media-type=\"json\"><format>{\"shipmentid\": \"${vars.trackingid}\", \"trackingdata\": ${payload}}</format></payloadfactory></sequence></foreach></sequence>"}
{"description": "Scatter-gather mediator for parallel database lookups across multiple data sources, aggregating customer profile information with min-messages condition for partial responses", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/customer\" name=\"customeraggregatorapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/{id}\"><insequence><scatter-gather parallel-execution=\"true\" target=\"body\" result-content-type=\"json\"><aggregation expression=\"${payload}\" timeout=\"3000\" min-messages=\"2\"/><sequence><dblookup><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/profiles</url><user>dbuser</user><password>dbpass</password></pool></connection><statement><sql>select * from customer_profile where id=?</sql><parameter expression=\"${params.pathparams.id}\" type=\"varchar\"/><result name=\"profile\" column=\"data\"/></statement></dblookup></sequence><sequence><http.get configkey=\"preferencesservice\"><relativepath>/prefs/${params.pathparams.id}</relativepath></http.get></sequence></scatter-gather><respond/></insequence></resource></api>"}
{"description": "Foreach mediator implementing batch update pattern, iterating through user records array and executing database update for each record with transaction handling", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"batchupdateusers\" xmlns=\"http://ws.apache.org/ns/synapse\"><foreach expression=\"${payload.users}\"><sequence><variable name=\"userid\" expression=\"${payload.id}\" type=\"integer\"/><variable name=\"status\" expression=\"${payload.status}\" type=\"string\"/><dbreport><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/userdb</url><user>admin</user><password>admin123</password></pool></connection><statement><sql>update users set status=? where id=?</sql><parameter expression=\"${vars.status}\" type=\"varchar\"/><parameter expression=\"${vars.userid}\" type=\"integer\"/></statement></dbreport></sequence></foreach></sequence>"}
{"description": "Parallel execution pattern with scatter-gather mediator calling multiple REST endpoints with different payloads, aggregating results with conditional expression for filtering responses", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/search\" name=\"parallelsearchapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><variable name=\"query\" expression=\"${payload.searchquery}\" type=\"string\"/><scatter-gather parallel-execution=\"true\" target=\"body\" result-content-type=\"json\"><aggregation expression=\"${payload[?(@.count> 0)]}\"/><sequence><http.get configkey=\"productservice\"><relativepath>/search?q=${vars.query}</relativepath></http.get></sequence><sequence><http.get configkey=\"reviewservice\"><relativepath>/search?q=${vars.query}</relativepath></http.get></sequence></scatter-gather><respond/></insequence></resource></api>"}
{"description": "Foreach iteration processing payment transactions with filter mediator for conditional routing, approved transactions sent to settlement service while rejected ones logged separately", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/payments\" name=\"processpaymentsapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><foreach expression=\"${payload.payments}\"><sequence><filter xpath=\"${payload.status=='approved'}\"><then><http.post configkey=\"settlementservice\"><relativepath>/settle</relativepath><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></then><else><log category=\"warn\"><message>rejected payment: ${payload.transactionid}</message></log></else></filter></sequence></foreach><respond/></insequence></resource></api>"}
{"description": "Simple scatter-gather pattern aggregating responses from two microservices with timeout handling for resilient API composition in microservices architecture", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/aggregate\" name=\"simpleaggregateapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\"><insequence><scatter-gather parallel-execution=\"true\" target=\"body\" result-content-type=\"json\"><aggregation expression=\"${payload}\" timeout=\"2000\"/><sequence><http.get configkey=\"serviceone\"><relativepath>/api/data</relativepath></http.get></sequence><sequence><http.get configkey=\"servicetwo\"><relativepath>/api/info</relativepath></http.get></sequence></scatter-gather><respond/></insequence></resource></api>"}
{"description": "Foreach mediator iterating XML document nodes for order line items, calculating totals and invoking inventory service to check availability for each SKU with validation", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"validateorderitems\" xmlns=\"http://ws.apache.org/ns/synapse\"><foreach expression=\"${xpath('//order/lineitems/item')}\"><sequence><variable name=\"sku\" expression=\"${xpath('//item/sku/text()')}\"/><variable name=\"quantity\" expression=\"${xpath('//item/quantity/text()')}\" type=\"integer\"/><http.get configkey=\"inventoryservice\"><relativepath>/check?sku=${vars.sku}&amp;qty=${vars.quantity}</relativepath></http.get><filter xpath=\"${payload.available==true}\"><then><log category=\"info\"><message>sku ${vars.sku} available</message></log></then></filter></sequence></foreach></sequence>"}
{"description": "Message aggregation using scatter-gather mediator to query multiple analytics services in parallel, combining metrics data with max-messages limit for performance optimization", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/analytics\" name=\"metricsaggregatorapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\"><insequence><scatter-gather parallel-execution=\"true\" target=\"body\" result-content-type=\"json\"><aggregation expression=\"${payload}\" timeout=\"4000\" max-messages=\"3\"/><sequence><http.get configkey=\"salesmetrics\"><relativepath>/metrics/sales</relativepath></http.get></sequence><sequence><http.get configkey=\"trafficmetrics\"><relativepath>/metrics/traffic</relativepath></http.get></sequence><sequence><http.get configkey=\"conversionmetrics\"><relativepath>/metrics/conversion</relativepath></http.get></sequence></scatter-gather><respond/></insequence></resource></api>"}
{"description": "Batch processing workflow using foreach mediator to process invoice records, enriching each with tax calculations and generating PDF documents via external service", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"generateinvoices\" xmlns=\"http://ws.apache.org/ns/synapse\"><foreach expression=\"${payload.invoices}\"><sequence><variable name=\"invoiceid\" expression=\"${payload.id}\" type=\"string\"/><variable name=\"amount\" expression=\"${payload.amount}\" type=\"double\"/><variable name=\"taxamount\" expression=\"${vars.amount * 0.18}\" type=\"double\"/><payloadfactory media-type=\"json\"><format>{\"invoiceid\": \"${vars.invoiceid}\", \"amount\": ${vars.amount}, \"tax\": ${vars.taxamount}}</format></payloadfactory><http.post configkey=\"pdfservice\"><relativepath>/generate</relativepath><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></sequence></foreach></sequence>"}
{"description": "Foreach loop processing array of notification events, using switch mediator for routing based on event type and invoking appropriate notification channel service", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/events\" name=\"notificationrouterapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><foreach expression=\"${payload.events}\"><sequence><switch source=\"${payload.type}\"><case regex=\"email\"><http.post configkey=\"emailgateway\"><relativepath>/send</relativepath><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><case regex=\"sms\"><http.post configkey=\"smsgateway\"><relativepath>/send</relativepath><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><default><log category=\"warn\"><message>unknown event type: ${payload.type}</message></log></default></switch></sequence></foreach><respond/></insequence></resource></api>"}
{"description": "Simple foreach iteration over JSON array logging each element for debugging and monitoring purposes in development environment", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"debugarray\" xmlns=\"http://ws.apache.org/ns/synapse\"><foreach expression=\"${payload.items}\"><sequence><log category=\"debug\"><message>${payload}</message></log></sequence></foreach></sequence>"}
{"description": "Parallel service orchestration using scatter-gather mediator to fetch user profile, preferences and activity history simultaneously, combining into enriched user context object", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/user/context\" name=\"usercontextapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/{userid}\"><insequence><scatter-gather parallel-execution=\"true\" target=\"body\" result-content-type=\"json\"><aggregation expression=\"${payload}\" timeout=\"5000\"/><sequence><http.get configkey=\"profileservice\"><relativepath>/profile/${params.pathparams.userid}</relativepath></http.get></sequence><sequence><http.get configkey=\"preferencesapi\"><relativepath>/user/${params.pathparams.userid}/prefs</relativepath></http.get></sequence><sequence><http.get configkey=\"activityservice\"><relativepath>/activity/${params.pathparams.userid}</relativepath></http.get></sequence></scatter-gather><respond/></insequence></resource></api>"}
{"description": "Complex batch processing with foreach mediator iterating supplier orders, validating against business rules, transforming to internal format, persisting to database and sending confirmation via message queue", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/suppliers/orders\" name=\"supplierorderbatchapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><foreach expression=\"${payload.supplierorders}\"><sequence><variable name=\"orderid\" expression=\"${payload.orderid}\" type=\"string\"/><variable name=\"supplierid\" expression=\"${payload.supplierid}\" type=\"string\"/><variable name=\"totalamount\" expression=\"${payload.totalamount}\" type=\"double\"/><filter xpath=\"${vars.totalamount> 1000}\"><then><payloadfactory media-type=\"json\"><format>{\"order_id\": \"${vars.orderid}\", \"supplier\": \"${vars.supplierid}\", \"amount\": ${vars.totalamount}, \"status\": \"approved\"}</format></payloadfactory><dbreport><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/orders</url><user>orderuser</user><password>order123</password></pool></connection><statement><sql>insert into supplier_orders (order_id, supplier_id, amount, status) values (?, ?, ?, 'approved')</sql><parameter expression=\"${vars.orderid}\" type=\"varchar\"/><parameter expression=\"${vars.supplierid}\" type=\"varchar\"/><parameter expression=\"${vars.totalamount}\" type=\"double\"/></statement></dbreport><log category=\"info\"><message>order ${vars.orderid} processed and stored</message></log></then></filter></sequence></foreach><respond/></insequence></resource></api>"}
{"description": "In-Memory message store configuration for storing messages temporarily in memory with a maximum size limit. Useful for lightweight message buffering without external dependencies.", "reply": "<messagestore name=\"inmemorystore\" class=\"org.apache.synapse.message.store.impl.memory.inmemorystore\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter name=\"store.producer.guaranteed.delivery.enable\">false</parameter><parameter name=\"store.failover.message.store.name\">failoverstore</parameter></messagestore>"}
{"description": "Scheduled message forwarding processor with In-Memory store for guaranteed message delivery. Processes messages every 10 seconds with retry mechanism and dead letter channel configuration.", "reply": "<messageprocessor name=\"scheduledprocessor\" class=\"org.apache.synapse.message.processor.impl.forwarder.scheduledmessageforwardingprocessor\" targetendpoint=\"orderserviceendpoint\" messagestore=\"inmemorystore\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter name=\"interval\">10000</parameter><parameter name=\"max.delivery.attempts\">5</parameter><parameter name=\"client.retry.interval\">3000</parameter><parameter name=\"max.delivery.drop\">disabled</parameter><parameter name=\"member.count\">1</parameter></messageprocessor>"}
{"description": "JMS message store with ActiveMQ broker for persistent message storage. Configured with connection factory and queue destination for reliable asynchronous messaging patterns.", "reply": "<messagestore name=\"jmsstore\" class=\"org.apache.synapse.message.store.impl.jms.jmsstore\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter name=\"java.naming.factory.initial\">org.apache.activemq.jndi.activemqinitialcontextfactory</parameter><parameter name=\"java.naming.provider.url\">tcp://localhost:61616</parameter><parameter name=\"store.jms.destination\">orderqueue</parameter><parameter name=\"store.jms.connection.factory\">queueconnectionfactory</parameter><parameter name=\"store.jms.jmsspecversion\">1.1</parameter></messagestore>"}
{"description": "Message sampling processor for JMS store that samples and forwards messages to monitoring endpoint. Processes one message per cycle with configurable sequence for custom logic execution.", "reply": "<messageprocessor name=\"samplingprocessor\" class=\"org.apache.synapse.message.processor.impl.sampler.samplingprocessor\" messagestore=\"jmsstore\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter name=\"interval\">5000</parameter><parameter name=\"sequence\">monitoringsequence</parameter><parameter name=\"is.active\">true</parameter><parameter name=\"concurrency\">1</parameter></messageprocessor>"}
{"description": "JDBC message store using MySQL database for persistent message storage. Configured with connection pool settings and database driver for enterprise-grade message durability and recovery.", "reply": "<messagestore name=\"jdbcstore\" class=\"org.apache.synapse.message.store.impl.jdbc.jdbcmessagestore\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter name=\"store.jdbc.driver\">com.mysql.jdbc.driver</parameter><parameter name=\"store.jdbc.connection.url\">jdbc:mysql://localhost:3306/messagedb</parameter><parameter name=\"store.jdbc.username\">dbuser</parameter><parameter name=\"store.jdbc.password\">dbpass123</parameter><parameter name=\"store.jdbc.table\">messages</parameter></messagestore>"}
{"description": "RabbitMQ message store configured with exchange and routing key for distributed message persistence. Supports AMQP protocol with connection retry and failover capabilities.", "reply": "<messagestore name=\"rabbitmqstore\" class=\"org.apache.synapse.message.store.impl.rabbitmq.rabbitmqstore\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter name=\"store.rabbitmq.host.name\">localhost</parameter><parameter name=\"store.rabbitmq.host.port\">5672</parameter><parameter name=\"store.rabbitmq.queue.name\">orderqueue</parameter><parameter name=\"store.rabbitmq.exchange.name\">orderexchange</parameter><parameter name=\"store.rabbitmq.route.key\">order.routing</parameter><parameter name=\"rabbitmq.connection.ssl.enabled\">false</parameter></messagestore>"}
{"description": "Store mediator implementation that sends messages to In-Memory message store for asynchronous processing. Enables fire-and-forget pattern with guaranteed delivery when combined with message processor.", "reply": "<store messagestore=\"inmemorystore\" xmlns=\"http://ws.apache.org/ns/synapse\"/>"}
{"description": "API with store mediator for asynchronous order processing. Stores incoming POST requests in message store and responds immediately, enabling non-blocking request handling with guaranteed delivery.", "reply": "<api name=\"asyncorderapi\" context=\"/orders\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><variable name=\"orderid\" expression=\"${payload.orderid}\" type=\"string\"/><log category=\"info\"><message>storing order: ${vars.orderid}</message></log><store messagestore=\"orderstore\"/></insequence><faultsequence><log category=\"error\"><message>order storage failed</message></log><drop/></faultsequence></resource></api>"}
{"description": "Scheduled message forwarding processor with exponential retry backoff. Configured to forward messages from JDBC store to backend endpoint with increasing retry intervals and maximum attempt limits.", "reply": "<messageprocessor name=\"exponentialretryprocessor\" class=\"org.apache.synapse.message.processor.impl.forwarder.scheduledmessageforwardingprocessor\" targetendpoint=\"backendservice\" messagestore=\"jdbcstore\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter name=\"interval\">5000</parameter><parameter name=\"max.delivery.attempts\">10</parameter><parameter name=\"client.retry.interval\">5000</parameter><parameter name=\"exponential.retry.multiplier\">2.0</parameter><parameter name=\"maximum.retry.interval\">60000</parameter></messageprocessor>"}
{"description": "RabbitMQ message store with SSL enabled and virtual host configuration. Implements secure message persistence with authentication for production environments requiring encrypted communication.", "reply": "<messagestore name=\"securerabbitmqstore\" class=\"org.apache.synapse.message.store.impl.rabbitmq.rabbitmqstore\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter name=\"store.rabbitmq.host.name\">rabbitmq.example.com</parameter><parameter name=\"store.rabbitmq.host.port\">5671</parameter><parameter name=\"store.rabbitmq.queue.name\">securequeue</parameter><parameter name=\"store.rabbitmq.username\">admin</parameter><parameter name=\"store.rabbitmq.password\">securepass</parameter><parameter name=\"rabbitmq.connection.ssl.enabled\">true</parameter><parameter name=\"store.rabbitmq.virtual.host\">/production</parameter></messagestore>"}
{"description": "Message forwarding processor with dead letter channel and fault sequence. Failed messages after max retries are moved to error store with comprehensive error logging and notification.", "reply": "<messageprocessor name=\"dlqprocessor\" class=\"org.apache.synapse.message.processor.impl.forwarder.scheduledmessageforwardingprocessor\" targetendpoint=\"paymentendpoint\" messagestore=\"paymentstore\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter name=\"interval\">8000</parameter><parameter name=\"max.delivery.attempts\">3</parameter><parameter name=\"max.delivery.drop\">enabled</parameter><parameter name=\"message.processor.fault.sequence\">errorhandlersequence</parameter><parameter name=\"message.processor.deactivate.sequence\">deactivatesequence</parameter></messageprocessor>"}
{"description": "In-Memory message store with guaranteed delivery enabled and failover configuration. Automatically switches to failover store when primary store encounters issues, ensuring message persistence.", "reply": "<messagestore name=\"primarystore\" class=\"org.apache.synapse.message.store.impl.memory.inmemorystore\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter name=\"store.producer.guaranteed.delivery.enable\">true</parameter><parameter name=\"store.failover.message.store.name\">backupjdbcstore</parameter><parameter name=\"store.producer.guaranteed.delivery.failover.message.store.enable\">true</parameter></messagestore>"}
{"description": "Sampling processor for monitoring and auditing messages without removal. Samples messages from JMS store every 15 seconds and executes custom auditing sequence for compliance tracking.", "reply": "<messageprocessor name=\"auditsamplingprocessor\" class=\"org.apache.synapse.message.processor.impl.sampler.samplingprocessor\" messagestore=\"auditjmsstore\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter name=\"interval\">15000</parameter><parameter name=\"sequence\">auditloggingsequence</parameter><parameter name=\"quartz.conf\">/conf/quartz.properties</parameter><parameter name=\"cronexpression\">0 0/5 * * * ?</parameter></messageprocessor>"}
{"description": "Store-and-forward pattern implementation with JMS store and scheduled processor. API stores messages for batch processing with HTTP endpoint configuration and connection pooling for high throughput.", "reply": "<api name=\"batchprocessingapi\" context=\"/batch\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><variable name=\"batchid\" expression=\"${payload.batchid}\" type=\"string\"/><log category=\"info\"><message>batch ${vars.batchid} stored for processing</message></log><store messagestore=\"batchjmsstore\"/></insequence></resource></api><messageprocessor name=\"batchforwarder\" class=\"org.apache.synapse.message.processor.impl.forwarder.scheduledmessageforwardingprocessor\" targetendpoint=\"batchprocessor\" messagestore=\"batchjmsstore\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter name=\"interval\">30000</parameter><parameter name=\"max.delivery.attempts\">5</parameter></messageprocessor>"}
{"description": "JDBC message store with PostgreSQL database and custom table schema. Configured with connection validation and transaction isolation level for enterprise message persistence with ACID properties.", "reply": "<messagestore name=\"postgresstore\" class=\"org.apache.synapse.message.store.impl.jdbc.jdbcmessagestore\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter name=\"store.jdbc.driver\">org.postgresql.driver</parameter><parameter name=\"store.jdbc.connection.url\">jdbc:postgresql://localhost:5432/messagedb</parameter><parameter name=\"store.jdbc.username\">postgres</parameter><parameter name=\"store.jdbc.password\">pgpass456</parameter><parameter name=\"store.jdbc.table\">synapse_messages</parameter><parameter name=\"store.jdbc.connection.validation.query\">select 1</parameter></messagestore>"}
{"description": "Message forwarding processor with throttling and concurrency control. Processes messages from RabbitMQ store with rate limiting to prevent backend service overload and resource exhaustion.", "reply": "<messageprocessor name=\"throttledprocessor\" class=\"org.apache.synapse.message.processor.impl.forwarder.scheduledmessageforwardingprocessor\" targetendpoint=\"ratelimitedendpoint\" messagestore=\"rabbitmqstore\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter name=\"interval\">2000</parameter><parameter name=\"throttle\">true</parameter><parameter name=\"throttle.threshold\">100</parameter><parameter name=\"max.delivery.attempts\">3</parameter><parameter name=\"member.count\">2</parameter></messageprocessor>"}
{"description": "Complete store-and-forward integration with fault tolerance. API receives requests, stores in JDBC store, scheduled processor forwards with retry logic, and fault sequence handles errors with alerting.", "reply": "<api name=\"reliableprocessingapi\" context=\"/reliable\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><variable name=\"requestid\" expression=\"${payload.requestid}\" type=\"string\"/><variable name=\"timestamp\" expression=\"${now()}\" type=\"string\"/><log category=\"info\"><message>request ${vars.requestid} received at ${vars.timestamp}</message></log><store messagestore=\"reliablejdbcstore\"/><payloadfactory media-type=\"json\"><format>{\"status\":\"accepted\",\"requestid\":\"${vars.requestid}\"}</format></payloadfactory><respond/></insequence><faultsequence><log category=\"error\"><message>storage failed: ${props.synapse.error_message}</message></log><drop/></faultsequence></resource></api>"}
{"description": "Multi-store configuration with primary In-Memory store and JDBC failover. Implements high-availability message storage pattern with automatic failover and guaranteed delivery across store types.", "reply": "<messagestore name=\"hamemorystore\" class=\"org.apache.synapse.message.store.impl.memory.inmemorystore\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter name=\"store.producer.guaranteed.delivery.enable\">true</parameter><parameter name=\"store.failover.message.store.name\">hajdbcstore</parameter><parameter name=\"store.producer.guaranteed.delivery.failover.message.store.enable\">true</parameter></messagestore><messagestore name=\"hajdbcstore\" class=\"org.apache.synapse.message.store.impl.jdbc.jdbcmessagestore\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter name=\"store.jdbc.driver\">com.mysql.jdbc.driver</parameter><parameter name=\"store.jdbc.connection.url\">jdbc:mysql://localhost:3306/hadb</parameter><parameter name=\"store.jdbc.username\">hauser</parameter><parameter name=\"store.jdbc.password\">hapass</parameter></messagestore>"}
{"description": "JMS message store with IBM MQ configuration for enterprise messaging. Implements queue manager connection with channel and CCSID settings for mainframe integration scenarios.", "reply": "<messagestore name=\"ibmmqstore\" class=\"org.apache.synapse.message.store.impl.jms.jmsstore\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter name=\"java.naming.factory.initial\">com.ibm.mq.jms.mqqueueconnectionfactory</parameter><parameter name=\"java.naming.provider.url\">localhost:1414</parameter><parameter name=\"store.jms.destination\">enterprise.queue</parameter><parameter name=\"store.jms.connection.factory\">mqconnectionfactory</parameter><parameter name=\"store.jms.queue.manager\">qm1</parameter><parameter name=\"store.jms.channel\">system.def.svrconn</parameter></messagestore>"}
{"description": "Advanced scheduled processor with Quartz cron expression for time-based message processing. Forwards messages during business hours only with custom error handling and dynamic endpoint resolution from message properties.", "reply": "<messageprocessor name=\"cronscheduledprocessor\" class=\"org.apache.synapse.message.processor.impl.forwarder.scheduledmessageforwardingprocessor\" targetendpoint=\"businesshoursendpoint\" messagestore=\"timedjmsstore\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter name=\"cronexpression\">0 0 9-17 ? * mon-fri</parameter><parameter name=\"max.delivery.attempts\">7</parameter><parameter name=\"client.retry.interval\">10000</parameter><parameter name=\"max.delivery.drop\">enabled</parameter><parameter name=\"message.processor.fault.sequence\">businesshoursfaultseq</parameter><parameter name=\"target.endpoint\">dynamicendpoint</parameter><parameter name=\"axis2.repo.repopath\">/repository/deployment/server/</parameter></messageprocessor>"}
{"description": "JSON payload transformation using payloadFactory mediator to construct a customer order response with nested order details, customer ID, and total amount extracted from incoming payload using Synapse expressions", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/orders\" name=\"ordertransformapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\" uri-template=\"/create\"><insequence><payloadfactory media-type=\"json\"><format> { \"orderid\": \"${payload.id}\", \"customer\": { \"customerid\": \"${payload.customerid}\", \"name\": \"${payload.customername}\" }, \"ordertotal\": ${payload.amount}, \"status\": \"confirmed\" } </format></payloadfactory><respond/></insequence></resource></api>"}
{"description": "Header mediator configuration to add custom HTTP headers including correlation ID, timestamp, and authorization token to outbound service requests for distributed tracing and security", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"addheaderssequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><header name=\"x-correlation-id\" value=\"${vars.correlationid}\" scope=\"transport\"/><header name=\"x-request-timestamp\" value=\"${now()}\" scope=\"transport\"/><header name=\"authorization\" value=\"bearer ${vars.authtoken}\" scope=\"transport\"/><header name=\"content-type\" value=\"application/json\" scope=\"transport\"/></sequence>"}
{"description": "Enrich mediator pattern to augment incoming payload by adding user profile data from a variable into the message body as a new property without replacing existing content", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"enrichuserdatasequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><enrich><source type=\"inline\" clone=\"true\"><userprofile><userid>${vars.userid}</userid><username>${vars.username}</username><email>${vars.useremail}</email></userprofile></source><target type=\"body\" action=\"child\"/></enrich></sequence>"}
{"description": "PayloadFactory mediator for XML to JSON transformation creating a product catalog response with array of items, prices, and availability status from XML backend service", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"productcatalogtransform\" xmlns=\"http://ws.apache.org/ns/synapse\"><payloadfactory media-type=\"json\"><format> { \"catalog\": { \"products\": [ { \"productid\": \"${xpath('//product/@id')}\", \"name\": \"${xpath('//product/name/text()')}\", \"price\": ${xpath('//product/price/text()')}, \"instock\": ${xpath('//product/available/text()')} } ] } } </format></payloadfactory></sequence>"}
{"description": "Simple header removal pattern using header mediator to strip sensitive authentication headers and internal routing information before forwarding response to external clients", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"removeheaderssequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><header name=\"authorization\" action=\"remove\" scope=\"transport\"/><header name=\"x-internal-route\" action=\"remove\" scope=\"transport\"/><header name=\"x-db-connection\" action=\"remove\" scope=\"transport\"/></sequence>"}
{"description": "PayloadFactory creating SOAP envelope with dynamic values for legacy web service integration, including authentication credentials and request parameters from incoming REST payload", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"soapenvelopebuilder\" xmlns=\"http://ws.apache.org/ns/synapse\"><payloadfactory media-type=\"xml\"><format><soap:envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:ser=\"http://service.example.com\"><soap:header><ser:authheader><ser:username>${vars.username}</ser:username><ser:password>${vars.password}</ser:password></ser:authheader></soap:header><soap:body><ser:getcustomer><ser:customerid>${payload.id}</ser:customerid></ser:getcustomer></soap:body></soap:envelope></format></payloadfactory></sequence>"}
{"description": "Enrich mediator extracting specific fields from incoming JSON payload and storing them as variables for subsequent processing, enabling data extraction without full payload replacement", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"extractfieldssequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"customerid\" expression=\"${payload.customer.id}\" type=\"string\"/><variable name=\"orderamount\" expression=\"${payload.order.total}\" type=\"double\"/><variable name=\"orderdate\" expression=\"${payload.order.date}\" type=\"string\"/></sequence>"}
{"description": "Multi-step transformation pipeline combining payloadFactory and enrich mediators to build complex response with data from multiple sources including payload, variables, and inline content", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"complextransformsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><payloadfactory media-type=\"json\"><format> { \"transaction\": { \"id\": \"${vars.transactionid}\", \"amount\": ${payload.amount}, \"currency\": \"usd\" } } </format></payloadfactory><enrich><source type=\"inline\" clone=\"true\"><metadata><processedat>${now()}</processedat><processor>mi-node-01</processor></metadata></source><target type=\"body\" action=\"child\"/></enrich></sequence>"}
{"description": "PayloadFactory mediator constructing error response payload with standardized structure including error code, message, timestamp, and request correlation ID for API error handling", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"errorresponsebuilder\" xmlns=\"http://ws.apache.org/ns/synapse\"><payloadfactory media-type=\"json\"><format> { \"error\": { \"code\": \"${vars.errorcode}\", \"message\": \"${vars.errormessage}\", \"timestamp\": \"${formatdatetime(now(), 'yyyy-mm-dd hh:mm:ss')}\", \"correlationid\": \"${vars.correlationid}\", \"path\": \"${props.synapse.rest_url_postfix}\" } } </format></payloadfactory><header name=\"http_sc\" value=\"400\" scope=\"axis2\"/></sequence>"}
{"description": "Header mediator pattern for CORS configuration adding required headers to enable cross-origin resource sharing including allowed origins, methods, and credentials for browser-based API clients", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"corsheaderssequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><header name=\"access-control-allow-origin\" value=\"*\" scope=\"transport\"/><header name=\"access-control-allow-methods\" value=\"get, post, put, delete, options\" scope=\"transport\"/><header name=\"access-control-allow-headers\" value=\"content-type, authorization\" scope=\"transport\"/><header name=\"access-control-allow-credentials\" value=\"true\" scope=\"transport\"/></sequence>"}
{"description": "Enrich mediator replacing entire message body with content from external variable containing transformed data, useful for cache retrieval or pre-computed response injection", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"replacepayloadsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><enrich><source type=\"custom\" clone=\"true\" expression=\"${vars.cachedresponse}\"/><target type=\"body\" action=\"replace\"/></enrich></sequence>"}
{"description": "PayloadFactory transforming flat JSON structure into nested hierarchical format with grouping by category and computed fields for business intelligence reporting APIs", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"hierarchicaltransform\" xmlns=\"http://ws.apache.org/ns/synapse\"><payloadfactory media-type=\"json\"><format> { \"report\": { \"summary\": { \"totalorders\": ${payload.ordercount}, \"totalrevenue\": ${payload.revenue}, \"averageordervalue\": ${payload.revenue / payload.ordercount} }, \"breakdown\": { \"category\": \"${payload.category}\", \"region\": \"${payload.region}\" }, \"generatedat\": \"${formatdatetime(now(), 'yyyy-mm-dd')}\" } } </format></payloadfactory></sequence>"}
{"description": "Enrich mediator with custom source expression extracting array elements from payload and appending to existing body content for data aggregation patterns", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"appendarraydatasequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><enrich><source type=\"custom\" clone=\"true\" expression=\"${payload.items}\"/><target type=\"body\" action=\"child\"/></enrich><enrich><source type=\"inline\" clone=\"true\"><totalcount>${length(payload.items)}</totalcount></source><target type=\"body\" action=\"child\"/></enrich></sequence>"}
{"description": "Complete API resource with payloadFactory, header, and variable mediators transforming incoming order request into backend format with added metadata, correlation tracking, and timestamp enrichment", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/transform\" name=\"ordertransformationapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\" uri-template=\"/order\"><insequence><variable name=\"correlationid\" expression=\"${headers.x-correlation-id}\" type=\"string\"/><variable name=\"timestamp\" expression=\"${now()}\" type=\"string\"/><payloadfactory media-type=\"json\"><format> { \"orderrequest\": { \"orderid\": \"ord-${vars.timestamp}\", \"customerid\": \"${payload.customer.id}\", \"items\": ${payload.items}, \"totalamount\": ${payload.total} }, \"metadata\": { \"correlationid\": \"${vars.correlationid}\", \"timestamp\": \"${vars.timestamp}\" } } </format></payloadfactory><header name=\"x-order-correlation\" value=\"${vars.correlationid}\" scope=\"transport\"/><respond/></insequence></resource></api>"}
{"description": "PayloadFactory creating paginated response format with data array, page metadata including current page number, page size, total records, and navigation links for REST API pagination", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"paginationresponsebuilder\" xmlns=\"http://ws.apache.org/ns/synapse\"><payloadfactory media-type=\"json\"><format> { \"data\": ${payload.results}, \"pagination\": { \"currentpage\": ${vars.pagenumber}, \"pagesize\": ${vars.pagesize}, \"totalrecords\": ${vars.totalcount}, \"totalpages\": ${ceil(vars.totalcount / vars.pagesize)} }, \"links\": { \"next\": \"/api/items?page=${vars.pagenumber + 1}\", \"prev\": \"/api/items?page=${vars.pagenumber - 1}\" } } </format></payloadfactory></sequence>"}
{"description": "Header mediator configuration for content negotiation setting response content type based on Accept header with fallback to JSON, including charset and cache control headers", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"contentnegotiationsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"accepttype\" expression=\"${headers.accept}\" type=\"string\"/><header name=\"content-type\" value=\"${vars.accepttype !=null ? vars.accepttype : 'application/json'}\" scope=\"transport\"/><header name=\"charset\" value=\"utf-8\" scope=\"transport\"/><header name=\"cache-control\" value=\"no-cache, no-store, must-revalidate\" scope=\"transport\"/></sequence>"}
{"description": "Advanced enrich mediator pattern extracting nested object from payload, enriching with additional computed fields, and injecting into new target location for complex data restructuring", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"complexenrichsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"customerdata\" expression=\"${payload.customer}\" type=\"json\"/><enrich><source type=\"inline\" clone=\"true\"><enrichedcustomer><originaldata>${vars.customerdata}</originaldata><computedfields><fullname>${vars.customerdata.firstname} ${vars.customerdata.lastname}</fullname><accountage>${now() - vars.customerdata.createddate}</accountage></computedfields></enrichedcustomer></source><target type=\"body\" action=\"replace\"/></enrich></sequence>"}
{"description": "PayloadFactory mediator for batch processing response aggregating results from multiple operations with success count, failure count, and detailed item statuses in structured format", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"batchresponsebuilder\" xmlns=\"http://ws.apache.org/ns/synapse\"><payloadfactory media-type=\"json\"><format> { \"batchid\": \"${vars.batchid}\", \"summary\": { \"totalitems\": ${vars.totalitems}, \"successcount\": ${vars.successcount}, \"failurecount\": ${vars.failurecount}, \"processingtime\": ${vars.endtime - vars.starttime} }, \"results\": ${vars.batchresults}, \"status\": \"${vars.successcount==vars.totalitems ? 'completed' : 'partial'}\" } </format></payloadfactory></sequence>"}
{"description": "Multi-mediator transformation sequence combining enrich and payloadFactory to extract user authentication data, validate token expiry, and construct authorized request with enriched security context", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"authtransformsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"authtoken\" expression=\"${headers.authorization}\" type=\"string\"/><variable name=\"userid\" expression=\"${payload.userid}\" type=\"string\"/><enrich><source type=\"inline\" clone=\"true\"><securitycontext><token>${vars.authtoken}</token><validuntil>${vars.tokenexpiry}</validuntil><scope>read,write</scope></securitycontext></source><target type=\"body\" action=\"child\"/></enrich><payloadfactory media-type=\"json\"><format> { \"authorizedrequest\": { \"userid\": \"${vars.userid}\", \"requestdata\": ${payload.data}, \"security\": ${xpath('//securitycontext')} } } </format></payloadfactory></sequence>"}
{"description": "Comprehensive transformation API combining payloadFactory for response building, header mediators for HTTP status and custom headers, enrich for metadata injection, and variable extraction for audit logging", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/api\" name=\"comprehensivetransformapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\" uri-template=\"/process\"><insequence><variable name=\"requestid\" expression=\"${payload.requestid}\" type=\"string\"/><variable name=\"requesttime\" expression=\"${now()}\" type=\"string\"/><payloadfactory media-type=\"json\"><format> { \"processedrequest\": { \"id\": \"${vars.requestid}\", \"data\": ${payload.data}, \"status\": \"success\" } } </format></payloadfactory><enrich><source type=\"inline\" clone=\"true\"><auditinfo><processedat>${vars.requesttime}</processedat><processornode>mi-node-01</processornode></auditinfo></source><target type=\"body\" action=\"child\"/></enrich><header name=\"x-request-id\" value=\"${vars.requestid}\" scope=\"transport\"/><header name=\"x-processing-time\" value=\"${now() - vars.requesttime}\" scope=\"transport\"/><header name=\"http_sc\" value=\"200\" scope=\"axis2\"/><respond/></insequence></resource></api>"}
{"description": "Proxy service that receives SOAP requests and forwards them to a backend HTTP endpoint using passthrough transport with basic authentication. Includes WSDL publishing and service parameters for message tracing.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"simplepassthroughproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><log category=\"info\"><message>processing soap request</message></log><http.post configkey=\"backendservice\"><relativepath>/api/process</relativepath><headers>[]</headers><requestbodytype>xml</requestbodytype><requestbodyxml>{${xpath('$body/node()')}}</requestbodyxml></http.post><respond/></insequence><faultsequence><log category=\"error\"><message>error: ${props.synapse.error_message}</message></log><respond/></faultsequence></target><publishwsdl uri=\"http://backend.example.com/service?wsdl\"/><parameter name=\"servicetype\">proxy</parameter></proxy>"}
{"description": "Proxy service implementing content-based routing pattern that filters incoming JSON messages based on customer type and routes premium customers to priority endpoint while standard customers go to regular processing endpoint.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"contentbasedroutingproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><variable name=\"customertype\" expression=\"${payload.customer.type}\" type=\"string\"/><filter xpath=\"${vars.customertype=='premium'}\"><then><http.post configkey=\"priorityendpoint\"><relativepath>/priority</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></then><else><http.post configkey=\"standardendpoint\"><relativepath>/standard</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></else></filter><respond/></insequence></target></proxy>"}
{"description": "Simple proxy service that logs incoming requests and forwards to backend endpoint with custom HTTP headers added including correlation ID and timestamp for request tracking.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"headerenrichmentproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><variable name=\"correlationid\" expression=\"${now()}\" type=\"string\"/><http.post configkey=\"backendapi\"><relativepath>/process</relativepath><headers>[[\"x-correlation-id\",\"${vars.correlationid}\"],[\"x-timestamp\",\"${formatdatetime(now(), 'yyyy-mm-dd hh:mm:ss')}\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post><respond/></insequence></target></proxy>"}
{"description": "Proxy service with payload transformation using payloadFactory mediator to convert incoming JSON request to XML SOAP format before forwarding to legacy SOAP backend service with namespace declarations.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"jsontosoapproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><payloadfactory media-type=\"xml\"><format><soap:envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:ser=\"http://service.example.com\"><soap:body><ser:processrequest><ser:customerid>${payload.customerid}</ser:customerid><ser:amount>${payload.amount}</ser:amount></ser:processrequest></soap:body></soap:envelope></format></payloadfactory><http.post configkey=\"soapbackend\"><relativepath>/soap/service</relativepath><headers>[[\"content-type\",\"text/xml\"]]</headers><requestbodytype>xml</requestbodytype><requestbodyxml>{${xpath('$body/node()')}}</requestbodyxml></http.post><respond/></insequence></target></proxy>"}
{"description": "Proxy service implementing database lookup pattern that queries MySQL database to validate customer credentials before forwarding authenticated requests to protected backend service with error handling.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"dblookupproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><dblookup><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/customerdb</url><user>dbuser</user><password>dbpass123</password></pool></connection><statement><sql>select status from customers where customer_id=?</sql><parameter expression=\"${payload.customerid}\" type=\"varchar\"/><result name=\"customerstatus\" column=\"status\"/></statement></dblookup><filter xpath=\"${vars.customerstatus=='active'}\"><then><http.post configkey=\"protectedservice\"><relativepath>/secure</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></then><else><payloadfactory media-type=\"json\"><format>{\"error\": \"customer not active\"}</format></payloadfactory></else></filter><respond/></insequence></target></proxy>"}
{"description": "Proxy service with scatter-gather pattern that broadcasts requests to multiple backend services in parallel, aggregates JSON responses, and returns combined result with timeout configuration.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"scattergatherproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><scatter-gather parallel-execution=\"true\" target=\"body\" result-content-type=\"json\"><aggregation expression=\"${payload}\" timeout=\"5000\"/><sequence><http.get configkey=\"servicea\"><relativepath>/data</relativepath><headers>[]</headers></http.get></sequence><sequence><http.get configkey=\"serviceb\"><relativepath>/info</relativepath><headers>[]</headers></http.get></sequence><sequence><http.get configkey=\"servicec\"><relativepath>/status</relativepath><headers>[]</headers></http.get></sequence></scatter-gather><respond/></insequence></target></proxy>"}
{"description": "Proxy service with switch mediator implementing protocol routing that examines message content type header and routes to appropriate backend service based on media type with default fallback endpoint.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"protocolroutingproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><variable name=\"contenttype\" expression=\"${headers['content-type']}\" type=\"string\"/><switch source=\"${vars.contenttype}\"><case regex=\"application/json\"><http.post configkey=\"jsonprocessor\"><relativepath>/json</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></case><case regex=\"application/xml\"><http.post configkey=\"xmlprocessor\"><relativepath>/xml</relativepath><headers>[]</headers><requestbodytype>xml</requestbodytype><requestbodyxml>{${xpath('$body/node()')}}</requestbodyxml></http.post></case><default><http.post configkey=\"defaultprocessor\"><relativepath>/default</relativepath><headers>[]</headers></http.post></default></switch><respond/></insequence></target></proxy>"}
{"description": "Proxy service implementing request-response caching pattern using Redis connector to cache backend responses with TTL configuration and cache key based on request parameters for performance optimization.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"cachingproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><variable name=\"cachekey\" expression=\"${payload.productid}\" type=\"string\"/><redis.get configkey=\"redisconfig\"><key>${vars.cachekey}</key></redis.get><filter xpath=\"${exists(vars.redis_get_result)}\"><then><payloadfactory media-type=\"json\"><format>${vars.redis_get_result}</format></payloadfactory></then><else><http.get configkey=\"productservice\"><relativepath>/products/${vars.cachekey}</relativepath><headers>[]</headers></http.get><variable name=\"response\" expression=\"${payload}\" type=\"json\"/><redis.put configkey=\"redisconfig\"><key>${vars.cachekey}</key><value>${vars.response}</value><expirytime>3600</expirytime></redis.put></else></filter><respond/></insequence></target></proxy>"}
{"description": "Proxy service with foreach mediator that processes array of order items individually, enriches each item with inventory data from backend service, and aggregates enriched results into final response payload.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"orderprocessingproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><variable name=\"enrichedorders\" expression=\"[]\" type=\"json\"/><foreach expression=\"${payload.orders}\"><sequence><variable name=\"currentitem\" expression=\"${payload}\" type=\"json\"/><http.get configkey=\"inventoryservice\"><relativepath>/inventory/${vars.currentitem.productid}</relativepath><headers>[]</headers></http.get><variable name=\"inventorydata\" expression=\"${payload}\" type=\"json\"/><payloadfactory media-type=\"json\"><format>{\"orderid\": \"${vars.currentitem.orderid}\", \"productid\": \"${vars.currentitem.productid}\", \"stock\": \"${vars.inventorydata.available}\"}</format></payloadfactory></sequence></foreach><respond/></insequence></target></proxy>"}
{"description": "Proxy service implementing throttling pattern with rate limiting that restricts client requests to maximum threshold per time window and rejects excess requests with HTTP 429 status code.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"throttlingproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><throttle id=\"requestthrottle\"><policy><wsp:policy xmlns:wsp=\"http://schemas.xmlsoap.org/ws/2004/09/policy\"><throttle:throttleassertion xmlns:throttle=\"http://www.wso2.org/products/wso2commons/throttle\"><throttle:maximumcount>100</throttle:maximumcount><throttle:unittime>60000</throttle:unittime></throttle:throttleassertion></wsp:policy></policy><onaccept><http.post configkey=\"backendapi\"><relativepath>/process</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></onaccept><onreject><payloadfactory media-type=\"json\"><format>{\"error\": \"rate limit exceeded\"}</format></payloadfactory></onreject></throttle><respond/></insequence></target></proxy>"}
{"description": "Basic proxy service that receives HTTP requests and forwards them to backend REST API endpoint with minimal transformation and logging for monitoring purposes.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"basicforwardproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><log category=\"info\"><message>forwarding request</message></log><http.post configkey=\"backendrest\"><relativepath>/api</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post><respond/></insequence></target></proxy>"}
{"description": "Proxy service with WSDL endpoint that exposes SOAP interface and performs header-based authentication by validating API key before routing to secure backend service.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"securesoapproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><variable name=\"apikey\" expression=\"${headers['x-api-key']}\" type=\"string\"/><filter xpath=\"${vars.apikey=='valid-key-12345'}\"><then><http.post configkey=\"securebackend\"><relativepath>/secure</relativepath><headers>[]</headers><requestbodytype>xml</requestbodytype><requestbodyxml>{${xpath('$body/node()')}}</requestbodyxml></http.post></then><else><throwerror type=\"auth_error\" errormessage=\"invalid api key\"/></else></filter><respond/></insequence><faultsequence><payloadfactory media-type=\"json\"><format>{\"error\": \"${props.synapse.error_message}\"}</format></payloadfactory><respond/></faultsequence></target><publishwsdl uri=\"file:///wsdl/service.wsdl\"/></proxy>"}
{"description": "Proxy service that validates incoming JSON payload against required fields and data types before processing, throwing descriptive errors for validation failures with proper fault handling sequence.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"validationproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><filter xpath=\"${exists(payload.userid) and exists(payload.amount)}\"><then><filter xpath=\"${isnumber(payload.amount)}\"><then><http.post configkey=\"processingservice\"><relativepath>/process</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post></then><else><throwerror type=\"validation_error\" errormessage=\"amount must be numeric\"/></else></filter></then><else><throwerror type=\"validation_error\" errormessage=\"missing required fields\"/></else></filter><respond/></insequence><faultsequence><payloadfactory media-type=\"json\"><format>{\"error\": \"${props.synapse.error_message}\"}</format></payloadfactory><respond/></faultsequence></target></proxy>"}
{"description": "Proxy service implementing message enrichment pattern that calls external service to retrieve additional customer details and merges with original request payload using enrich mediator.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"enrichmentproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><variable name=\"originalpayload\" expression=\"${payload}\" type=\"json\"/><http.get configkey=\"customerservice\"><relativepath>/customers/${payload.customerid}</relativepath><headers>[]</headers></http.get><variable name=\"customerdetails\" expression=\"${payload}\" type=\"json\"/><payloadfactory media-type=\"json\"><format>{\"orderid\": \"${vars.originalpayload.orderid}\", \"amount\": ${vars.originalpayload.amount}, \"customer\": {\"name\": \"${vars.customerdetails.name}\", \"email\": \"${vars.customerdetails.email}\"}}</format></payloadfactory><http.post configkey=\"orderservice\"><relativepath>/orders</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post><respond/></insequence></target></proxy>"}
{"description": "Proxy service with transaction mediator that ensures atomic database operations by performing database insert and update within distributed transaction boundary with rollback on failure.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"transactionalproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><transaction action=\"new\"/><dbreport><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/orderdb</url><user>dbuser</user><password>dbpass123</password></pool></connection><statement><sql>insert into orders (order_id, customer_id, amount) values (?, ?, ?)</sql><parameter expression=\"${payload.orderid}\" type=\"varchar\"/><parameter expression=\"${payload.customerid}\" type=\"varchar\"/><parameter expression=\"${payload.amount}\" type=\"double\"/></statement></dbreport><dbreport><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/orderdb</url><user>dbuser</user><password>dbpass123</password></pool></connection><statement><sql>update inventory set quantity=quantity - 1 where product_id=?</sql><parameter expression=\"${payload.productid}\" type=\"varchar\"/></statement></dbreport><transaction action=\"commit\"/><respond/></insequence></target></proxy>"}
{"description": "Simple proxy service that accepts requests on HTTP transport, logs message at INFO level, and forwards to backend endpoint with respond mediator for synchronous response.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"simplelogproxy\" transports=\"http\" startonload=\"true\"><target><insequence><log category=\"info\"><message>request received</message></log><http.post configkey=\"backend\"><relativepath>/api</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post><respond/></insequence></target></proxy>"}
{"description": "Proxy service with dynamic endpoint routing that reads target backend URL from registry based on environment variable and routes requests accordingly with failover configuration.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"dynamicroutingproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><variable name=\"environment\" expression=\"${configs.deployment_env}\" type=\"string\"/><variable name=\"targeturl\" expression=\"${registry('conf:/endpoints/' + vars.environment + '/backend.json').url}\" type=\"string\"/><log category=\"info\"><message>routing to ${vars.targeturl}</message></log><http.post configkey=\"dynamicbackend\"><relativepath>/process</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post><respond/></insequence></target><parameter name=\"servicetype\">proxy</parameter></proxy>"}
{"description": "Proxy service that transforms XML SOAP response from backend into JSON format using XSLT mediator with stylesheet transformation and content type header modification for REST clients.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"soaptojsonproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><http.post configkey=\"soapservice\"><relativepath>/soap</relativepath><headers>[[\"content-type\",\"text/xml\"]]</headers><requestbodytype>xml</requestbodytype><requestbodyxml>{${xpath('$body/node()')}}</requestbodyxml></http.post><xslt key=\"conf:/transformations/soap-to-json.xslt\"/><header name=\"content-type\" value=\"application/json\"/><respond/></insequence></target></proxy>"}
{"description": "Proxy service with dataServiceCall mediator that invokes WSO2 Data Service to execute complex SQL query with multiple input parameters and processes tabular result set.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"dataserviceproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><dataservicecall servicename=\"customerdataservice\"><operations><operation name=\"getcustomerorders\"><param name=\"customerid\" value=\"${payload.customerid}\"/><param name=\"startdate\" value=\"${payload.startdate}\"/><param name=\"enddate\" value=\"${payload.enddate}\"/></operation></operations><source type=\"inline\"/><target type=\"body\"/></dataservicecall><log category=\"info\"><message>data service result: ${payload}</message></log><respond/></insequence></target></proxy>"}
{"description": "Proxy service implementing compensating transaction pattern that executes business logic and triggers rollback sequence with compensating actions when errors occur during processing.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><proxy xmlns=\"http://ws.apache.org/ns/synapse\" name=\"compensationproxy\" transports=\"http https\" startonload=\"true\"><target><insequence><variable name=\"bookingid\" expression=\"${payload.bookingid}\" type=\"string\"/><http.post configkey=\"paymentservice\"><relativepath>/charge</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post><variable name=\"paymentstatus\" expression=\"${payload.status}\" type=\"string\"/><http.post configkey=\"inventoryservice\"><relativepath>/reserve</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>{\"bookingid\": \"${vars.bookingid}\"}</requestbodyjson></http.post><respond/></insequence><faultsequence><log category=\"error\"><message>executing compensation for booking ${vars.bookingid}</message></log><http.post configkey=\"paymentservice\"><relativepath>/refund</relativepath><headers>[]</headers><requestbodytype>json</requestbodytype><requestbodyjson>{\"bookingid\": \"${vars.bookingid}\"}</requestbodyjson></http.post><payloadfactory media-type=\"json\"><format>{\"error\": \"transaction failed and compensated\"}</format></payloadfactory><respond/></faultsequence></target></proxy>"}
{"description": "REST API with single GET resource that returns a static JSON payload using payloadFactory mediator. Simple health check endpoint at /api/health context with inline JSON response.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/api/health\" name=\"healthcheckapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/\"><insequence><payloadfactory media-type=\"json\"><format>{\"status\":\"up\",\"timestamp\":\"${now()}\"}</format></payloadfactory><respond/></insequence></resource></api>"}
{"description": "REST API with POST method accepting JSON payload. Uses variable mediator to extract user data from request body and logs the username before responding with success message.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/users\" name=\"userapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\" uri-template=\"/\"><insequence><variable name=\"username\" expression=\"${payload.name}\" type=\"string\"/><log category=\"info\"><message>user created: ${vars.username}</message></log><payloadfactory media-type=\"json\"><format>{\"message\":\"user created successfully\",\"user\":\"${vars.username}\"}</format></payloadfactory><respond/></insequence></resource></api>"}
{"description": "REST API with URI template path parameter for user ID. GET method extracts userId from path parameters and constructs response payload dynamically using Synapse expressions.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/users\" name=\"getuserapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/{userid}\"><insequence><variable name=\"userid\" expression=\"${params.pathparams.userid}\" type=\"string\"/><payloadfactory media-type=\"json\"><format>{\"userid\":\"${vars.userid}\",\"action\":\"retrieve\"}</format></payloadfactory><respond/></insequence></resource></api>"}
{"description": "REST API supporting multiple HTTP methods on same resource. GET retrieves data, POST creates new record, PUT updates existing record. Uses filter mediator to route based on REST_METHOD property.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/products\" name=\"productapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get post put\" uri-template=\"/{id}\"><insequence><filter xpath=\"${props.synapse.rest_method=='get'}\"><then><payloadfactory media-type=\"json\"><format>{\"action\":\"retrieve\",\"id\":\"${params.pathparams.id}\"}</format></payloadfactory></then><else><payloadfactory media-type=\"json\"><format>{\"action\":\"modify\",\"id\":\"${params.pathparams.id}\"}</format></payloadfactory></else></filter><respond/></insequence></resource></api>"}
{"description": "REST API with DELETE method for resource removal. Extracts resource ID from path parameter, logs deletion action with INFO category, and returns confirmation response using payloadFactory.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/orders\" name=\"deleteorderapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"delete\" uri-template=\"/{orderid}\"><insequence><variable name=\"orderid\" expression=\"${params.pathparams.orderid}\" type=\"string\"/><log category=\"info\"><message>deleting order: ${vars.orderid}</message></log><payloadfactory media-type=\"json\"><format>{\"deleted\":true,\"orderid\":\"${vars.orderid}\"}</format></payloadfactory><respond/></insequence></resource></api>"}
{"description": "REST API with query parameter handling. GET method extracts status and limit query parameters using Synapse expressions, constructs filtered response payload dynamically.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/orders\" name=\"queryordersapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/\"><insequence><variable name=\"status\" expression=\"${params.queryparams.status}\" type=\"string\"/><variable name=\"limit\" expression=\"${params.queryparams.limit}\" type=\"string\"/><payloadfactory media-type=\"json\"><format>{\"filter\":{\"status\":\"${vars.status}\",\"limit\":\"${vars.limit}\"}}</format></payloadfactory><respond/></insequence></resource></api>"}
{"description": "REST API with PATCH method for partial resource updates. Accepts JSON payload, extracts update fields using variable mediator, validates existence of required field, and responds with updated status.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/customers\" name=\"patchcustomerapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"patch\" uri-template=\"/{customerid}\"><insequence><variable name=\"customerid\" expression=\"${params.pathparams.customerid}\" type=\"string\"/><variable name=\"email\" expression=\"${payload.email}\" type=\"string\"/><filter xpath=\"${exists(payload.email)}\"><then><payloadfactory media-type=\"json\"><format>{\"updated\":true,\"customerid\":\"${vars.customerid}\",\"email\":\"${vars.email}\"}</format></payloadfactory></then><else><payloadfactory media-type=\"json\"><format>{\"error\":\"email field required\"}</format></payloadfactory></else></filter><respond/></insequence></resource></api>"}
{"description": "REST API with multiple resources under single context. Separate resources for listing all items with GET and creating new item with POST. Each resource has distinct URI template and processing logic.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/inventory\" name=\"inventoryapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/items\"><insequence><payloadfactory media-type=\"json\"><format>{\"items\":[],\"count\":0}</format></payloadfactory><respond/></insequence></resource><resource methods=\"post\" uri-template=\"/items\"><insequence><variable name=\"itemname\" expression=\"${payload.name}\" type=\"string\"/><payloadfactory media-type=\"json\"><format>{\"created\":true,\"item\":\"${vars.itemname}\"}</format></payloadfactory><respond/></insequence></resource></api>"}
{"description": "REST API implementing content negotiation by checking Accept header. Uses filter mediator to determine response format, returns JSON or XML based on client preference with appropriate media-type in payloadFactory.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/data\" name=\"contentnegotiationapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/\"><insequence><variable name=\"acceptheader\" expression=\"${headers.accept}\" type=\"string\"/><filter xpath=\"${vars.acceptheader=='application/json'}\"><then><payloadfactory media-type=\"json\"><format>{\"format\":\"json\",\"data\":\"content\"}</format></payloadfactory></then><else><payloadfactory media-type=\"xml\"><format>&lt;response&gt;&lt;format&gt;xml&lt;/format&gt;&lt;/response&gt;</format></payloadfactory></else></filter><respond/></insequence></resource></api>"}
{"description": "REST API with nested URI template capturing multiple path parameters. GET method extracts category and productId, validates parameters using filter mediator, constructs hierarchical response payload with extracted values.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/catalog\" name=\"catalogapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/{category}/products/{productid}\"><insequence><variable name=\"category\" expression=\"${params.pathparams.category}\" type=\"string\"/><variable name=\"productid\" expression=\"${params.pathparams.productid}\" type=\"string\"/><filter xpath=\"${exists(params.pathparams.category)}\"><then><payloadfactory media-type=\"json\"><format>{\"category\":\"${vars.category}\",\"productid\":\"${vars.productid}\"}</format></payloadfactory></then><else><payloadfactory media-type=\"json\"><format>{\"error\":\"invalid path\"}</format></payloadfactory></else></filter><respond/></insequence></resource></api>"}
{"description": "REST API with PUT method for complete resource replacement. Validates required fields in request payload using filter mediator, extracts multiple data fields with variable mediators, constructs comprehensive update response.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/employees\" name=\"updateemployeeapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"put\" uri-template=\"/{empid}\"><insequence><variable name=\"empid\" expression=\"${params.pathparams.empid}\" type=\"string\"/><variable name=\"name\" expression=\"${payload.name}\" type=\"string\"/><variable name=\"department\" expression=\"${payload.department}\" type=\"string\"/><filter xpath=\"${exists(payload.name) and exists(payload.department)}\"><then><payloadfactory media-type=\"json\"><format>{\"updated\":true,\"empid\":\"${vars.empid}\",\"name\":\"${vars.name}\",\"department\":\"${vars.department}\"}</format></payloadfactory></then><else><payloadfactory media-type=\"json\"><format>{\"error\":\"missing required fields\"}</format></payloadfactory></else></filter><respond/></insequence></resource></api>"}
{"description": "REST API with switch mediator for routing based on path parameter value. Multiple case statements handle different resource types, default case provides fallback response. Demonstrates conditional routing pattern.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/resources\" name=\"resourcerouterapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/{type}\"><insequence><variable name=\"resourcetype\" expression=\"${params.pathparams.type}\" type=\"string\"/><switch source=\"${vars.resourcetype}\"><case regex=\"users\"><payloadfactory media-type=\"json\"><format>{\"type\":\"users\",\"data\":[]}</format></payloadfactory></case><case regex=\"products\"><payloadfactory media-type=\"json\"><format>{\"type\":\"products\",\"data\":[]}</format></payloadfactory></case><default><payloadfactory media-type=\"json\"><format>{\"error\":\"unknown resource type\"}</format></payloadfactory></default></switch><respond/></insequence></resource></api>"}
{"description": "REST API combining path and query parameters for filtered resource retrieval. GET method extracts userId from path and multiple query filters, performs conditional validation, constructs detailed response with all extracted parameters.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/reports\" name=\"reportapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/{userid}/transactions\"><insequence><variable name=\"userid\" expression=\"${params.pathparams.userid}\" type=\"string\"/><variable name=\"startdate\" expression=\"${params.queryparams.startdate}\" type=\"string\"/><variable name=\"enddate\" expression=\"${params.queryparams.enddate}\" type=\"string\"/><variable name=\"type\" expression=\"${params.queryparams.type}\" type=\"string\"/><filter xpath=\"${exists(params.queryparams.startdate)}\"><then><payloadfactory media-type=\"json\"><format>{\"userid\":\"${vars.userid}\",\"filters\":{\"start\":\"${vars.startdate}\",\"end\":\"${vars.enddate}\",\"type\":\"${vars.type}\"}}</format></payloadfactory></then><else><payloadfactory media-type=\"json\"><format>{\"error\":\"date range required\"}</format></payloadfactory></else></filter><respond/></insequence></resource></api>"}
{"description": "REST API with POST method calling backend HTTP endpoint using HTTP connector. Extracts request data, forwards to external service with dynamic path and headers, processes response before returning to client.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/orders\" name=\"createorderapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\" uri-template=\"/\"><insequence><variable name=\"customerid\" expression=\"${payload.customerid}\" type=\"string\"/><variable name=\"amount\" expression=\"${payload.amount}\" type=\"string\"/><log category=\"info\"><message>creating order for customer: ${vars.customerid}</message></log><payloadfactory media-type=\"json\"><format>{\"customerid\":\"${vars.customerid}\",\"amount\":${vars.amount},\"status\":\"pending\"}</format></payloadfactory><respond/></insequence><faultsequence><payloadfactory media-type=\"json\"><format>{\"error\":\"order creation failed\"}</format></payloadfactory><respond/></faultsequence></resource></api>"}
{"description": "REST API implementing OPTIONS method for CORS preflight handling. Returns allowed HTTP methods, headers, and origin. Uses header mediator to set CORS response headers dynamically based on request.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/api\" name=\"corsapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"options\" uri-template=\"/*\"><insequence><header name=\"access-control-allow-origin\" value=\"*\" scope=\"transport\"/><header name=\"access-control-allow-methods\" value=\"get,post,put,delete,patch\" scope=\"transport\"/><header name=\"access-control-allow-headers\" value=\"content-type,authorization\" scope=\"transport\"/><payloadfactory media-type=\"json\"><format>{\"message\":\"cors preflight success\"}</format></payloadfactory><respond/></insequence></resource></api>"}
{"description": "REST API with resource supporting multiple HTTP methods including GET, POST, DELETE. Uses switch mediator on REST_METHOD property to route to different processing sequences, each handling method-specific logic with distinct response payloads.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/tasks\" name=\"taskapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get post delete\" uri-template=\"/{taskid}\"><insequence><variable name=\"taskid\" expression=\"${params.pathparams.taskid}\" type=\"string\"/><switch source=\"${props.synapse.rest_method}\"><case regex=\"get\"><payloadfactory media-type=\"json\"><format>{\"action\":\"retrieve\",\"taskid\":\"${vars.taskid}\"}</format></payloadfactory></case><case regex=\"post\"><payloadfactory media-type=\"json\"><format>{\"action\":\"create\",\"taskid\":\"${vars.taskid}\"}</format></payloadfactory></case><case regex=\"delete\"><payloadfactory media-type=\"json\"><format>{\"action\":\"delete\",\"taskid\":\"${vars.taskid}\"}</format></payloadfactory></case><default><payloadfactory media-type=\"json\"><format>{\"error\":\"method not allowed\"}</format></payloadfactory></default></switch><respond/></insequence></resource></api>"}
{"description": "REST API with POST method performing payload transformation and validation. Extracts nested JSON fields using Synapse expressions, validates mandatory fields with filter mediator, enriches payload with timestamp and status before responding.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/registrations\" name=\"registrationapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\" uri-template=\"/\"><insequence><variable name=\"email\" expression=\"${payload.user.email}\" type=\"string\"/><variable name=\"name\" expression=\"${payload.user.name}\" type=\"string\"/><variable name=\"phone\" expression=\"${payload.user.phone}\" type=\"string\"/><filter xpath=\"${exists(payload.user.email) and exists(payload.user.name)}\"><then><variable name=\"timestamp\" expression=\"${now()}\" type=\"string\"/><payloadfactory media-type=\"json\"><format>{\"registered\":true,\"user\":{\"email\":\"${vars.email}\",\"name\":\"${vars.name}\",\"phone\":\"${vars.phone}\"},\"timestamp\":\"${vars.timestamp}\",\"status\":\"active\"}</format></payloadfactory></then><else><payloadfactory media-type=\"json\"><format>{\"error\":\"email and name are required fields\"}</format></payloadfactory></else></filter><respond/></insequence></resource></api>"}
{"description": "REST API implementing pagination with query parameters. GET method extracts page and pageSize from query params, validates numeric values, constructs response with pagination metadata including total count and current page details.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/items\" name=\"paginateditemsapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/\"><insequence><variable name=\"page\" expression=\"${params.queryparams.page}\" type=\"string\"/><variable name=\"pagesize\" expression=\"${params.queryparams.pagesize}\" type=\"string\"/><filter xpath=\"${exists(params.queryparams.page)}\"><then><variable name=\"offset\" expression=\"${integer(vars.page) * integer(vars.pagesize)}\" type=\"integer\"/><payloadfactory media-type=\"json\"><format>{\"items\":[],\"pagination\":{\"page\":${vars.page},\"pagesize\":${vars.pagesize},\"offset\":${vars.offset},\"total\":100}}</format></payloadfactory></then><else><payloadfactory media-type=\"json\"><format>{\"items\":[],\"pagination\":{\"page\":1,\"pagesize\":10,\"total\":100}}</format></payloadfactory></else></filter><respond/></insequence></resource></api>"}
{"description": "Complex REST API with multiple resources implementing CRUD operations. Separate resources for list, create, retrieve, update, delete with appropriate HTTP methods. Each resource extracts parameters, performs validation, logs actions, and constructs method-specific responses with error handling.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/products\" name=\"productcrudapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/\"><insequence><variable name=\"category\" expression=\"${params.queryparams.category}\" type=\"string\"/><log category=\"info\"><message>listing products, category: ${vars.category}</message></log><payloadfactory media-type=\"json\"><format>{\"products\":[],\"category\":\"${vars.category}\"}</format></payloadfactory><respond/></insequence></resource><resource methods=\"post\" uri-template=\"/\"><insequence><variable name=\"name\" expression=\"${payload.name}\" type=\"string\"/><variable name=\"price\" expression=\"${payload.price}\" type=\"string\"/><filter xpath=\"${exists(payload.name)}\"><then><payloadfactory media-type=\"json\"><format>{\"created\":true,\"id\":\"p123\",\"name\":\"${vars.name}\",\"price\":${vars.price}}</format></payloadfactory></then><else><payloadfactory media-type=\"json\"><format>{\"error\":\"name required\"}</format></payloadfactory></else></filter><respond/></insequence></resource><resource methods=\"get put delete\" uri-template=\"/{productid}\"><insequence><variable name=\"productid\" expression=\"${params.pathparams.productid}\" type=\"string\"/><switch source=\"${props.synapse.rest_method}\"><case regex=\"get\"><payloadfactory media-type=\"json\"><format>{\"product\":{\"id\":\"${vars.productid}\",\"name\":\"sample\"}}</format></payloadfactory></case><case regex=\"put\"><payloadfactory media-type=\"json\"><format>{\"updated\":true,\"id\":\"${vars.productid}\"}</format></payloadfactory></case><case regex=\"delete\"><payloadfactory media-type=\"json\"><format>{\"deleted\":true,\"id\":\"${vars.productid}\"}</format></payloadfactory></case></switch><respond/></insequence></resource></api>"}
{"description": "REST API with advanced query parameter filtering and sorting. GET method extracts multiple filter criteria including search term, status, sortBy, and order. Constructs complex query object in response with validation of allowed sort fields and direction.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/search\" name=\"searchapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"/\"><insequence><variable name=\"query\" expression=\"${params.queryparams.q}\" type=\"string\"/><variable name=\"status\" expression=\"${params.queryparams.status}\" type=\"string\"/><variable name=\"sortby\" expression=\"${params.queryparams.sortby}\" type=\"string\"/><variable name=\"order\" expression=\"${params.queryparams.order}\" type=\"string\"/><variable name=\"limit\" expression=\"${params.queryparams.limit}\" type=\"string\"/><filter xpath=\"${exists(params.queryparams.q)}\"><then><variable name=\"sortfield\" expression=\"${vars.sortby==null ? 'createdat' : vars.sortby}\" type=\"string\"/><variable name=\"sortorder\" expression=\"${vars.order==null ? 'desc' : vars.order}\" type=\"string\"/><payloadfactory media-type=\"json\"><format>{\"results\":[],\"query\":\"${vars.query}\",\"filters\":{\"status\":\"${vars.status}\"},\"sort\":{\"field\":\"${vars.sortfield}\",\"order\":\"${vars.sortorder}\"},\"limit\":${vars.limit}}</format></payloadfactory></then><else><payloadfactory media-type=\"json\"><format>{\"error\":\"search query required\"}</format></payloadfactory></else></filter><respond/></insequence></resource></api>"}
{"description": "Scheduled task that triggers every 5 minutes using a simple trigger to execute a sequence that logs system health status and sends notification to monitoring endpoint using HTTP connector", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"healthchecktask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger interval=\"300\"/><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"healthchecksequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Cron-based scheduled task executing daily at midnight to trigger batch processing sequence for data synchronization with external CRM system using custom message format and interval counting", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"dailycrmsynctask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger cron=\"0 0 0 * * ?\"/><property name=\"message\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"><syncrequest xmlns=\"\"><timestamp>daily</timestamp></syncrequest></property><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"crmbatchsyncsequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Simple trigger task running every 30 seconds to inject message into proxy service for real-time inventory level monitoring and alert generation with JSON payload format", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"inventorymonitortask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger interval=\"30\"/><property name=\"message\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"><inventorycheck xmlns=\"\"><checktype>realtime</checktype></inventorycheck></property><property name=\"injectto\" value=\"proxy\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"proxyname\" value=\"inventorymonitorproxy\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Hourly cron scheduled task at 15 minutes past each hour triggering API endpoint for automated report generation and distribution to stakeholders via sequence execution", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"hourlyreporttask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger cron=\"0 15 * * * ?\"/><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"reportgenerationsequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Interval-based task executing every 10 minutes to trigger database cleanup sequence removing expired session records and temporary data using dbreport mediator with transaction management", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"dbcleanuptask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger interval=\"600\"/><property name=\"message\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"><cleanuprequest xmlns=\"\"><action>purgeexpired</action></cleanuprequest></property><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"databasecleanupsequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Weekly scheduled task using cron expression to execute every Monday at 8 AM for triggering comprehensive system backup sequence with file operations and archival processing", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"weeklybackuptask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger cron=\"0 0 8 ? * mon\"/><property name=\"message\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"><backuprequest xmlns=\"\"><type>weekly</type><schedule>monday</schedule></backuprequest></property><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"systembackupsequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Scheduled task running every 2 hours using simple trigger to synchronize customer data between internal database and external cloud service via sequence with HTTP connector and data transformation", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"customersynctask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger interval=\"7200\"/><property name=\"message\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"><syncrequest xmlns=\"\"><entity>customer</entity><direction>bidirectional</direction></syncrequest></property><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"customerdatasyncsequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Cron scheduled task executing on first day of every month at 1 AM for monthly billing aggregation and invoice generation triggering sequence with database operations and email notifications", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"monthlybillingtask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger cron=\"0 0 1 1 * ?\"/><property name=\"message\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"><billingrequest xmlns=\"\"><period>monthly</period><generateinvoices>true</generateinvoices></billingrequest></property><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"monthlybillingsequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Simple trigger task with 15-minute interval injecting messages to API for periodic cache refresh and content delivery network synchronization with REST endpoint invocation pattern", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"cacherefreshtask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger interval=\"900\"/><property name=\"message\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"><refreshrequest xmlns=\"\"><cachetype>cdn</cachetype></refreshrequest></property><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"cacherefreshsequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Daily cron task at 3 AM triggering data warehouse ETL process via sequence including database lookup, data transformation with payloadFactory, and batch insert operations for analytics", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"dailyetltask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger cron=\"0 0 3 * * ?\"/><property name=\"message\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"><etlrequest xmlns=\"\"><source>operational</source><target>warehouse</target><processtype>incremental</processtype></etlrequest></property><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"etlprocesssequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Scheduled task with 5-minute simple trigger for order processing queue monitoring injecting message to sequence that checks pending orders, validates inventory, and updates order status via database operations", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"orderqueuetask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger interval=\"300\"/><property name=\"message\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"><queuecheck xmlns=\"\"><queuename>pendingorders</queuename><action>processnext</action></queuecheck></property><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"orderprocessingsequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Cron expression task running every weekday at 6 PM to trigger end-of-day reconciliation process with sequence executing financial calculations, transaction validation, and discrepancy reporting via multiple mediators", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"eodreconciliationtask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger cron=\"0 0 18 ? * mon-fri\"/><property name=\"message\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"><reconciliationrequest xmlns=\"\"><period>daily</period><includetransactions>true</includetransactions></reconciliationrequest></property><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"reconciliationsequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Interval-based task executing every hour to trigger API rate limit reset sequence updating Redis cache counters and synchronizing rate limiting metadata across distributed nodes using connector operations", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"ratelimitresettask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger interval=\"3600\"/><property name=\"message\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"><resetrequest xmlns=\"\"><resource>ratelimits</resource><action>resetcounters</action></resetrequest></property><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"ratelimitresetsequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Scheduled task with cron trigger every 6 hours for automated security token rotation injecting message to sequence that generates new tokens, updates vault secrets, and notifies dependent services via HTTP calls", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"tokenrotationtask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger cron=\"0 0 0/6 * * ?\"/><property name=\"message\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"><rotationrequest xmlns=\"\"><tokentype>serviceaccount</tokentype><rotationtype>automatic</rotationtype></rotationrequest></property><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"tokenrotationsequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Simple trigger task every 20 minutes for log aggregation and analysis triggering sequence with file connector operations to collect logs, transform with XSLT, and send aggregated data to monitoring dashboard", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"logaggregationtask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger interval=\"1200\"/><property name=\"message\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"><aggregationrequest xmlns=\"\"><logtype>application</logtype><timewindow>20</timewindow></aggregationrequest></property><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"logaggregationsequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Cron scheduled task on 15th of each month at 10 AM for subscription renewal processing executing sequence with database queries, payment gateway integration, email connector for notifications, and audit logging", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"subscriptionrenewaltask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger cron=\"0 0 10 15 * ?\"/><property name=\"message\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"><renewalrequest xmlns=\"\"><billingcycle>monthly</billingcycle><autorenew>true</autorenew></renewalrequest></property><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"subscriptionrenewalsequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Interval task every 45 seconds triggering real-time stock price update sequence with HTTP connector to fetch market data, enrich mediator to add metadata, cache update, and broadcast to WebSocket subscribers", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"stockpriceupdatetask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger interval=\"45\"/><property name=\"message\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"><priceupdate xmlns=\"\"><symbols>aapl,googl,msft</symbols><frequency>realtime</frequency></priceupdate></property><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"stockpriceupdatesequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Daily cron task at 2 AM for automated database backup triggering sequence with dblookup for metadata, script mediator for compression logic, file connector for storage, and email notification on completion", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"databasebackuptask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger cron=\"0 0 2 * * ?\"/><property name=\"message\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"><backuprequest xmlns=\"\"><databases>production,staging</databases><compression>true</compression><retention>30</retention></backuprequest></property><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"databasebackupsequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Scheduled task with 10-minute interval for API health check executing sequence with scatter-gather to ping multiple endpoints, aggregate responses, filter for failures, log warnings, and update service registry status", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"apihealthchecktask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger interval=\"600\"/><property name=\"message\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"><healthcheck xmlns=\"\"><endpoints>payment,inventory,shipping,notification</endpoints><timeout>5000</timeout></healthcheck></property><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"apihealthchecksequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Cron task every Sunday at midnight for weekly sales report generation triggering complex sequence with database aggregation queries, data transformation using datamapper, PDF generation, cloud storage upload, and stakeholder email distribution", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><task class=\"org.apache.synapse.startup.tasks.messageinjector\" group=\"synapse.simple.quartz\" name=\"weeklysalesreporttask\" xmlns=\"http://ws.apache.org/ns/synapse\"><trigger cron=\"0 0 0 ? * sun\"/><property name=\"message\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"><reportrequest xmlns=\"\"><reporttype>weeklysales</reporttype><format>pdf</format><distribution>email,storage</distribution><recipients>management@company.com</recipients></reportrequest></property><property name=\"injectto\" value=\"sequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/><property name=\"sequencename\" value=\"weeklysalesreportsequence\" xmlns:task=\"http://www.wso2.org/products/wso2commons/tasks\"/></task>"}
{"description": "Named sequence for logging incoming requests with HTTP method, URI, and timestamp using INFO category. Implements reusable logging pattern for request auditing across multiple API resources.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"requestloggersequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><log category=\"info\"><message>request received - method: ${props.synapse.rest_method}, uri: ${props.synapse.rest_url_postfix}, timestamp: ${now()}</message></log></sequence>"}
{"description": "Local entry storing HTTP connector initialization configuration for external product service with basic authentication, 30 second timeout, and retry policy with 3 attempts on 500 errors.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><localentry key=\"productserviceconn\" xmlns=\"http://ws.apache.org/ns/synapse\"><http.init><connectiontype>https</connectiontype><baseurl>https://api.products.example.com</baseurl><authtype>basic auth</authtype><basiccredentialsusername>apiuser</basiccredentialsusername><basiccredentialspassword>prod@2024pass</basiccredentialspassword><timeoutduration>30</timeoutduration><retryerrorcodes>500,502,503</retryerrorcodes><retrycount>3</retrycount><retrydelay>2</retrydelay><name>productserviceconn</name></http.init></localentry>"}
{"description": "Sequence template with mandatory firstName and lastName parameters. Constructs welcome message using function parameters and logs to INFO category for customer greeting workflows.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><template name=\"customerwelcometemplate\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter ismandatory=\"true\" name=\"firstname\"/><parameter ismandatory=\"true\" name=\"lastname\"/><sequence><log category=\"info\"><message>welcome ${params.functionparams.firstname} ${params.functionparams.lastname} to our service</message></log></sequence></template>"}
{"description": "Error handling sequence with custom fault logging that captures error code, message, and detail. Constructs JSON error response payload with status false and timestamp before sending respond mediator.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"customerrorhandler\" xmlns=\"http://ws.apache.org/ns/synapse\"><log category=\"error\"><message>error occurred - code: ${props.synapse.error_code}, message: ${props.synapse.error_message}, detail: ${props.synapse.error_detail}</message></log><payloadfactory media-type=\"json\"><format>{\"status\":false,\"error\":\"${props.synapse.error_message}\",\"timestamp\":\"${now()}\"}</format></payloadfactory><respond/></sequence>"}
{"description": "Reusable sequence for payload validation checking required fields userId and amount exist. Uses filter mediator with Synapse expressions and throws PAYLOAD_ERROR if validation fails.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"payloadvalidationsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><filter xpath=\"${exists(payload.userid) and exists(payload.amount)}\"><then><log category=\"info\"><message>payload validation successful</message></log></then><else><throwerror type=\"payload_error\" errormessage=\"required fields userid and amount are missing\"/></else></filter></sequence>"}
{"description": "Local entry storing database connection pool configuration for MySQL order management system with driver, JDBC URL, credentials, and connection pool properties for transaction processing.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><localentry key=\"orderdbconfig\" xmlns=\"http://ws.apache.org/ns/synapse\"><dblookup><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/orderdb</url><user>dbadmin</user><password>dbpass@2024</password><property name=\"maxactive\" value=\"50\"/><property name=\"maxidle\" value=\"10\"/><property name=\"minidle\" value=\"5\"/></pool></connection></dblookup></localentry>"}
{"description": "Template for enriching payload with correlation ID and processing timestamp. Accepts correlationId parameter and adds metadata fields using enrich mediator before continuing message flow.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><template name=\"enrichwithmetadatatemplate\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter ismandatory=\"true\" name=\"correlationid\"/><sequence><variable name=\"correlationid\" expression=\"${params.functionparams.correlationid}\" type=\"string\"/><variable name=\"timestamp\" expression=\"${now()}\" type=\"string\"/><enrich><source type=\"inline\" clone=\"true\"><metadata xmlns=\"\"><correlationid>${vars.correlationid}</correlationid><timestamp>${vars.timestamp}</timestamp></metadata></source><target type=\"body\" action=\"child\"/></enrich></sequence></template>"}
{"description": "Modular sequence for authentication token validation. Extracts Authorization header, validates bearer token format using filter mediator, and sets authenticated user variable for downstream processing.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"tokenvalidationsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"authheader\" expression=\"${headers['authorization']}\" type=\"string\"/><filter xpath=\"${startswith(vars.authheader, 'bearer ')}\"><then><variable name=\"token\" expression=\"${substring(vars.authheader, 7)}\" type=\"string\"/><variable name=\"isauthenticated\" value=\"true\" type=\"string\"/><log category=\"info\"><message>token validation successful</message></log></then><else><throwerror type=\"auth_error\" errormessage=\"invalid authorization header format\"/></else></filter></sequence>"}
{"description": "Sequence template implementing retry logic pattern with attempts and delay parameters. Uses loopback mediator for retry mechanism and logs retry attempts for monitoring failed service calls.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><template name=\"retrytemplate\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter ismandatory=\"true\" name=\"maxretries\"/><parameter ismandatory=\"true\" name=\"delayseconds\"/><sequence><variable name=\"retrycount\" expression=\"${params.functionparams.maxretries}\" type=\"integer\"/><variable name=\"delay\" expression=\"${params.functionparams.delayseconds}\" type=\"integer\"/><log category=\"info\"><message>retry configured - max attempts: ${vars.retrycount}, delay: ${vars.delay}s</message></log></sequence></template>"}
{"description": "Named sequence for response transformation converting backend XML to JSON format. Uses payloadFactory mediator to construct standardized JSON response structure with status and data fields.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"xmltojsontransformsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"responsedata\" expression=\"${xpath('//result/text()')}\" type=\"string\"/><payloadfactory media-type=\"json\"><format>{\"status\":\"success\",\"data\":\"${vars.responsedata}\",\"timestamp\":\"${now()}\"}</format></payloadfactory><log category=\"info\"><message>response transformed to json</message></log></sequence>"}
{"description": "Local entry for Redis connector configuration with host localhost, port 6379, connection timeout, and pool settings. Stores reusable cache connection parameters for session management integration.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><localentry key=\"redisconfig\" xmlns=\"http://ws.apache.org/ns/synapse\"><redis.init><redishost>localhost</redishost><redisport>6379</redisport><connectiontimeout>5000</connectiontimeout><maxconnections>20</maxconnections><maxidleconnections>5</maxidleconnections><name>redisconfig</name></redis.init></localentry>"}
{"description": "Complex sequence implementing scatter-gather pattern for parallel service calls. Aggregates responses from inventory and pricing services using scatter-gather mediator with JSON result aggregation and timeout handling.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"parallelaggregationsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><scatter-gather parallel-execution=\"true\" target=\"body\" result-content-type=\"json\"><aggregation expression=\"${payload}\" timeout=\"10000\"/><sequence><http.get configkey=\"inventoryserviceconn\"><relativepath>/api/stock/${vars.productid}</relativepath><headers>[]</headers></http.get></sequence><sequence><http.get configkey=\"pricingserviceconn\"><relativepath>/api/price/${vars.productid}</relativepath><headers>[]</headers></http.get></sequence></scatter-gather></sequence>"}
{"description": "Template for conditional routing based on message priority parameter. Uses switch mediator to route high priority to express queue and normal to standard queue with appropriate logging.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><template name=\"priorityroutingtemplate\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter ismandatory=\"true\" name=\"priority\"/><sequence><variable name=\"msgpriority\" expression=\"${params.functionparams.priority}\" type=\"string\"/><switch source=\"${vars.msgpriority}\"><case regex=\"high\"><log category=\"info\"><message>routing to express queue</message></log><sequence key=\"expressqueuesequence\"/></case><default><log category=\"info\"><message>routing to standard queue</message></log><sequence key=\"standardqueuesequence\"/></default></switch></sequence></template>"}
{"description": "Reusable database lookup sequence querying customer details by ID. Uses dblookup mediator with parameterized SQL, stores results in variables, and logs retrieved customer information for downstream processing.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"customerlookupsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><dblookup><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/customerdb</url><user>appuser</user><password>app@pass123</password></pool></connection><statement><sql>select name, email from customers where id=?</sql><parameter expression=\"${vars.customerid}\" type=\"integer\"/><result name=\"customername\" column=\"name\"/><result name=\"customeremail\" column=\"email\"/></statement></dblookup><log category=\"info\"><message>customer retrieved: ${vars.customername}</message></log></sequence>"}
{"description": "Local entry storing API key and endpoint constants for third-party payment gateway integration. Defines baseUrl, merchantId, and apiKey as reusable configuration values for payment processing sequences.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><localentry key=\"paymentgatewayconstants\" xmlns=\"http://ws.apache.org/ns/synapse\"><constants><baseurl>https://api.paymentgateway.com/v2</baseurl><merchantid>merch_987654</merchantid><apikey>pk_live_abcdef123456789xyz</apikey><timeout>15000</timeout><currency>usd</currency></constants></localentry>"}
{"description": "Sequence implementing request throttling check using filter mediator. Validates request count against threshold, logs warning for exceeded limits, and throws error to enforce rate limiting policy.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"ratelimitchecksequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"requestcount\" expression=\"${vars.currentrequests}\" type=\"integer\"/><variable name=\"maxrequests\" value=\"100\" type=\"integer\"/><filter xpath=\"${vars.requestcount> vars.maxrequests}\"><then><log category=\"warn\"><message>rate limit exceeded: ${vars.requestcount} requests</message></log><throwerror type=\"throttle_error\" errormessage=\"rate limit of ${vars.maxrequests} requests exceeded\"/></then><else><log category=\"info\"><message>request count within limits: ${vars.requestcount}</message></log></else></filter></sequence>"}
{"description": "Template for data enrichment calling external service with userId parameter. Performs HTTP GET request, extracts user profile data, enriches payload with additional fields, and returns augmented message.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><template name=\"userenrichmenttemplate\" xmlns=\"http://ws.apache.org/ns/synapse\"><parameter ismandatory=\"true\" name=\"userid\"/><sequence><variable name=\"userid\" expression=\"${params.functionparams.userid}\" type=\"string\"/><http.get configkey=\"userserviceconn\"><relativepath>/api/users/${vars.userid}</relativepath><headers>[[\"accept\",\"application/json\"]]</headers></http.get><variable name=\"username\" expression=\"${payload.name}\" type=\"string\"/><variable name=\"useremail\" expression=\"${payload.email}\" type=\"string\"/><log category=\"info\"><message>user enriched: ${vars.username}</message></log></sequence></template>"}
{"description": "Named sequence for audit logging writing transaction records to database. Uses dbreport mediator with INSERT statement capturing transactionId, userId, action, and timestamp for compliance tracking.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"auditlogsequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"transactionid\" expression=\"${vars.txnid}\" type=\"string\"/><variable name=\"userid\" expression=\"${vars.userid}\" type=\"string\"/><variable name=\"action\" expression=\"${vars.action}\" type=\"string\"/><dbreport><connection><pool><driver>com.mysql.jdbc.driver</driver><url>jdbc:mysql://localhost:3306/auditdb</url><user>audituser</user><password>audit@2024</password></pool></connection><statement><sql>insert into audit_log (transaction_id, user_id, action, timestamp) values (?, ?, ?, now())</sql><parameter expression=\"${vars.transactionid}\" type=\"varchar\"/><parameter expression=\"${vars.userid}\" type=\"varchar\"/><parameter expression=\"${vars.action}\" type=\"varchar\"/></statement></dbreport></sequence>"}
{"description": "Comprehensive integration sequence orchestrating multi-step order processing workflow. Validates payload, enriches with customer data via template call, performs inventory check, creates order record, and returns confirmation response.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"orderprocessingworkflow\" xmlns=\"http://ws.apache.org/ns/synapse\"><sequence key=\"payloadvalidationsequence\"/><variable name=\"orderid\" expression=\"${payload.orderid}\" type=\"string\"/><variable name=\"customerid\" expression=\"${payload.customerid}\" type=\"string\"/><call-template target=\"userenrichmenttemplate\"><with-param name=\"userid\" value=\"{${vars.customerid}}\"/></call-template><http.post configkey=\"inventoryserviceconn\"><relativepath>/api/inventory/check</relativepath><headers>[[\"content-type\",\"application/json\"]]</headers><requestbodytype>json</requestbodytype><requestbodyjson>${payload}</requestbodyjson></http.post><sequence key=\"auditlogsequence\"/><payloadfactory media-type=\"json\"><format>{\"orderid\":\"${vars.orderid}\",\"status\":\"confirmed\",\"message\":\"order processed successfully\"}</format></payloadfactory><respond/></sequence>"}
{"description": "Local entry containing SMTP email server configuration for notification sequences. Stores host, port, authentication credentials, and SSL settings for reusable email integration across multiple notification workflows.", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><localentry key=\"emailserverconfig\" xmlns=\"http://ws.apache.org/ns/synapse\"><email.init><host>smtp.gmail.com</host><port>587</port><username>notifications@company.com</username><password>emailpass@2024</password><enablestarttls>true</enablestarttls><enablessl>false</enablessl><fromaddress>noreply@company.com</fromaddress><name>emailserverconfig</name></email.init></localentry>"}
{"description": "Log mediator configuration using INFO category to output a simple message with string concatenation of user name from JSON payload using Synapse expression syntax", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><log category=\"info\" xmlns=\"http://ws.apache.org/ns/synapse\"><message>user authentication request received for ${payload.user.name}</message></log>"}
{"description": "Variable mediator storing string value for API endpoint URL configuration that can be referenced in subsequent mediators using vars namespace", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><variable name=\"apiendpoint\" value=\"https://api.example.com/v1/users\" type=\"string\" xmlns=\"http://ws.apache.org/ns/synapse\"/>"}
{"description": "Variable mediator extracting integer user ID from JSON payload using Synapse expression and storing as INTEGER type for numeric operations", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><variable name=\"userid\" expression=\"${payload.user.id}\" type=\"integer\" xmlns=\"http://ws.apache.org/ns/synapse\"/>"}
{"description": "Log mediator with ERROR category logging fault details including error code and error message from synapse properties for debugging failed transactions", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><log category=\"error\" xmlns=\"http://ws.apache.org/ns/synapse\"><message>transaction failed - code: ${props.synapse.error_code}, message: ${props.synapse.error_message}</message></log>"}
{"description": "Variable mediator storing complete JSON object from payload user data section as JSON type for downstream processing and transformation", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><variable name=\"userdataobject\" expression=\"${payload.user.data}\" type=\"json\" xmlns=\"http://ws.apache.org/ns/synapse\"/>"}
{"description": "Log mediator with DEBUG category showing request method from synapse properties and content type header for API request tracing", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><log category=\"debug\" xmlns=\"http://ws.apache.org/ns/synapse\"><message>request method: ${props.synapse.rest_method}, content-type: ${headers[\"content-type\"]}</message></log>"}
{"description": "API resource using variable mediator to extract query parameter value and log mediator to output the parameter for request validation and tracking", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/users\" name=\"userapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"get\" uri-template=\"?status={status}\"><insequence><variable name=\"userstatus\" expression=\"${params.queryparams.status}\" type=\"string\"/><log category=\"info\"><message>fetching users with status: ${vars.userstatus}</message></log></insequence></resource></api>"}
{"description": "Sequence storing configuration value, extracting email from payload, logging with WARN category, and using conditional expression to validate email existence", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"emailvalidationseq\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"defaultemail\" value=\"noreply@example.com\" type=\"string\"/><variable name=\"useremail\" expression=\"${payload.contact.email}\" type=\"string\"/><log category=\"warn\"><message>email validation: ${exists(vars.useremail) ? vars.useremail : vars.defaultemail}</message></log></sequence>"}
{"description": "Variable mediator calculating total price by multiplying quantity and unit price from JSON payload using arithmetic expression syntax with integer conversion", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><variable name=\"totalprice\" expression=\"${integer(payload.quantity) * integer(payload.unitprice)}\" type=\"integer\" xmlns=\"http://ws.apache.org/ns/synapse\"/>"}
{"description": "Log mediator with INFO category displaying transaction details including transaction ID from payload and timestamp using now function in Synapse expression", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><log category=\"info\" xmlns=\"http://ws.apache.org/ns/synapse\"><message>transaction ${payload.transactionid} processed at ${formatdatetime(now(), \"yyyy-mm-dd hh:mm:ss\")}</message></log>"}
{"description": "Variable mediator using ternary operator to set status based on age validation from payload, checking if user is adult or minor for authorization logic", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><variable name=\"userstatus\" expression=\"${payload.age>=18 ? 'adult' : 'minor'}\" type=\"string\" xmlns=\"http://ws.apache.org/ns/synapse\"/>"}
{"description": "Sequence storing authentication token from header, user role from payload, logging with INFO category, and validating admin access using logical AND expression", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"authvalidationseq\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"authtoken\" expression=\"${headers.authorization}\" type=\"string\"/><variable name=\"userrole\" expression=\"${payload.user.role}\" type=\"string\"/><log category=\"info\"><message>admin access: ${exists(vars.authtoken) and vars.userrole=='admin'}</message></log></sequence>"}
{"description": "API resource extracting path parameter customer ID, storing order count from payload, logging transaction with DEBUG level, and computing eligibility status using comparison expression", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/orders\" name=\"orderapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\" uri-template=\"/{customerid}\"><insequence><variable name=\"customerid\" expression=\"${params.pathparams.customerid}\" type=\"string\"/><variable name=\"ordercount\" expression=\"${payload.totalorders}\" type=\"integer\"/><log category=\"debug\"><message>customer ${vars.customerid} has ${vars.ordercount} orders</message></log><variable name=\"ispremium\" expression=\"${vars.ordercount> 10}\" type=\"boolean\"/></insequence></resource></api>"}
{"description": "Variable mediator converting string amount to double type, calculating discount percentage, and storing final discounted price using nested arithmetic operations in Synapse expression", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"discountcalculation\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"originalamount\" expression=\"${float(payload.price)}\" type=\"double\"/><variable name=\"discountrate\" value=\"0.15\" type=\"double\"/><variable name=\"finalamount\" expression=\"${vars.originalamount - (vars.originalamount * vars.discountrate)}\" type=\"double\"/></sequence>"}
{"description": "Log mediator with FATAL category for critical system errors, displaying error details from synapse properties, exception message, and request URI for incident management", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><log category=\"fatal\" xmlns=\"http://ws.apache.org/ns/synapse\"><message>critical error - code: ${props.synapse.error_code}, exception: ${props.synapse.error_exception}, uri: ${props.synapse.rest_url_postfix}</message></log>"}
{"description": "Variable mediator using string manipulation functions to extract username substring, convert to uppercase, and concatenate with domain suffix for email generation", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><variable name=\"generatedemail\" expression=\"${toupper(substring(payload.username, 0, 3)) + '@company.com'}\" type=\"string\" xmlns=\"http://ws.apache.org/ns/synapse\"/>"}
{"description": "Sequence implementing JSONPath filtering to extract high-value orders, storing result array, logging count with INFO level, and validating minimum order threshold using length function", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"filterhighvalueorders\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"highvalueorders\" expression=\"${payload.orders[?(@.amount> 1000)]}\" type=\"json\"/><log category=\"info\"><message>found ${length(vars.highvalueorders)} high-value orders exceeding threshold</message></log><variable name=\"meetsminimum\" expression=\"${length(vars.highvalueorders)>=5}\" type=\"boolean\"/></sequence>"}
{"description": "API resource with comprehensive request logging using multiple variables to capture client IP from axis2 properties, request timestamp, payload size using length function, and transaction correlation ID from header for audit trail", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><api context=\"/transactions\" name=\"transactionapi\" xmlns=\"http://ws.apache.org/ns/synapse\"><resource methods=\"post\"><insequence><variable name=\"clientip\" expression=\"${props.axis2.remote_addr}\" type=\"string\"/><variable name=\"requesttime\" expression=\"${formatdatetime(now(), 'yyyy-mm-dd hh:mm:ss')}\" type=\"string\"/><variable name=\"payloadsize\" expression=\"${length(string(payload))}\" type=\"integer\"/><variable name=\"correlationid\" expression=\"${headers['x-correlation-id']}\" type=\"string\"/><log category=\"info\"><message>request from ${vars.clientip} at ${vars.requesttime}, size: ${vars.payloadsize} bytes, correlationid: ${vars.correlationid}</message></log></insequence></resource></api>"}
{"description": "Complex sequence extracting nested customer data from payload, computing loyalty points with bonus multiplier, formatting account balance with round function, and logging comprehensive customer profile with DEBUG category including all calculated metrics", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"customerprofileprocessing\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"customerid\" expression=\"${payload.customer.profile.id}\" type=\"string\"/><variable name=\"purchaseamount\" expression=\"${float(payload.transaction.amount)}\" type=\"double\"/><variable name=\"basepoints\" expression=\"${ceil(vars.purchaseamount * 0.1)}\" type=\"integer\"/><variable name=\"bonusmultiplier\" expression=\"${payload.customer.tier=='gold' ? 1.5 : 1.0}\" type=\"double\"/><variable name=\"totalpoints\" expression=\"${integer(vars.basepoints * vars.bonusmultiplier)}\" type=\"integer\"/><variable name=\"accountbalance\" expression=\"${round(vars.purchaseamount, 2)}\" type=\"double\"/><log category=\"debug\"><message>customer ${vars.customerid}: amount=${vars.accountbalance}, points=${vars.totalpoints}, tier=${payload.customer.tier}</message></log></sequence>"}
{"description": "Fault sequence with comprehensive error handling extracting error details from synapse properties, storing error timestamp, formatting error response JSON structure, logging with ERROR category, and preparing detailed fault message with correlation ID from transport headers for troubleshooting", "reply": "<?xml version=\"1.0\" encoding=\"utf-8\"?><sequence name=\"errorhandlersequence\" xmlns=\"http://ws.apache.org/ns/synapse\"><variable name=\"errorcode\" expression=\"${props.synapse.error_code}\" type=\"string\"/><variable name=\"errormessage\" expression=\"${props.synapse.error_message}\" type=\"string\"/><variable name=\"errortimestamp\" expression=\"${formatdatetime(now(), 'yyyy-mm-dd hh:mm:ss.sss')}\" type=\"string\"/><variable name=\"correlationid\" expression=\"${headers['x-request-id']}\" type=\"string\"/><log category=\"error\"><message>error occurred - code: ${vars.errorcode}, message: ${vars.errormessage}, time: ${vars.errortimestamp}, requestid: ${vars.correlationid}</message></log><payloadfactory media-type=\"json\"><format>{\"error\":{\"code\":\"${vars.errorcode}\",\"message\":\"${vars.errormessage}\",\"timestamp\":\"${vars.errortimestamp}\"}}</format></payloadfactory></sequence>"}
